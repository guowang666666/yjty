window.__require=function t(e,a,i){function r(s,o){if(!a[s]){if(!e[s]){var l=s.split("/");if(l=l[l.length-1],!e[l]){var g="function"==typeof __require&&__require;if(!o&&g)return g(l,!0);if(n)return n(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var c=a[s]={exports:{}};e[s][0].call(c.exports,function(t){return r(e[s][1][t]||t)},c,c.exports,t,e,a,i)}return a[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,a){"use strict";cc._RF.push(e,"4a61cs1aORFxrDU78Hv/V19","1");var i=a;i.byteLength=function(t){var e=c(t),a=e[0],i=e[1];return 3*(a+i)/4-i},i.toByteArray=function(t){var e,a,i=c(t),r=i[0],o=i[1],l=new s(h(0,r,o)),g=0,_=o>0?r-4:r;for(a=0;a<_;a+=4)e=n[t.charCodeAt(a)]<<18|n[t.charCodeAt(a+1)]<<12|n[t.charCodeAt(a+2)]<<6|n[t.charCodeAt(a+3)],l[g++]=e>>16&255,l[g++]=e>>8&255,l[g++]=255&e;return 2===o&&(e=n[t.charCodeAt(a)]<<2|n[t.charCodeAt(a+1)]>>4,l[g++]=255&e),1===o&&(e=n[t.charCodeAt(a)]<<10|n[t.charCodeAt(a+1)]<<4|n[t.charCodeAt(a+2)]>>2,l[g++]=e>>8&255,l[g++]=255&e),l},i.fromByteArray=function(t){for(var e,a=t.length,i=a%3,n=[],s=0,o=a-i;s<o;s+=16383)n.push(u(t,s,s+16383>o?o:s+16383));return 1===i?(e=t[a-1],n.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[a-2]<<8)+t[a-1],n.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),n.join("")};for(var r=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,g=o.length;l<g;++l)r[l]=o[l],n[o.charCodeAt(l)]=l;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.indexOf("=");return-1===a&&(a=e),[a,a===e?0:4-a%4]}function h(t,e,a){return 3*(e+a)/4-a}function _(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function u(t,e,a){for(var i,r=[],n=e;n<a;n+=3)i=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(255&t[n+2]),r.push(_(i));return r.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63,cc._RF.pop()},{}],2:[function(t,e,a){(function(i){"use strict";cc._RF.push(e,"2046b53R9lG4pa4TxgNecF5","2");var r=t,n=a;(function(t){var e=r("1"),a=r("4"),i=r("3");function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,a){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,a);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return _(this,t)}return g(this,t,e,a)}function g(t,e,a,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,a,i):"string"==typeof e?u(t,e,a):p(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,a,i){return c(e),e<=0?o(t,e):void 0!==a?"string"==typeof i?o(t,e).fill(a,i):o(t,e).fill(a):o(t,e)}function _(t,e){if(c(e),t=o(t,e<0?0:0|m(e)),!l.TYPED_ARRAY_SUPPORT)for(var a=0;a<e;++a)t[a]=0;return t}function u(t,e,a){if("string"==typeof a&&""!==a||(a="utf8"),!l.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(e,a),r=(t=o(t,i)).write(e,a);return r!==i&&(t=t.slice(0,r)),t}function d(t,e){var a=e.length<0?0:0|m(e.length);t=o(t,a);for(var i=0;i<a;i+=1)t[i]=255&e[i];return t}function f(t,e,a,i){if(e.byteLength,a<0||e.byteLength<a)throw new RangeError("'offset' is out of bounds");if(e.byteLength<a+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===a&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,a):new Uint8Array(e,a,i),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e),t}function p(t,e){if(l.isBuffer(e)){var a=0|m(e.length);return 0===(t=o(t,a)).length?t:(e.copy(t,0,0,a),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||$(e.length)?o(t,0):d(t,e);if("Buffer"===e.type&&i(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function v(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var a=t.length;if(0===a)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return K(t).length;default:if(i)return Y(t).length;e=(""+e).toLowerCase(),i=!0}}function D(t,e,a){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if((a>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,a);case"utf8":case"utf-8":return x(this,e,a);case"ascii":return j(this,e,a);case"latin1":case"binary":return E(this,e,a);case"base64":return S(this,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,a);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function C(t,e,a){var i=t[e];t[e]=t[a],t[a]=i}function A(t,e,a,i,r){if(0===t.length)return-1;if("string"==typeof a?(i=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=r?0:t.length-1),a<0&&(a=t.length+a),a>=t.length){if(r)return-1;a=t.length-1}else if(a<0){if(!r)return-1;a=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:y(t,e,a,i,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,a):Uint8Array.prototype.lastIndexOf.call(t,e,a):y(t,[e],a,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,a,i,r){var n,s=1,o=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,o/=2,l/=2,a/=2}function g(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var c=-1;for(n=a;n<o;n++)if(g(t,n)===g(e,-1===c?0:n-c)){if(-1===c&&(c=n),n-c+1===l)return c*s}else-1!==c&&(n-=n-c),c=-1}else for(a+l>o&&(a=o-l),n=a;n>=0;n--){for(var h=!0,_=0;_<l;_++)if(g(t,n+_)!==g(e,_)){h=!1;break}if(h)return n}return-1}function b(t,e,a,i){a=Number(a)||0;var r=t.length-a;i?(i=Number(i))>r&&(i=r):i=r;var n=e.length;if(n%2!=0)throw new TypeError("Invalid hex string");i>n/2&&(i=n/2);for(var s=0;s<i;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[a+s]=o}return s}function w(t,e,a,i){return Q(Y(e,t.length-a),t,a,i)}function k(t,e,a,i){return Q(X(e),t,a,i)}function I(t,e,a,i){return k(t,e,a,i)}function N(t,e,a,i){return Q(K(e),t,a,i)}function M(t,e,a,i){return Q(W(e,t.length-a),t,a,i)}function S(t,a,i){return 0===a&&i===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(a,i))}function x(t,e,a){a=Math.min(t.length,a);for(var i=[],r=e;r<a;){var n,s,o,l,g=t[r],c=null,h=g>239?4:g>223?3:g>191?2:1;if(r+h<=a)switch(h){case 1:g<128&&(c=g);break;case 2:128==(192&(n=t[r+1]))&&(l=(31&g)<<6|63&n)>127&&(c=l);break;case 3:n=t[r+1],s=t[r+2],128==(192&n)&&128==(192&s)&&(l=(15&g)<<12|(63&n)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:n=t[r+1],s=t[r+2],o=t[r+3],128==(192&n)&&128==(192&s)&&128==(192&o)&&(l=(15&g)<<18|(63&n)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return T(i)}n.Buffer=l,n.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},n.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,a){return g(null,t,e,a)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,a){return h(null,t,e,a)},l.allocUnsafe=function(t){return _(null,t)},l.allocUnsafeSlow=function(t){return _(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var a=t.length,i=e.length,r=0,n=Math.min(a,i);r<n;++r)if(t[r]!==e[r]){a=t[r],i=e[r];break}return a<i?-1:i<a?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var a;if(void 0===e)for(e=0,a=0;a<t.length;++a)e+=t[a].length;var r=l.allocUnsafe(e),n=0;for(a=0;a<t.length;++a){var s=t[a];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,n),n+=s.length}return r},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)C(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)C(this,e,e+3),C(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)C(this,e,e+7),C(this,e+1,e+6),C(this,e+2,e+5),C(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):D.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,a,i,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===a&&(a=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||a>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=a)return 0;if(i>=r)return-1;if(e>=a)return 1;if(this===t)return 0;for(var n=(r>>>=0)-(i>>>=0),s=(a>>>=0)-(e>>>=0),o=Math.min(n,s),g=this.slice(i,r),c=t.slice(e,a),h=0;h<o;++h)if(g[h]!==c[h]){n=g[h],s=c[h];break}return n<s?-1:s<n?1:0},l.prototype.includes=function(t,e,a){return-1!==this.indexOf(t,e,a)},l.prototype.indexOf=function(t,e,a){return A(this,t,e,a,!0)},l.prototype.lastIndexOf=function(t,e,a){return A(this,t,e,a,!1)},l.prototype.write=function(t,e,a,i){if(void 0===e)i="utf8",a=this.length,e=0;else if(void 0===a&&"string"==typeof e)i=e,a=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(a)?(a|=0,void 0===i&&(i="utf8")):(i=a,a=void 0)}var r=this.length-e;if((void 0===a||a>r)&&(a=r),t.length>0&&(a<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var n=!1;;)switch(i){case"hex":return b(this,t,e,a);case"utf8":case"utf-8":return w(this,t,e,a);case"ascii":return k(this,t,e,a);case"latin1":case"binary":return I(this,t,e,a);case"base64":return N(this,t,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,a);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),n=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function T(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);for(var a="",i=0;i<e;)a+=String.fromCharCode.apply(String,t.slice(i,i+=B));return a}function j(t,e,a){var i="";a=Math.min(t.length,a);for(var r=e;r<a;++r)i+=String.fromCharCode(127&t[r]);return i}function E(t,e,a){var i="";a=Math.min(t.length,a);for(var r=e;r<a;++r)i+=String.fromCharCode(t[r]);return i}function L(t,e,a){var i=t.length;(!e||e<0)&&(e=0),(!a||a<0||a>i)&&(a=i);for(var r="",n=e;n<a;++n)r+=V(t[n]);return r}function P(t,e,a){for(var i=t.slice(e,a),r="",n=0;n<i.length;n+=2)r+=String.fromCharCode(i[n]+256*i[n+1]);return r}function z(t,e,a){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>a)throw new RangeError("Trying to access beyond buffer length")}function H(t,e,a,i,r,n){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<n)throw new RangeError('"value" argument is out of bounds');if(a+i>t.length)throw new RangeError("Index out of range")}function F(t,e,a,i){e<0&&(e=65535+e+1);for(var r=0,n=Math.min(t.length-a,2);r<n;++r)t[a+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function G(t,e,a,i){e<0&&(e=4294967295+e+1);for(var r=0,n=Math.min(t.length-a,4);r<n;++r)t[a+r]=e>>>8*(i?r:3-r)&255}function R(t,e,a,i){if(a+i>t.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function O(t,e,i,r,n){return n||R(t,0,i,4),a.write(t,e,i,r,23,4),i+4}function U(t,e,i,r,n){return n||R(t,0,i,8),a.write(t,e,i,r,52,8),i+8}l.prototype.slice=function(t,e){var a,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(a=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;a=new l(r,void 0);for(var n=0;n<r;++n)a[n]=this[n+t]}return a},l.prototype.readUIntLE=function(t,e,a){t|=0,e|=0,a||z(t,e,this.length);for(var i=this[t],r=1,n=0;++n<e&&(r*=256);)i+=this[t+n]*r;return i},l.prototype.readUIntBE=function(t,e,a){t|=0,e|=0,a||z(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},l.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,a){t|=0,e|=0,a||z(t,e,this.length);for(var i=this[t],r=1,n=0;++n<e&&(r*=256);)i+=this[t+n]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,a){t|=0,e|=0,a||z(t,e,this.length);for(var i=e,r=1,n=this[t+--i];i>0&&(r*=256);)n+=this[t+--i]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readInt8=function(t,e){return e||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},l.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},l.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),a.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),a.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),a.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),a.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,a,i){t=+t,e|=0,a|=0,i||H(this,t,e,a,Math.pow(2,8*a)-1,0);var r=1,n=0;for(this[e]=255&t;++n<a&&(r*=256);)this[e+n]=t/r&255;return e+a},l.prototype.writeUIntBE=function(t,e,a,i){t=+t,e|=0,a|=0,i||H(this,t,e,a,Math.pow(2,8*a)-1,0);var r=a-1,n=1;for(this[e+r]=255&t;--r>=0&&(n*=256);)this[e+r]=t/n&255;return e+a},l.prototype.writeUInt8=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):G(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,a,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*a-1);H(this,t,e,a,r-1,-r)}var n=0,s=1,o=0;for(this[e]=255&t;++n<a&&(s*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+a},l.prototype.writeIntBE=function(t,e,a,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*a-1);H(this,t,e,a,r-1,-r)}var n=a-1,s=1,o=0;for(this[e+n]=255&t;--n>=0&&(s*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+a},l.prototype.writeInt8=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):G(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,a){return t=+t,e|=0,a||H(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,a){return O(this,t,e,!0,a)},l.prototype.writeFloatBE=function(t,e,a){return O(this,t,e,!1,a)},l.prototype.writeDoubleLE=function(t,e,a){return U(this,t,e,!0,a)},l.prototype.writeDoubleBE=function(t,e,a){return U(this,t,e,!1,a)},l.prototype.copy=function(t,e,a,i){if(a||(a=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<a&&(i=a),i===a)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-a&&(i=t.length-e+a);var r,n=i-a;if(this===t&&a<e&&e<i)for(r=n-1;r>=0;--r)t[r+e]=this[r+a];else if(n<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<n;++r)t[r+e]=this[r+a];else Uint8Array.prototype.set.call(t,this.subarray(a,a+n),e);return n},l.prototype.fill=function(t,e,a,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,a=this.length):"string"==typeof a&&(i=a,a=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<a)throw new RangeError("Out of range index");if(a<=e)return this;var n;if(e>>>=0,a=void 0===a?this.length:a>>>0,t||(t=0),"number"==typeof t)for(n=e;n<a;++n)this[n]=t;else{var s=l.isBuffer(t)?t:Y(new l(t,i).toString()),o=s.length;for(n=0;n<a-e;++n)this[n+e]=s[n%o]}return this};var J=/[^+\/0-9A-Za-z-_]/g;function Z(t){if((t=q(t).replace(J,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var a;e=e||1/0;for(var i=t.length,r=null,n=[],s=0;s<i;++s){if((a=t.charCodeAt(s))>55295&&a<57344){if(!r){if(a>56319){(e-=3)>-1&&n.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&n.push(239,191,189);continue}r=a;continue}if(a<56320){(e-=3)>-1&&n.push(239,191,189),r=a;continue}a=65536+(r-55296<<10|a-56320)}else r&&(e-=3)>-1&&n.push(239,191,189);if(r=null,a<128){if((e-=1)<0)break;n.push(a)}else if(a<2048){if((e-=2)<0)break;n.push(a>>6|192,63&a|128)}else if(a<65536){if((e-=3)<0)break;n.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return n}function X(t){for(var e=[],a=0;a<t.length;++a)e.push(255&t.charCodeAt(a));return e}function W(t,e){for(var a,i,r,n=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(a=t.charCodeAt(s))>>8,r=a%256,n.push(r),n.push(i);return n}function K(t){return e.toByteArray(Z(t))}function Q(t,e,a,i){for(var r=0;r<i&&!(r+a>=e.length||r>=t.length);++r)e[r+a]=t[r];return r}function $(t){return t!=t}}).call(void 0,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e){"use strict";cc._RF.push(e,"d3d4eKKCl5FjqSjMxlmNDRd","3");var a={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==a.call(t)},cc._RF.pop()},{}],4:[function(t,e,a){"use strict";cc._RF.push(e,"9d1b1L9xDZKHr92W/V/OsMD","4");var i=a;i.read=function(t,e,a,i,r){var n,s,o=8*r-i-1,l=(1<<o)-1,g=l>>1,c=-7,h=a?r-1:0,_=a?-1:1,u=t[e+h];for(h+=_,n=u&(1<<-c)-1,u>>=-c,c+=o;c>0;n=256*n+t[e+h],h+=_,c-=8);for(s=n&(1<<-c)-1,n>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=_,c-=8);if(0===n)n=1-g;else{if(n===l)return s?NaN:1/0*(u?-1:1);s+=Math.pow(2,i),n-=g}return(u?-1:1)*s*Math.pow(2,n-i)},i.write=function(t,e,a,i,r,n){var s,o,l,g=8*n-r-1,c=(1<<g)-1,h=c>>1,_=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,u=i?0:n-1,d=i?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?_/l:_*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(e*l-1)*Math.pow(2,r),s+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[a+u]=255&o,u+=d,o/=256,r-=8);for(s=s<<r|o,g+=r;g>0;t[a+u]=255&s,u+=d,s/=256,g-=8);t[a+u-d]|=128*f},cc._RF.pop()},{}],AddPfbToRoot:[function(t,e){"use strict";cc._RF.push(e,"e1a9elq6XVJ75nDVweSTrWA","AddPfbToRoot"),cc.Class({extends:cc.Component,properties:{uiPrefab:cc.Prefab},onEnable:function(){this.uiNode=cc.instantiate(this.uiPrefab),this.node.addChild(this.uiNode)},start:function(){},onDisable:function(){this.uiNode&&(this.uiNode.destroy(),this.uiNode=null)}}),cc._RF.pop()},{}],AudioMgr:[function(t,e){"use strict";cc._RF.push(e,"7f3bbRrnKVKsbL6Mlbs9aHu","AudioMgr"),window.CURAUDIOID=0,cc.Class({extends:cc.Component,properties:{audioPool:[]},statics:{g_audids:[],g_clips:{},g_audios:{},resumeMusic:function(){cc.audioEngine.resumeMusic()},checkIsHave:function(t){for(var e=0;e<this.g_audids.length;++e)if(this.g_audids[e].id===t)return!0;return!1},_playClip:function(t,e,a,i){var r=cc.audioEngine.play(e,i,window.SOUNDVOICENUM*a);if(this.g_audios[r]=t,!this.checkIsHave(r)){var n={tpath:t,id:r};this.g_audids.push(n)}cc.audioEngine.setFinishCallback(r,function(){this.g_audios[r]=null;for(var t=0;t<this.g_audids.length;++t)this.g_audids[t].id===r&&(this.g_audids.splice(t,1),t--)}.bind(this))},setEffectVolume:function(t,e){var a=-1;for(var i in this.g_audios)this.g_audios[i]==t&&(a=i);a&&a>0&&cc.audioEngine.setVolume(a,window.SOUNDVOICENUM*e)},init:function(){var t=cc.sys.localStorage.getItem("musicVolume"),e=cc.sys.localStorage.getItem("soundVolume");t&&(window.BGVOICENUM=t),e&&(window.SOUNDVOICENUM=e)},setMusicVolume:function(t){cc.audioEngine.setVolume(window.CURAUDIOID,t)},playBGMusic:function(t,e,a){""!=t&&this.loadAudios(t,function(t){window.CURAUDIOID=cc.audioEngine.play(t,e,a)})},loadAudios:function(t,e){var a=this;if(null!=G_Bundles.sound&&null!=t&&null!=t){var i=t.split("/");G_Bundles.sound.load(i[i.length-1],cc.AudioClip,function(i,r){i||(a.g_clips[t]=r,e(r))})}},playEffect:function(t,e,a){if(!(window.SOUNDVOICENUM<=0)){e=e||1,a=a||!1;var i=this.g_clips[t];i?this._playClip(t,i,e,a):this.loadAudios(t,function(i){this.g_clips[t]=i,this._playClip(t,i,e,a)})}},releaseResource:function(){var t=this;Object.values(this.g_clips).forEach(cc.loader.release),Object.keys(this.g_clips).forEach(function(e){delete t.g_clips[e]})},stopAll:function(){cc.audioEngine.stopAll()},pauseMusic:function(){cc.audioEngine.pauseMusic()},pauseAllEffect:function(){cc.audioEngine.pauseAllEffects()},resumeAllEffect:function(){cc.audioEngine.resumeAllEffects()},stopEffect:function(t){for(var e=null,a=0;a<this.g_audids.length;++a)if(this.g_audids[a].tpath===t){e=this.g_audids[a].id,this.g_audids.splice(a,1);break}cc.audioEngine.stopEffect(e)}},removeAudio:function(t){var e=this.audioPool.indexOf(t);e>-1&&this.audioPool.splice(e,1)}}),cc._RF.pop()},{}],CheckBtn:[function(t,e){"use strict";cc._RF.push(e,"cefebM3qOBC46oC4Q95nLNT","CheckBtn"),cc.Class({extends:cc.Component,properties:{target:cc.Toggle,checkedSprite:cc.Node,checked:!1,groupId:-1,orderId:-1},onLoad:function(){this.checked=this.target.isChecked,this.refresh()},refresh:function(){this.checkedSprite.active=!1,this.checked?(this.checkedSprite.active=!0,this.target.isChecked=!0):(this.checkedSprite.active=!1,this.target.isChecked=!1)},check:function(t){this.checked=t,this.refresh()},onClicked:function(){this.check(this.target.isChecked)},onDestroy:function(){this.node.destroy()}}),cc._RF.pop()},{}],DataConst:[function(t,e){"use strict";cc._RF.push(e,"47abb0mF6JDxa2RYgLyI5D5","DataConst"),window.G_dataArr=["2022/10/28","2022/11/28","2022/12/28","2023/1/28","2023/2/28","2023/3/28","2023/4/28","2023/5/28","2023/6/28","2023/7/28","2023/8/28","2023/9/28","2023/10/28","2023/11/28","2023/12/28","2024/1/28","2024/2/28","2024/3/28","2024/4/28","2024/5/28","2024/6/28","2024/7/28","2024/8/28","2024/9/28","2024/10/28","2024/11/28","2024/12/28"],window.G_slDateArr=["2022/10/21","2022/11/21","2022/12/21","2023/1/21","2023/2/21","2023/3/21","2023/4/21","2023/5/21","2023/6/21","2023/7/21","2023/8/21","2023/9/21","2023/10/21","2023/11/21","2023/12/21","2024/1/21","2024/2/21","2024/3/21","2024/4/21","2024/5/21","2024/6/21","2024/7/21","2024/8/21","2024/9/21","2024/10/21","2024/11/21","2024/12/21"],window.g_Data={g_zgZLNum:0,pinfodata:{headIcon:"",playerId:"",nickname:"\u5996\u9e21\u4e3b\u516c",level:1,expNum:0,coin:0,yxCoin:0,ztCoin:0,jjCoin:0,jxStone:[0,0,0,0,0,0,0,0,0,0,0],skillStone:[0,0,0,0,0,0,0,0,0,0,0],strengNum:30,nPowerUseLTime:0,knapsack:[],curjsChapeterId:1,curSZArr:[1],hasZBData:{pf:501,wuqi:null,xianglian:null,yanjing:null,pifeng:null},saveTime:0,loginTime:null,updataNum:8,isAgreeXY:0},generalData:{ID:0,getType:1,chipNum:1,level:0,pzLevel:0,szState:0,skillLv:0},towerData:{titleID:0,towerID:1,towerLv:0,skillID:0,skillLvMap:{},chKillNum:0,chHasMap:{}},gameData:{gkNum:1,gkCompelet:{1:0},gkBoxLq:{1:[0,0,0]}},rankData:{sjDateIndex:0,rankNum:0,rankStar:10,jjtzTime:2,jjVideoNum:2,buyTimeArr:null},slData:{sjDateIndex:0,slLevel:0,historyNum:0,sltzTime:1,slVideoNum:1,awardIndex:0,awardLqData:{0:0}},signData:{tsaveTime:0,signDay:1,signWeek:1,signOneArr:[0,0,0,0,0,0,0],signAgainArr:[0,0,0,0,0,0,0],bjNum:5,bjzsNum:5,bykboxNum:10,byOpenTime:0,byOpenNum:5,hjkboxNum:10,xdkboxNum:5,zbBoxNum:5,lbBoxNum:5,jdBoxNum:5,jnBoxNum:5,powerNum:5,xsflNum:3,rankShare:0,mangheNum:5},tuisData:{tsTime:0,tsIndex:0,tsAwardArr:[],mhTime:600,mhState:0,mhAwardIndex:0},taskData:{taskID:1,taskKillNum:0},gjData:{leaveTime:0,onLineTime:0,gjAwardArr:[],gjShare:[0,0,0],guidech:0,guidegj:0,guideZg:0,guideJJ:0,guideBX:0,guideYJZL:0,guideYJSL:0},goodsData:{gType:0,gID:0,glv:0,gNum:0}},cc._RF.pop()},{}],DataEncrypt:[function(t,e){"use strict";cc._RF.push(e,"7b3b0IipNxMhqaN+wL8i3Md","DataEncrypt"),t("encryptjs"),window.EncType={SilverCoin:"SilverCoin",generalData:"generalData",towerData:"towerData",gameData:"gameData",signData:"signData",taskData:"taskData",gjData:"gjData",rankData:"rankData1",tuisData:"tuisData",yjslData:"yjslData2"},window.DataEncrypt={setEncItem:function(t,e){var a=JSON.stringify(e),i="20233115"+t;cc.sys.localStorage.setItem(i,a)},getEncItem:function(t){var e="20233115"+t,a=cc.sys.localStorage.getItem(e);return null!=a&&0==a.length?null:a?JSON.parse(a):a}},cc._RF.pop()},{}],Datamgr:[function(t,e){"use strict";cc._RF.push(e,"74164ARJjNIepiBSSItmjEm","Datamgr"),window.G_countLineTime=0,window.G_isMobile=!1,window.G_tcTime=0,window.g_DataMgr={g_guideNum:-1,g_guideTaskNum:0,g_guideJDNum:0,g_showUI:0,g_tgCount:3,g_xslbTime:0,isCanXslb:0,isNewUser:!1,rankCount:0,gjMaxTime:4,dataUpdata:0,updataNotice:0,mhTime:0,ncountLineTime:0,nIntervalTime:300,nMaxPower:0,nRemainingTime:0,pinfo:{},generalSaveArr:[],towerInfo:{},gameInfo:{},signData:{},taskData:{},gjsyData:{},rankSaveData:{},tuisSaveData:{},yjslSaveData:{},initSaveData:function(){var t=DataEncrypt.getEncItem(EncType.SilverCoin);if(null==t?(this.pinfo=g_Data.pinfodata,DataEncrypt.setEncItem(EncType.SilverCoin,this.pinfo)):this.pinfo=t,null==this.pinfo.updataNum&&(this.pinfo.updataNum=g_Data.pinfodata.updataNum,this.dataUpdata=1,this.updataNotice=1),null==this.pinfo.jjCoin&&(this.pinfo.jjCoin=0),null==this.pinfo.curSZArr&&(this.pinfo.curSZArr=[]),null==this.pinfo.isAgreeXY&&(this.pinfo.isAgreeXY=0),null==this.pinfo.loginTime){var e=new Date,a=""+e.getFullYear()+e.getMonth()+e.getDate();this.pinfo.loginTime=a}if(null==this.pinfo.hasZBData&&(this.pinfo.hasZBData={pf:501,wuqi:null,xianglian:null,yanjing:null,pifeng:null}),0==this.pinfo.knapsack.length){var i=JSON.parse(JSON.stringify(g_Data.goodsData));i.gID=501,this.pinfo.knapsack.push(i)}if(this.pinfo.updataNum!=g_Data.pinfodata.updataNum&&(this.dataUpdata=1,this.updataNotice=1,this.pinfo.updataNum=g_Data.pinfodata.updataNum),this.pinfo.jxStone.length!=g_Data.pinfodata.jxStone.length)for(var r=this.pinfo.jxStone.length;r<g_Data.pinfodata.jxStone.length;++r)this.pinfo.jxStone.push(g_Data.pinfodata.jxStone[r]);this.pinfo.nickname="\u5996\u9e21\u4e3b\u516c",this.nMaxPower=MAX_STRENGTH;var n=this.pinfo.nPowerUseLTime;if(this.pinfo.strengNum<this.nMaxPower){var s=new Date,o=new Date(n),l=s.getTime()-o.getTime(),g=l/1e3,c=Math.floor(g/this.nIntervalTime),h=l%(1e3*this.nIntervalTime),_=1e3*this.nIntervalTime-h;this.nRemainingTime=_,this.pinfo.strengNum=this.pinfo.strengNum+c,this.pinfo.strengNum>=this.nMaxPower?(this.pinfo.strengNum=this.nMaxPower,this.nRemainingTime=0):this.pinfo.nPowerUseLTime=new Date(s.getTime()-h)}this.savePinfo(),cc.log("\u521d\u59cb\u5316\u5b58\u50a8\u6570\u636e",this.pinfo),this.initSaveTowerData(),this.initSaveGameData(),this.initSaveSignData(),this.initSaveGjData(),this.initSaveTuisData()},savePinfo:function(){DataEncrypt.setEncItem(EncType.SilverCoin,this.pinfo)},savePowerUseLTime:function(){this.pinfo.nPowerUseLTime=new Date,this.savePinfo()},resetByDate:function(){var t=new Date;t.getDate()!=this.pinfo.saveTime&&(this.pinfo.saveTime=t.getDate(),this.rankSaveData.jjtzTime=2,this.rankSaveData.jjVideoNum=2,this.yjslSaveData.sltzTime=1,this.yjslSaveData.slVideoNum=1,this.saveYJSLData(),this.saveRankData(),this.savePinfo())},initSaveGeneralData:function(t){var e=DataEncrypt.getEncItem(EncType.generalData);if(this.generalSaveArr=[],null==e){for(var a=0;a<t.length;++a){var i=JSON.parse(JSON.stringify(g_Data.generalData));i.ID=t[a].ID,i.pzLevel=t[a].quality,i.level=t[a].level-1,1==i.ID&&(i.getType=1,i.szState=1),this.generalSaveArr.push(i)}DataEncrypt.setEncItem(EncType.generalData,this.generalSaveArr)}else if(this.generalSaveArr=e,this.generalSaveArr.length<t.length){for(var r=0;r<t.length;++r)if(null==g_getDataInArr(t[r].ID,this.generalSaveArr)){var n=JSON.parse(JSON.stringify(g_Data.generalData));n.ID=t[r].ID,n.pzLevel=t[r].quality,n.level=t[r].level-1,this.generalSaveArr.push(n)}DataEncrypt.setEncItem(EncType.generalData,this.generalSaveArr)}if(1==this.dataUpdata){for(var s=[7,24,26,27,30],o=0;o<s.length;++o){var l=g_getDataInArr(s[o],this.generalSaveArr),g=g_getDataInArr(s[o],cc.vv.gameMgr.generalList);l.pzLevel=0,l.pzLevel<g.quality&&(l.pzLevel=g.quality,this.saveGeneralData(l))}for(var c=cc.vv.gameMgr.generalList,h=0;h<c.length;++h){var _=g_getDataInArr(c[h].ID,this.generalSaveArr);_.level<c[h].level-1&&(_.level=c[h].level-1,this.saveGeneralData(_))}this.dataUpdata=0,console.log("=========updataData============",this.generalSaveArr)}cc.log("\u521d\u59cb\u5316\u6211\u7684\u6b66\u5c06\u5b58\u50a8\u6570\u636e",this.generalSaveArr)},saveGeneralData:function(t){for(var e=null,a=0;a<this.generalSaveArr.length;++a)if(this.generalSaveArr[a].ID==t.ID){e=this.generalSaveArr[a];break}null!=e&&(null!=t.getType&&(e.getType=t.getType),null!=t.chipNum&&(e.chipNum=t.chipNum),null!=t.level&&(e.level=t.level),null!=t.pzLevel&&(e.pzLevel=t.pzLevel),null!=t.szState&&(e.szState=t.szState),null!=t.skillLv&&(e.skillLv=t.skillLv),DataEncrypt.setEncItem(EncType.generalData,this.generalSaveArr))},initSaveTowerData:function(){var t=DataEncrypt.getEncItem(EncType.towerData);this.towerInfo={},null==t?(this.towerInfo=g_Data.towerData,DataEncrypt.setEncItem(EncType.towerData,this.towerInfo)):this.towerInfo=t,null==this.towerInfo.chKillNum&&(this.towerInfo.chKillNum=0),null==this.towerInfo.chHasMap&&(this.towerInfo.chHasMap={}),cc.log("\u521d\u59cb\u5316\u57fa\u5730\u5b58\u50a8\u6570\u636e",this.towerInfo)},saveTower:function(){DataEncrypt.setEncItem(EncType.towerData,this.towerInfo)},initSaveGameData:function(){var t=DataEncrypt.getEncItem(EncType.gameData);if(null==t){var e=JSON.parse(JSON.stringify(g_Data.gameData));this.gameInfo=e}else this.gameInfo=t;null==this.gameInfo.gkBoxLq&&(this.gameInfo.gkBoxLq={1:[0,0,0]}),0==this.gameInfo.gkCompelet[1]&&(this.g_guideNum=0),cc.log("\u521d\u59cb\u5316\u6e38\u620f\u5b58\u50a8\u6570\u636e",this.gameInfo)},resetGameData:function(){this.saveGameData()},saveGameData:function(){DataEncrypt.setEncItem(EncType.gameData,this.gameInfo)},initSaveSignData:function(){var t=DataEncrypt.getEncItem(EncType.signData);if(null==t){var e=JSON.parse(JSON.stringify(g_Data.signData));this.signData=e}else this.signData=t;null==this.signData.xdkboxNum&&(this.signData.xdkboxNum=5),null==this.signData.xsflNum&&(this.signData.xsflNum=3),null==this.signData.byOpenTime&&(this.signData.byOpenTime=1),null==this.signData.byOpenNum&&(this.signData.byOpenNum=5),null==this.signData.rankShare&&(this.signData.rankShare=0),null==this.signData.mangheNum&&(this.signData.mangheNum=5);var a=new Date;if(a.getDate()!=this.signData.tsaveTime){this.signData.tsaveTime=a.getDate();var i=this.signData.signDay;1==this.signData.signOneArr[i-1]&&(this.signData.signDay+=1,this.signData.signDay>7&&(this.signData.signDay=1,1==this.signData.signWeek&&(this.signData.signWeek+=1),this.signData.signWeek>2&&(this.signData.signWeek=2),this.signData.signOneArr=[0,0,0,0,0,0,0],this.signData.signAgainArr=[0,0,0,0,0,0,0])),this.signData.bjNum=5,this.signData.bjzsNum=5,this.signData.bykboxNum=10,this.signData.xdkboxNum=5,this.signData.zbBoxNum=5,this.signData.lbBoxNum=5,this.signData.jdBoxNum=5,this.signData.jnBoxNum=5,this.signData.powerNum=5,this.signData.rankShare=0,this.signData.mangheNum=5}this.saveSignData(),cc.log("\u521d\u59cb\u5316\u7b7e\u5230\u5b58\u50a8\u6570\u636e",this.signData)},saveSignData:function(){DataEncrypt.setEncItem(EncType.signData,this.signData)},initSaveTaskData:function(){var t=DataEncrypt.getEncItem(EncType.taskData);if(null==t){var e=JSON.parse(JSON.stringify(g_Data.taskData));this.taskData=e}else this.taskData=t;cc.vv.gameMgr.curTaskData=g_getDataInArr(this.taskData.taskID,cc.vv.gameMgr.taskList),this.saveTaskData(),cc.log("\u521d\u59cb\u5316\u4efb\u52a1\u5b58\u50a8\u6570\u636e",this.taskData)},saveTaskData:function(){DataEncrypt.setEncItem(EncType.taskData,this.taskData)},initSaveGjData:function(){var t=DataEncrypt.getEncItem(EncType.gjData);if(null==t){var e=JSON.parse(JSON.stringify(g_Data.gjData));this.gjsyData=e}else this.gjsyData=t;null==this.gjsyData.gjAwardArr&&(this.gjsyData.gjAwardArr=[]),null==this.gjsyData.gjShare&&(this.gjsyData.gjShare=[0,0,0]),null==this.gjsyData.guidech&&(this.gjsyData.guidech=0),null==this.gjsyData.guidegj&&(this.gjsyData.guidegj=0),null==this.gjsyData.guideZg&&(this.gjsyData.guideZg=0),null==this.gjsyData.guideJJ&&(this.gjsyData.guideJJ=0),null==this.gjsyData.guideBX&&(this.gjsyData.guideBX=0),null==this.gjsyData.guideYJZL&&(this.gjsyData.guideYJZL=0),null==this.gjsyData.guideYJSL&&(this.gjsyData.guideYJSL=0);for(var a=0;a<this.gjsyData.gjShare.length;++a)1==this.gjsyData.gjShare[a]&&this.gjMaxTime++;var i=this.gjsyData.leaveTime;if(0!=i){var r=new Date,n=new Date(i),s=r.getTime()-n.getTime(),o=Math.round(s/1e3);this.gjsyData.onLineTime+=o,this.gjsyData.onLineTime>3600*this.gjMaxTime&&(this.gjsyData.onLineTime=3600*this.gjMaxTime)}this.saveGjData(),cc.log("\u521d\u59cb\u5316\u6302\u673a\u5b58\u50a8\u6570\u636e",this.gjsyData)},saveGjData:function(){this.gjsyData.leaveTime=new Date,DataEncrypt.setEncItem(EncType.gjData,this.gjsyData)},initSaveRankData:function(){var t=DataEncrypt.getEncItem(EncType.rankData);if(null==t){var e=JSON.parse(JSON.stringify(g_Data.rankData));this.rankSaveData=e,DataEncrypt.setEncItem(EncType.rankData,this.rankSaveData)}else this.rankSaveData=t;if(null==this.rankSaveData.buyTimeArr||null==this.rankSaveData.buyTimeArr){this.rankSaveData.buyTimeArr={};for(var a=cc.vv.gameMgr.jShopList,i=0;i<a.length;++i)this.rankSaveData.buyTimeArr[""+a[i].ID]=a[i].buyTime}for(var r=new Date,n=r.getFullYear(),s=r.getMonth()+1,o=r.getDate(),l=this.rankSaveData.sjDateIndex,g=this.rankSaveData.sjDateIndex;g<G_dataArr.length;++g){var c=G_dataArr[g].split("/");if(Number(c[0])>n){l=g;break}if(n==Number(c[0])){if(Number(c[1])>s){l=g;break}if(Number(c[1])==s&&Number(c[2])>o){l=g;break}}}if(l!=this.rankSaveData.sjDateIndex){this.rankSaveData.sjDateIndex=l,this.rankSaveData.rankNum=0,this.rankSaveData.rankStar=10,this.rankSaveData.jjtzTime=2,this.rankSaveData.jjVideoNum=2;for(var h=cc.vv.gameMgr.jShopList,_=0;_<h.length;++_)this.rankSaveData.buyTimeArr[""+h[_].ID]=h[_].buyTime;this.saveRankData()}cc.log("\u521d\u59cb\u5316\u6392\u4f4d\u5b58\u50a8\u6570\u636e",this.rankSaveData)},saveRankData:function(){DataEncrypt.setEncItem(EncType.rankData,this.rankSaveData)},initSaveTuisData:function(){var t=DataEncrypt.getEncItem(EncType.tuisData);if(null==t){var e=JSON.parse(JSON.stringify(g_Data.tuisData));this.tuisSaveData=e}else this.tuisSaveData=t;null==this.tuisSaveData.mhTime&&(this.tuisSaveData.mhTime=600),null==this.tuisSaveData.mhState&&(this.tuisSaveData.mhState=0),null==this.tuisSaveData.mhAwardIndex&&(this.tuisSaveData.mhAwardIndex=0),this.g_xslbTime=this.tuisSaveData.tsTime,this.saveTuisData(),cc.log("\u521d\u59cb\u5316\u63a8\u9001\u5b58\u50a8\u6570\u636e",this.tuisSaveData)},saveTuisData:function(){DataEncrypt.setEncItem(EncType.tuisData,this.tuisSaveData)},initSaveYJSLData:function(){var t=DataEncrypt.getEncItem(EncType.yjslData);if(null==t){var e=JSON.parse(JSON.stringify(g_Data.slData));this.yjslSaveData=e,DataEncrypt.setEncItem(EncType.yjslData,this.yjslSaveData)}else this.yjslSaveData=t;null==this.yjslSaveData.slLevel&&(this.yjslSaveData.slLevel=this.yjslSaveData.historyNum);for(var a=new Date,i=a.getFullYear(),r=a.getMonth()+1,n=a.getDate(),s=this.yjslSaveData.sjDateIndex,o=this.yjslSaveData.sjDateIndex;o<G_slDateArr.length;++o){var l=G_slDateArr[o].split("/");if(Number(l[0])>i){s=o;break}if(i==Number(l[0])){if(Number(l[1])>r){s=o;break}if(Number(l[1])==r&&Number(l[2])>n){s=o;break}}}s!=this.yjslSaveData.sjDateIndex&&(this.yjslSaveData.sjDateIndex=s,this.yjslSaveData.slLevel=0,this.yjslSaveData.historyNum=0,this.yjslSaveData.sltzTime=1,this.yjslSaveData.slVideoNum=1,this.yjslSaveData.awardLqData={0:0},this.yjslSaveData.awardIndex++,this.yjslSaveData.awardIndex>=cc.vv.gameMgr.jdAwardList.length&&(this.yjslSaveData.awardIndex=0),this.saveYJSLData()),cc.log("\u521d\u59cb\u5316\u5b58\u50a8\u6570\u636e",this.yjslSaveData)},saveYJSLData:function(){DataEncrypt.setEncItem(EncType.yjslData,this.yjslSaveData)}},cc._RF.pop()},{}],Event:[function(t,e){"use strict";cc._RF.push(e,"a0928bBD31IMIdI4x1pEc7q","Event"),window.G_gameEvent={freshTaskEvent:"freshTaskEvent",freshRedEvent:"freshRedEvent",freshXSLBEvent:"freshXSLBEvent",freshMHEvent:"freshMHEvent",shareOver:"shareOver",rewardVideoClose:"rewardVideoClose",scriptObj:null,videoNum:0,init:function(){this.scriptObj=cc.find("Canvas")},emit:function(t,e){this.scriptObj.emit(t,e)},on:function(t,e,a,i){this.videoNum=i,this.scriptObj.on(t,e,a)},off:function(t,e,a){this.videoNum=0,this.scriptObj.off(t,e,a)}},window.Util={_lastRunTime:0,isRunFast:function(t){var e=(new Date).getTime();return e-this._lastRunTime<1e3*t?(cc.vv.configMgr.addTips("\u64cd\u4f5c\u592a\u8fc7\u9891\u7e41!"),!0):(this._lastRunTime=e,!1)},delayFun:function(t,e,a){cc.tween(t).delay(a).call(function(){e()}).start()}},cc._RF.pop()},{}],GameConst:[function(t,e){"use strict";cc._RF.push(e,"7b123wyzBpEjKsJUSkmGzHv","GameConst"),window.D={GameMgr:null,mapMgr:null},window.g_hallContol=null,window.g_gameContol=null,window.g_gameUIdata=null,window.g_poolMgr=null,window.G_PROPMENUE={EQUIP:0,COIN:1,DIAMOND:2,BRICK:3,JINGJSTONE:4,STRONGSTONE:5,POWER:6},window.CHENG_STR="\xd7",window.RMB_STR="\uffe5",window.MAX_STRENGTH=120,window.CONSUME_STRENGTH=5,window.MAX_LEVEL=14,window.MAX_JJLEVEL=3,window.MAX_ZBLEVEL=10,window.PZ_NameArr=["\u666e\u901a","\u4f18\u79c0","\u53f2\u8bd7","\u4f20\u8bf4","\u795e\u8bdd"],window.PZ_ColorArr=["#b6e7ec","0ce5ff","ff37ef","ffd800","b6e7ec"],window.g_isEn=function(){return!0},window.g_setString=function(t,e,a){void 0===a&&(a=0),t.string=e,g_isEn()?(t.fontFamily="Arial",0!=a&&null==t.enOffsetDone&&(t.fontSize+=a,a>0&&(t.lineHeight+=a),t.enOffsetDone=!0)):t.fontFamily="\u9ed1\u4f53"},window.g_getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},window.g_changeToArr=function(t){var e=[];return t.split(",").forEach(function(t){e.push(+t)}),e},window.g_getDataInArr=function(t,e){var a=null,i=[];i=e.concat(i);for(var r=0;r<i.length;++r)if(i[r].ID==t){a=i[r];break}return null!=a&&(a=JSON.parse(JSON.stringify(a))),a},window.g_getTime=function(t,e){var a=parseInt(t/864e5),i=parseInt(t%864e5/36e5),r=parseInt(t%36e5/6e4),n=parseInt(t%6e4/1e3);return 0==e?r+"\u5206"+(n=n<=10?"0"+n:n)+"\u79d2":1==e?a+":"+i:2==e?i+":"+r:3==e?n:(cc.log("\u65f6\u95f4\u5df2\u7ecf\u4e3a\u8d1f\u6570 \u663e\u793a 0\u79d2 \u6216\u8005\u8fd4\u56de null"),"0"+secondName)},window.G_time=function(t,e){var a=parseInt(t/3600),i=t-3600*a,r=parseInt(i/60),n=i-=60*r,s=(a=a<10?"0"+a:a)+":"+(r=r<10?"0"+r:r)+":"+(n=n<10?"0"+n:n);return"00"===a&&0!=e&&(s=r+":"+n),s},window.g_getRetainDecimals=function(t,e){return e=e||1,e=Math.pow(10,e),parseInt(t*e)/e},window.g_getBigNumAbb=function(t){if(t>Math.pow(10,20))return"100000000T";var e,a="";return t>=Math.pow(10,12)?(a="T",e=g_getRetainDecimals(t/Math.pow(10,12))+a):t>=Math.pow(10,9)?(a="B",e=g_getRetainDecimals(t/Math.pow(10,9))+a):t>=Math.pow(10,6)?(a="M",e=g_getRetainDecimals(t/Math.pow(10,6))+a):t>=Math.pow(10,3)?(a="K",e=g_getRetainDecimals(t/Math.pow(10,3))+a):e=Math.floor(t),e},window.g_CheckIpad=function(t){var e=cc.winSize.height/cc.winSize.width<=1.65,a=t.getComponent(cc.Canvas);e&&(a.fitHeight=!0,a.fitWidth=!0)},window.g_getEffect=function(t,e){for(var a=null,i=0;i<e.length;++i)if(t==e[i].ID){a=e[i].spinePath;break}return null==a&&console.log("--------\u8d44\u6e90\u672a\u627e\u5230--------"),a},window.g_getResData=function(t){for(var e=null,a=0;a<g_heroRes.length;++a)if(t==g_heroRes[a].ID){e=g_heroRes[a];break}return null==e&&console.log("--------\u8d44\u6e90\u672a\u627e\u5230--------"),e},window.G_refreshZindex=function(t){for(var e=t.sort(function(t,e){return e.y-t.y}),a=0;a<e.length;++a)e[a].zIndex=a+1},window.G_createPrefab=function(t){var e=cc.vv.configMgr.prefabArr;return null!=e[t]?cc.instantiate(e[t]):(console.log("-------resPath\u672a\u627e\u5230----"),null)},window.g_checkLen=function(t,e){var a=cc.v2(t.x,t.y+75),i=cc.v2(e.x,e.y+75);return a.sub(i).mag()},window.g_getAtlas=function(t){var e=cc.vv.configMgr.globalrelease;return null!=e[t]?e[t]:(console.log("-------atlasPath\u672a\u627e\u5230----"),null)},window.g_getGlByWeight=function(t,e){for(var a=[1],i=0,r=0;r<t.length;++r)i+=e[t[r]].glv,a.push(i);for(var n=g_getRandom(1,i),s=0,o=0;o<a.length-1;++o)n>=a[o]&&(s=o);return s},window.g_getIndexByQZArr=function(t){for(var e=t,a=[],i=[],r=0;r<e.length;++r){var n={glv:e[r]};a.push(n),e[r]>0&&i.push(r)}return i[g_getGlByWeight(i,a)]},window.g_getGoodFun=function(t){for(var e=0;e<g_DataMgr.pinfo.knapsack.length;++e){var a=g_DataMgr.pinfo.knapsack[e];if(t.gType==a.gType&&t.gID==a.gID)return g_DataMgr.pinfo.knapsack[e].gNum+=1,void g_DataMgr.savePinfo()}var i=JSON.parse(JSON.stringify(g_Data.goodsData));null!=t.gType&&(i.gType=t.gType),null!=t.gID&&(i.gID=t.gID),null!=t.glv&&(i.glv=t.glv),null!=t.gNum&&(i.gNum=t.gNum),g_DataMgr.pinfo.knapsack.push(i),g_DataMgr.savePinfo()},window.g_moveAct=function(t,e,a,i,r){var n="sineInOut";1==r&&(n="cubicOut"),cc.tween(a).to(t,{position:e},{easing:n}).call(function(){null!=i&&(null!=i&&1!=i&&(i.active=!0),1==i&&a.destroy())}).start()},window.g_rockFun=function(t){var e=cc.tween().by(.1,{angle:15},{easing:"cubicOut"}).by(.1,{angle:-15},{easing:"cubicOut"}).by(.1,{angle:-15},{easing:"cubicOut"}).by(.1,{angle:15},{easing:"cubicOut"}),a=cc.tween().delay(.36).repeat(2,e).delay(1);cc.tween(t).repeatForever(a).start()},cc._RF.pop()},{}],GameMgr:[function(t,e){"use strict";cc._RF.push(e,"01d1cCiVYJG9p49tsjaRGlV","GameMgr");var a=t;cc.Class({extends:a("SingleCase"),properties:{gameMusic:null,headFrame:null,isLogin:!1,gameModel:1,curChapeterId:1,curSelectLv:0,curSZArr:null,curTaskData:null,curActivityLv:0,stringList:null,generalList:null,generaljjList:null,generalSxList:null,towerArr:null,towerSxList:null,monstArr:null,zSkillList:null,skillList:null,buffList:null,signList:null,zgList:null,shopList:null,dropList:null,equipList:null,taskList:null,gjdataList:null,playerArr:null,enemyArr:null,zsList:null,jShopList:null,jjAwardList:null,activeLvInfo:null,fpList:null,jdAwardList:null,chengHList:null,jjtowerList:null,musicValue:!0,soundValue:!0,volumeValue:1,yxValua:1,smValue:1,ssValue:1,_curMusic:null},ctor:function(){},settouxiang:function(t,e){if(""!=t){var a=this;null==a.headFrame?cc.loader.load({url:t+"?file=a.png",type:"png"},function(t,i){var r=new cc.SpriteFrame(i);e.spriteFrame=r,a.headFrame=r}):e.spriteFrame=a.headFrame}},showLayerAni:function(t,e,a){t.scale=0;var i=1,r=1.1;null!=e&&(i=e),null!=a&&(r=a),cc.tween(t).to(.25,{scale:r},{easing:"sineInOut"}).to(.05,{scale:i},{easing:"sineInOut"}).start()},sendEvent:function(t,e,a){var i=new cc.Event.EventCustom(e,!0);null!=a&&i.setUserData(a),t.dispatchEvent(i)},checkTaskIsOver:function(){if(null==this.curTaskData)return!1;if("level"==this.curTaskData.type){var t=this.curTaskData.num;return null!=g_DataMgr.gameInfo.gkCompelet[""+t[0]]&&g_DataMgr.gameInfo.gkCompelet[""+t[0]]>=t[1]}if("barrack"==this.curTaskData.type)return this.curTaskData.num-1<=g_DataMgr.towerInfo.towerLv;if("skill"==this.curTaskData.type){var e=this.curTaskData.num,a=!1;for(var i in g_DataMgr.towerInfo.skillLvMap)if(g_DataMgr.towerInfo.skillLvMap[i]>=e-1){a=!0;break}return a}if("monster"==this.curTaskData.type){var r=this.curTaskData.num;return g_DataMgr.taskData.taskKillNum>=r[1]}},getAttackNum:function(t,e,a){var i=this.getBuffData(t),r=this.getBuffData(e),n=!1,s=0,o=!1;if(0!=i.mzlv&&(o=g_getRandom(1,100)<i.mzlv),o)console.log("-------\u95ea\u907f\u6210\u529f-----"),s=0;else{var l=r.hurtSub/100;if(s=i.attack,s-=s*l,null!=a&&null!=a){var g=a.result;if(a.ID>=1&&a.ID<=500&&null==a.jsLv){var c=g_getDataInArr(a.ID,g_DataMgr.generalSaveArr);g=a.result[c.skillLv]}s*=g}var h=i.crit/100;(n=g_getRandom(1,100)<=100*h)&&(console.log("-------\u66b4\u51fb-----"),s*=2)}var _=g_getRandom(0,1),u=g_getRandom(2,8);return 0==_&&(s*=1-u/100),1==_&&(s*=1+u/100),{bj:n,gd:o,rattack:s=Math.ceil(s),jsAttack:Math.ceil(s*i.jsAttack/100),xyID:i.xyTime,xxNum:i.xxNum}},getBuffData:function(t){for(var e=null!=t._buffArr?t._buffArr:[],a=[],i=0;i<e.length;++i)if(0!=e[i]){var r=g_getDataInArr(e[i],this.buffList);a.push(r)}for(var n={attack:t.attack,crit:t.crit,hurtSub:t.hurtSub,mzlv:0,jsAttack:0,xyTime:0,xxNum:0},s=0;s<a.length;++s){if("attack"===a[s].type&&(n.attack+=n.attack*a[s].value/100),"glvAttack"===a[s].type){var o=a[s].glv;g_getRandom(1,100)<=o&&(5010==a[s].ID?n.attack=n.attack*a[s].value/100:n.attack+=n.attack*a[s].value/100,1013==a[s].ID&&(n.xyTime=a[s].time))}"crit"===a[s].type&&(n.crit+=a[s].value),"defence"!==a[s].type&&"bDefence"!==a[s].type||(n.hurtSub+=a[s].value),"sattack"===a[s].type&&(n.attack-=n.attack*a[s].value/100),"mz"===a[s].type&&(n.mzlv=a[s].value),"jsAttack"===a[s].type&&(n.jsAttack=a[s].value),"vampire"===a[s].type&&(n.xxNum=a[s].value)}return n},changePartialCloth:function(t,e,a,i){var r=t.findSlot(e),n=t.skeletonData.getRuntimeData(),s=n.findSkin(a),o=n.findSlotIndex(e),l=s.getAttachment(o,i);r&&l?r.setAttachment(l):cc.error(r&&l,"slots: "+e+", attach: "+i+" not exists!")},showEffectByName:function(t,e,a){cc.vv.configMgr.loadPrefab("prefabs/game/effect",function(i){var r=cc.instantiate(i);e.addChild(r),null!=a&&(r.position=a.position),"effect_bosscome"===t&&(r.y=200),r.getComponent("effect").initEffect(t),g_gameContol.getEffect(r)})},createBezier:function(t,e,a,i){Math.PI;var r=e.x+(a.x-e.x)/4,n=cc.v2(r,i+e.y),s=e.x+(a.x-e.x)/2;return[n,cc.v2(s,i+e.y),a]},setMusic:function(t){t?this.volumeValue=this.smValue:(this.smValue=this.volumeValue,this.volumeValue=0),this.musicValue=t,this.musicValue?("Hall"==cc.vv.sceneMgr.getName()&&cc.vv.audioMgr.playBGMusic(g_audios.hallBg,!0,this.volumeValue),"Game"==cc.vv.sceneMgr.getName()&&cc.vv.audioMgr.playBGMusic(this.gameMusic,!0,this.volumeValue)):this.stopMusic()},setSound:function(t){t?this.yxValua=this.ssValue:(this.ssValue=this.yxValua,this.yxValua=0),this.soundValue=t},playBGMusic:function(){this.musicValue&&(this.stopMusic(),"Hall"==cc.vv.sceneMgr.getName()&&cc.vv.audioMgr.playBGMusic(g_audios.hallBg,!0,this.volumeValue),"Game"==cc.vv.sceneMgr.getName()&&cc.vv.audioMgr.playBGMusic(this.gameMusic,!0,this.volumeValue))},stopMusic:function(){console.log(CURAUDIOID),cc.audioEngine.stop(CURAUDIOID)},playEffect:function(t,e){this.soundValue&&cc.vv.audioMgr.playEffect(t,this.yxValua,e)},stopEffect:function(t){cc.vv.audioMgr.stopEffect(t)}}),cc._RF.pop()},{}],GlobalMgr:[function(t,e){"use strict";cc._RF.push(e,"005c57wQK1FQKSb9yM5pdVK","GlobalMgr");var a=t;window.BGVOICENUM=1,window.SOUNDVOICENUM=1,window.ZINDEX={DOWN:1,LOWER:2,MIDDLE:3,HIGHT:4,UPEST:5},window.G_Bundles={staticUI:null,sound:null,preBundle:null},cc.Class({extends:cc.Component,properties:{globalrelease:[],keylist:[],prefabArr:[],isShowTip:!1},addTips:function(t,e,i,r,n,s){var o=this;if(!o.isShowTip){cc.vv.gameMgr.playEffect(g_audios.click0);var l=a("SceneMgr").getInstance().getName();this.loadPrefab("prefab/global/tips",function(g){o.isShowTip=!0;var c=a("SceneMgr").getInstance().getName();if(l==c&&null!=g){var h=cc.instantiate(g),_=h.getChildByName("txt").getComponent(cc.Label),u=(h.getContentSize(),h.getChildByName("kuang"));h.opacity=0,_.string=t,u.active=!r,s||(s=200),0==i&&(s=-200),n||(n=cc.v2(.5*cc.winSize.width,.5*cc.winSize.height+s)),h.setPosition(n);var d=cc.v2(.5*cc.winSize.width,.7*cc.winSize.height+30+s);null!=e?(n=e.convertToNodeSpaceAR(n),h.setPosition(n),d=e.convertToNodeSpaceAR(d),e.addChild(h,window.ZINDEX.UPEST)):cc.director.getScene().addChild(h,window.ZINDEX.UPEST),0!=i?cc.tween(h).to(.5,{opacity:255}).delay(1).parallel(cc.tween().to(.5,{position:d}),cc.tween().to(.5,{opacity:0})).call(function(){h.destroy(),h=null,o.isShowTip=!1}).start():cc.tween(h).to(.1,{opacity:255}).delay(.3).parallel(cc.tween().to(.5,{opacity:0})).call(function(){h.destroy(),h=null,o.isShowTip=!1}).start()}})}},showLoading:function(){null!=cc.find("Canvas")&&this.loadPrefab(g_loadPrefab.loading,function(t){var e=cc.instantiate(t);cc.director.getScene().addChild(e,1e3)})},loadPrefab:function(t,e){var a=this;for(var i in a.keylist)if(a.keylist[i]==t)return void e(a.prefabArr[t]);null!=G_Bundles.preBundle?G_Bundles.preBundle.load(t,cc.Prefab,function(i,r){!i&&r?(a.keylist.push(t),a.prefabArr[t]=r,e&&e(r)):console.error("load prefab err:"+i)}):console.error("not load preBundle err")},loadSpriteAtlas:function(t,e){var a=this;for(var i in a.keylist)if(a.keylist[i]==t){if(a.checkIsDestroy(t,i))break;return void e(a.globalrelease[t])}null!=G_Bundles.preBundle?G_Bundles.preBundle.load(t,cc.SpriteAtlas,function(i,r){!i&&r?(a.keylist.push(t),a.globalrelease[t]=r,e&&e(r)):console.error("load atlas err:"+i)}):console.error("not load preBundle err")},loadSpriteFrame:function(t,e){var a=this;for(var i in a.keylist)if(a.keylist[i]==t){if(a.checkIsDestroy(t,i))break;return void e(a.globalrelease[t])}cc.resources.load(t,cc.SpriteFrame,function(i,r){!i&&r?(a.keylist.push(t),a.globalrelease[t]=r,e&&e(r)):console.error("load spriteFrame err:"+i)})},loadTexture2D:function(t,e){var a=this;for(var i in a.keylist)if(a.keylist[i]==t){if(a.checkIsDestroy(t,i))break;return void e(a.globalrelease[t])}cc.resources.load(t,cc.Texture2D,function(i,r){!i&&r?(a.keylist.push(t),a.globalrelease[t]=r,e&&e(r)):console.error("load textrue err:"+i)})},loadSpineByBundle:function(t,e){var a=this;for(var i in a.keylist)if(a.keylist[i]==t)return void e(a.globalrelease[t]);null!=G_Bundles.preBundle?G_Bundles.preBundle.load(t,sp.SkeletonData,function(i,r){!i&&r?(a.keylist.push(t),a.globalrelease[t]=r,e&&e(r)):console.error("load spine err:"+i)}):console.error("not load preBundle err")},loadSpine:function(t,e){var a=this;for(var i in a.keylist)if(a.keylist[i]==t){if(a.checkIsDestroy(t,i))break;return void e(a.globalrelease[t])}cc.resources.load(t,sp.SkeletonData,function(i,r){!i&&r?(a.keylist.push(t),a.globalrelease[t]=r,e&&e(r)):console.error("load spine err:"+i)})},loadFNT:function(t,e){var a=this;for(var i in a.keylist)if(a.keylist[i]==t){if(a.checkIsDestroy(t,i))break;return void e(a.globalrelease[t])}cc.resources.load(t,cc.Font,function(i,r){!i&&r?(a.keylist.push(t),a.globalrelease[t]=r,e&&e(r)):console.error("load fnt err:"+i)})},checkIsDestroy:function(t,e){return null==this.globalrelease[t]?(this.keylist.splice(e,1),!0):null==this.globalrelease[t]?(this.keylist.splice(e,1),!0):0==this.globalrelease[t].name.length&&(this.keylist.splice(e,1),!0)},destroyUrl:function(t){for(var e in self.keylist)self.keylist[e]==t&&(cc.loader.release(self.globalrelease[t]),delete self.globalrelease[t])},safariFunc:function(){if(!cc.sys.isNative&&cc.sys.isMobile)if(90==window.orientation||-90==window.orientation){var t=document.body.clientHeight-window.innerHeight;t>0?640==cc.view.getDesignResolutionSize().height&&(cc.view.setDesignResolutionSize(1136,640+2*t),cc.director.getScene().getChildren()[0].getChildByName("bg").setPosition(0,-t)):(cc.view.setDesignResolutionSize(1136,640),cc.director.getScene().getChildren()[0].getChildByName("bg").setPosition(0,0))}else cc.view.setDesignResolutionSize(1136,640),cc.director.getScene().getChildren()[0].getChildByName("bg").setPosition(0,0)}}),cc._RF.pop()},{}],Hall:[function(t,e){"use strict";cc._RF.push(e,"89510PraUFG655U+glGEgaS","Hall"),cc.Class({extends:cc.Component,properties:{headNode:cc.Node,goldLabel:cc.Label,zsNode:cc.Node,powerNode:cc.Node,fightNode:cc.Node,generNode:cc.Node,junyNode:cc.Node,shopNode:cc.Node,zhugNode:cc.Node,zggzNode:cc.Node,rankNode:cc.Node,layerNode:cc.Node,wxSubContextView:cc.Node,_guideObj:null,_startLv:-1},onDestroy:function(){g_hallContol=null},onLoad:function(){g_CheckIpad(this.node),g_hallContol=this,G_gameEvent.init(),cc.vv.gameMgr.playBGMusic(1),cc.vv.configMgr.isShowTip=!1,this._zbAtlas=g_getAtlas(g_skinAtlas.zbicon),this.showUIAni(),this._head=this.headNode.getChildByName("hmask").getChildByName("head"),this._bg=this.node.getChildByName("bg"),this._bottom=this.node.getChildByName("bottom");var t=this._bottom.children;if(t[0].getChildByName("bg").active=!1,t[0].getChildByName("select").active=!0,this.checkChjs(),this.updataInfo(),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),1==g_DataMgr.taskData.taskID&&1==g_DataMgr.gameInfo.gkCompelet[1])2==g_DataMgr.pinfo.curSZArr.length?g_DataMgr.g_guideNum=17:g_DataMgr.g_guideNum=7,7!=g_DataMgr.g_guideNum&&17!=g_DataMgr.g_guideNum||this.showGuide(!0);else if(1==g_DataMgr.taskData.taskID&&2==g_DataMgr.gameInfo.gkCompelet[1])G_tcTime=-1,g_DataMgr.g_guideTaskNum=1,this.showGuideTask(!0);else if(2==g_DataMgr.taskData.taskID&&2==g_DataMgr.gameInfo.gkCompelet[1])G_tcTime=-1,g_DataMgr.g_guideTaskNum=8,this.showGuideTask(!0);else if(2==g_DataMgr.taskData.taskID&&3==g_DataMgr.gameInfo.gkCompelet[1])G_tcTime=-1,g_DataMgr.g_guideTaskNum=10,this.showGuideTask(!0);else if(3==g_DataMgr.taskData.taskID&&3==g_DataMgr.gameInfo.gkCompelet[1]&&3==g_DataMgr.pinfo.curSZArr.length)G_tcTime=-1,g_DataMgr.g_guideTaskNum=12,this.showGuideTask(!0);else if(g_DataMgr.gameInfo.gkCompelet[1]>=5&&0==g_DataMgr.gjsyData.guideBX)G_tcTime=-1,g_DataMgr.g_guideTaskNum=28,this.showGuideTask(!0);else if(null!=g_DataMgr.gameInfo.gkCompelet[3]&&g_DataMgr.gameInfo.gkCompelet[3]>4&&0==g_DataMgr.gjsyData.guideZg)G_tcTime=-1,g_DataMgr.g_guideTaskNum=29,this.showGuideTask(!0);else if(g_DataMgr.gameInfo.gkCompelet[3]>=7&&0==g_DataMgr.gjsyData.guideYJZL)G_tcTime=-1,g_DataMgr.g_guideJDNum=18,this.showGuideJD(!0);else if(g_DataMgr.gameInfo.gkCompelet[4]>=5&&0==g_DataMgr.gjsyData.guideJJ)G_tcTime=-1,g_DataMgr.g_guideTaskNum=25,g_DataMgr.gjsyData.guideJJ=1,g_DataMgr.saveGjData(),this.showGuideTask(!0);else if(g_DataMgr.gameInfo.gkCompelet[4]>=10&&0==g_DataMgr.gjsyData.guideYJSL)G_tcTime=-1,g_DataMgr.g_guideJDNum=21,this.showGuideJD(!0);else if(g_DataMgr.gameInfo.gkCompelet[2]>=5&&0==g_DataMgr.gjsyData.guidech&&g_DataMgr.taskData.taskID>=4)G_tcTime=-1,g_DataMgr.g_guideJDNum=13,g_DataMgr.gjsyData.guidech=1,g_DataMgr.saveGjData(),this.showGuideJD(!0);else if(7==g_DataMgr.gameInfo.gkCompelet[2]&&0==g_DataMgr.gjsyData.guidegj)G_tcTime=-1,g_DataMgr.g_guideJDNum=17,g_DataMgr.gjsyData.guidegj=1,g_DataMgr.gjsyData.onLineTime=60,g_DataMgr.saveGjData(),this.showGuideJD(!0);else{if(1==g_DataMgr.g_showUI){var e=this._bottom.getChildByName("btn_wj");this.closeUI(e),this.generNode.active=!0,g_DataMgr.g_showUI=0}if(3==g_DataMgr.g_showUI){var a=this._bottom.getChildByName("btn_shop");this.closeUI(a),this.shopNode.active=!0,g_DataMgr.g_showUI=0}}},showUIAni:function(){var t=this.node.getChildByName("top").getChildByName("info");g_moveAct(.5,cc.v2(t.x,0),t)},onGameHide:function(){console.log("\u6e38\u620f\u8fdb\u5165\u540e\u53f0")},onGameShow:function(){console.log("\u6e38\u620f\u8fdb\u5165\u524d\u53f0")},showTC:function(){if(-1==g_DataMgr.g_guideNum&&0!=this.fightNode.active)return 1==g_DataMgr.updataNotice&&-1!=G_tcTime?(g_DataMgr.updataNotice=0,void this.showProfeb(g_prefabPath.UInotice)):void(0==G_tcTime?(G_tcTime++,g_DataMgr.signData.xsflNum>0?this.showProfeb(g_loadPrefab.UIxsfl):this.showTC()):1==G_tcTime?(G_tcTime++,g_DataMgr.gameInfo.gkCompelet[2]>=7&&1==g_DataMgr.gjsyData.guidegj&&g_DataMgr.gjsyData.onLineTime>=60?this.showProfeb(g_loadPrefab.UIguaji):this.showTC()):2==G_tcTime&&g_DataMgr.isCanXslb&&(this.showProfeb(g_loadPrefab.TCtuis),g_DataMgr.isCanXslb=!1))},updataInfo:function(){var t=g_DataMgr.pinfo;this.goldLabel.string=g_getBigNumAbb(t.coin),this.zsNode.getChildByName("numLabel").getComponent(cc.Label).string=g_getBigNumAbb(t.yxCoin),this.powerNode.getChildByName("numLabel").getComponent(cc.Label).string=t.strengNum+"/"+MAX_STRENGTH;var e=cc.vv.gameMgr.zgList[t.level-1].exp;this.headNode.getChildByName("expPro").getComponent(cc.Sprite).fillRange=t.expNum/e,this.headNode.getChildByName("lv").getChildByName("level").getComponent(cc.Label).string=t.level,this.headNode.getChildByName("zl").getChildByName("zlnum").getComponent(cc.Label).string=this.getzl(),this.headNode.getChildByName("name").getComponent(cc.Label).string=t.nickname,this._head.getComponent(cc.Sprite).spriteFrame=this._zbAtlas.getSpriteFrame("zb_"+t.hasZBData.pf),this.freshRedPoint()},checkLvup:function(t){var e=this,a=g_DataMgr.pinfo;a.expNum+=t,-1==this._startLv&&(this._startLv=a.level);var i=cc.vv.gameMgr.zgList[a.level-1].exp;if(a.expNum>=i)return a.expNum-=i,a.level++,a.level>=cc.vv.gameMgr.zgList.length&&(a.level=cc.vv.gameMgr.zgList.length-1),g_DataMgr.savePinfo(),void this.checkLvup(0);if(this._startLv<a.level){var r=a.level-this._startLv;this._startLv=-1,cc.vv.configMgr.loadPrefab(g_prefabPath.zgUp,function(t){var a=cc.instantiate(t);e.node.addChild(a),a.getComponent("zgUp").initZGlv(r)})}this.updataInfo()},checkChjs:function(){for(var t=0,e=cc.vv.gameMgr.chengHList,a=function(a){var i=e[a];if(g_DataMgr.towerInfo.chHasMap[""+i.ID]>0)return"continue";if(null==g_DataMgr.towerInfo.chHasMap[""+i.ID]&&(g_DataMgr.towerInfo.chHasMap[""+i.ID]=0),0==g_DataMgr.towerInfo.chHasMap[""+i.ID])if("level"==i.type)g_DataMgr.gameInfo.gkCompelet[""+i.num[0]]>=i.num[1]&&(g_DataMgr.towerInfo.chHasMap[""+i.ID]=1,t++);else if("monster"==i.type)g_DataMgr.towerInfo.chKillNum>=i.num&&(g_DataMgr.towerInfo.chHasMap[""+i.ID]=1,t++);else if("card"==i.type){var r=i.num[0]-100;1==g_getDataInArr(r,g_DataMgr.generalSaveArr).getType&&(g_DataMgr.towerInfo.chHasMap[""+i.ID]=1,t++)}else if("cardNum"==i.type)g_DataMgr.generalSaveArr.filter(function(t){return 1==t.getType}).length>=i.num[1]&&(g_DataMgr.towerInfo.chHasMap[""+i.ID]=1,t++);else if("cardPZ"==i.type)g_DataMgr.generalSaveArr.filter(function(t){return 1==t.getType&&t.pzLevel==i.num[0]}).length>=i.num[1]&&(g_DataMgr.towerInfo.chHasMap[""+i.ID]=1,t++);else if("hasCard"==i.type){for(var n=i.num,s=0,o=0;o<n.length;++o){var l=n[o]-100;1==g_getDataInArr(l,g_DataMgr.generalSaveArr).getType&&s++}3==s&&(g_DataMgr.towerInfo.chHasMap[""+i.ID]=1,t++)}},i=0;i<e.length;++i)a(i);t>0&&g_DataMgr.saveTower()},getzl:function(){for(var t=g_DataMgr.pinfo.curSZArr,e=0,a=0;a<t.length;++a){var i=g_getDataInArr(t[a],cc.vv.gameMgr.generalList),r=g_getDataInArr(t[a],g_DataMgr.generalSaveArr),n=r.level,s=r.pzLevel,o=g_getDataInArr(i.sxArr,cc.vv.gameMgr.generaljjList).sxArr[s-i.quality][n];e+=g_getDataInArr(o,cc.vv.gameMgr.generalSxList).zl}var l=g_getDataInArr(g_DataMgr.towerInfo.towerID,cc.vv.gameMgr.towerArr),g=g_DataMgr.towerInfo.towerLv,c=l.sxArr[0]+g*l.sxArr[1];return e+=g_getDataInArr(c,cc.vv.gameMgr.towerSxList).zl,g_Data.g_zgZLNum!=e&&(g_Data.g_zgZLNum=e),e},freshRedPoint:function(){var t=this._bottom.children;t[1].getChildByName("red").active=this.checkWjRed(),t[2].getChildByName("red").active=this.checkJDRed(),t[3].getChildByName("red").active=0!=g_DataMgr.signData.bykboxNum||0!=g_DataMgr.signData.xdkboxNum,t[4].getChildByName("red").active=this.checkZGRed()},checkWjRed:function(){for(var t=[],e=0;e<g_DataMgr.generalSaveArr.length;++e)1==g_DataMgr.generalSaveArr[e].getType&&t.push(g_DataMgr.generalSaveArr[e]);for(var a=0;a<t.length;++a){var i=t[a].ID,r=g_getDataInArr(i,cc.vv.gameMgr.generalList),n=t[a].level,s=t[a].pzLevel-r.quality,o=g_getDataInArr(r.sxArr,cc.vv.gameMgr.generaljjList),l=o.sxArr[s].length;r.sxID=o.sxArr[s][n];var g=g_getDataInArr(r.sxID,cc.vv.gameMgr.generalSxList);if(g.cost<=g_DataMgr.pinfo.coin&&g.card<=t[a].chipNum&&n<l-1)return!0;var c=o.stone[s];if(null!=g_DataMgr.gameInfo.gkCompelet[4]&&g_DataMgr.gameInfo.gkCompelet[4]>=5&&s<MAX_JJLEVEL){for(var h=null,_=0;_<c.length;++_){var u=c[_][0],d=c[_][1],f=!0;if(1==u)g_DataMgr.pinfo.coin<d&&(f=!1);else if(u>50&&u<60){var p=u-50;g_DataMgr.pinfo.jxStone[p]<d&&(f=!1)}h=null==h?f:h&&f}if(null!=h)return h}}return!1},checkJDRed:function(){if(g_DataMgr.taskData.taskID<=3)return!1;var t=g_getDataInArr(g_DataMgr.towerInfo.towerID,cc.vv.gameMgr.towerArr),e=g_DataMgr.towerInfo.towerLv,a=t.sxArr[0]+e*t.sxArr[1],i=g_getDataInArr(a,cc.vv.gameMgr.towerSxList);return e<cc.vv.gameMgr.towerSxList.length-1&&i.cost<=g_DataMgr.pinfo.coin&&i.ztnum<=g_DataMgr.pinfo.ztCoin||!!this.checkSkillRed()},checkSkillRed:function(){for(var t=cc.vv.gameMgr.zSkillList,e=0;e<t.length;++e){null==g_DataMgr.towerInfo.skillLvMap[""+t[e].ID]&&(g_DataMgr.towerInfo.skillLvMap[""+t[e].ID]=0,g_DataMgr.saveTower());var a=!0;if("task"===t[e].jsType&&(a=g_DataMgr.taskData.taskID<=t[e].jsLv),"juying"===t[e].jsType&&(a=g_DataMgr.towerInfo.towerLv<t[e].jsLv-1),!a){var i=t[e].coin.length,r=g_DataMgr.towerInfo.skillLvMap[""+t[e].ID];if(r<i-1&&g_DataMgr.pinfo.skillStone[t[e].cardID-60]>=t[e].cardNum[r]&&t[e].coin[r]<=g_DataMgr.pinfo.coin)return!0}}return!1},checkZGRed:function(){if(!(null!=g_DataMgr.gameInfo.gkCompelet[3]&&g_DataMgr.gameInfo.gkCompelet[3]>=5))return!1;for(var t=g_DataMgr.pinfo.knapsack,e=0;e<t.length;++e){var a=t[e].glv,i=g_getDataInArr(t[e].gID,cc.vv.gameMgr.equipList);if(a<MAX_ZBLEVEL-1&&t[e].gNum>=i.cost[a])return!0;if(null==g_DataMgr.pinfo.hasZBData[i.location])return!0}return!1},closeUI:function(t,e){if(null==e){for(var a=this._bottom.children,i=0;i<a.length;++i)a[i].getChildByName("bg").active=!0,a[i].getChildByName("select").active=!1;t.getChildByName("bg").active=!1,t.getChildByName("select").active=!0,"btn_shop"===t.name?(this.zsNode.active=!0,this.powerNode.active=!1):(this.zsNode.active=!1,this.powerNode.active=!0)}this.fightNode.active=!1,this.generNode.active=!1,this.junyNode.active=!1,this.shopNode.active=!1,this.zhugNode.active=!1,this.zggzNode.active=!1,this.rankNode.active=!1},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_fight"==t.target.name){if(this.fightNode.active)return;this.closeUI(t.target),this.fightNode.active=!0}else if("btn_wj"==t.target.name){if(this.generNode.active)return;this.closeUI(t.target),this.generNode.active=!0}else if("btn_juying"==t.target.name){if(g_DataMgr.taskData.taskID<=3)return void cc.vv.configMgr.addTips("\u5b8c\u6210\u5e76\u9886\u53d6\u4efb\u52a1\uff1a\u901a\u51731-4!");if(this.junyNode.active)return;this.closeUI(t.target),this.junyNode.active=!0}else if("btn_shop"==t.target.name){if(this.shopNode.active)return;this.closeUI(t.target),this.shopNode.active=!0}else if("btn_zg"==t.target.name){if(!(null!=g_DataMgr.gameInfo.gkCompelet[3]&&g_DataMgr.gameInfo.gkCompelet[3]>=5))return void cc.vv.configMgr.addTips("\u901a\u8fc73-5\u5173\u65b9\u53ef\u89e3\u9501!");if(this.zhugNode.active)return;this.closeUI(t.target),this.zhugNode.active=!0}else"head"==t.target.name?this.showHeadInfo():"power"==t.target.name?this.showGetTS(4):"coin"==t.target.name?this.showGetTS(1):"zscoin"==t.target.name&&this.showGetTS(2)},showProfeb:function(t){var e=this,a=t.split("/");cc.vv.configMgr.loadPrefab(t,function(t){var i=a[a.length-1];if(null==e.layerNode.getChildByName(i)){var r=cc.instantiate(t);e.layerNode.addChild(r)}})},showHeadInfo:function(){var t=this;cc.vv.configMgr.loadPrefab(g_prefabPath.headInfo,function(e){var a=cc.instantiate(e);t.node.addChild(a)})},showGetTS:function(t){var e=this;cc.vv.configMgr.loadPrefab(g_prefabPath.getts,function(a){var i=cc.instantiate(a);e.layerNode.addChild(i),i.getComponent("getts").initGetTS(t)})},update:function(){G_countLineTime++,60==G_countLineTime&&(G_countLineTime=0,g_DataMgr.ncountLineTime++,300==g_DataMgr.ncountLineTime&&(g_DataMgr.ncountLineTime=0,g_DataMgr.pinfo.strengNum<MAX_STRENGTH&&(g_DataMgr.pinfo.strengNum++,g_DataMgr.savePowerUseLTime(),this.powerNode.getChildByName("numLabel").getComponent(cc.Label).string=g_DataMgr.pinfo.strengNum+"/"+MAX_STRENGTH)),1==g_DataMgr.gjsyData.guidegj&&g_DataMgr.gjsyData.onLineTime<3600*g_DataMgr.gjMaxTime&&(g_DataMgr.gjsyData.onLineTime++,g_DataMgr.saveGjData()),g_DataMgr.g_xslbTime>0&&(g_DataMgr.g_xslbTime--,0==g_DataMgr.g_xslbTime&&G_gameEvent.emit(G_gameEvent.freshXSLBEvent),g_DataMgr.tuisSaveData.tsTime=g_DataMgr.g_xslbTime,g_DataMgr.saveTuisData()),g_DataMgr.mhTime>0&&(g_DataMgr.mhTime--,0==g_DataMgr.mhTime&&G_gameEvent.emit(G_gameEvent.freshMHEvent),g_DataMgr.tuisSaveData.mhTime=g_DataMgr.mhTime,g_DataMgr.saveTuisData()))},showGuide:function(t){if(t){if(null!=this._guideObj)return;this._guideObj=G_createPrefab(g_loadPrefab.guideHall),null!=this._guideObj&&this.node.addChild(this._guideObj)}else null!=this._guideObj&&(this._guideObj.destroy(),this._guideObj=null,g_DataMgr.g_guideNum++),8==g_DataMgr.g_guideNum&&this.showGuide(!0),9==g_DataMgr.g_guideNum&&this.showGuide(!0),11==g_DataMgr.g_guideNum&&this.showGuide(!0),13!=g_DataMgr.g_guideNum&&15!=g_DataMgr.g_guideNum&&16!=g_DataMgr.g_guideNum&&17!=g_DataMgr.g_guideNum||this.showGuide(!0)},showGuideTask:function(t){if(t){if(null!=this._guideObj)return;this._guideObj=G_createPrefab(g_loadPrefab.guideTask),null!=this._guideObj&&(this.node.addChild(this._guideObj),this._guideObj.zIndex=100)}else 6==g_DataMgr.g_guideTaskNum&&g_DataMgr.saveTaskData(),28==g_DataMgr.g_guideTaskNum&&(g_DataMgr.gjsyData.guideBX=1,g_DataMgr.saveGjData()),null!=this._guideObj&&(this._guideObj.destroy(),this._guideObj=null,19==g_DataMgr.g_guideTaskNum||36==g_DataMgr.g_guideTaskNum||27==g_DataMgr.g_guideTaskNum||28==g_DataMgr.g_guideTaskNum?g_DataMgr.g_guideTaskNum=0:g_DataMgr.g_guideTaskNum++),2!=g_DataMgr.g_guideTaskNum&&4!=g_DataMgr.g_guideTaskNum&&5!=g_DataMgr.g_guideTaskNum&&7!=g_DataMgr.g_guideTaskNum&&8!=g_DataMgr.g_guideTaskNum&&11!=g_DataMgr.g_guideTaskNum&&13!=g_DataMgr.g_guideTaskNum&&15!=g_DataMgr.g_guideTaskNum&&17!=g_DataMgr.g_guideTaskNum&&30!=g_DataMgr.g_guideTaskNum&&31!=g_DataMgr.g_guideTaskNum&&32!=g_DataMgr.g_guideTaskNum&&33!=g_DataMgr.g_guideTaskNum&&34!=g_DataMgr.g_guideTaskNum&&35!=g_DataMgr.g_guideTaskNum&&36!=g_DataMgr.g_guideTaskNum&&26!=g_DataMgr.g_guideTaskNum&&27!=g_DataMgr.g_guideTaskNum||this.showGuideTask(!0)},showGuideJD:function(t){if(t){if(null!=this._guideObj)return;this._guideObj=G_createPrefab(g_loadPrefab.guideJD),null!=this._guideObj&&this.node.addChild(this._guideObj)}else null!=this._guideObj&&(this._guideObj.destroy(),this._guideObj=null,2==g_DataMgr.g_guideJDNum||7==g_DataMgr.g_guideJDNum||12==g_DataMgr.g_guideJDNum||16==g_DataMgr.g_guideJDNum||17==g_DataMgr.g_guideJDNum?g_DataMgr.g_guideJDNum=0:g_DataMgr.g_guideJDNum++),2!=g_DataMgr.g_guideJDNum&&5!=g_DataMgr.g_guideJDNum&&6!=g_DataMgr.g_guideJDNum&&7!=g_DataMgr.g_guideJDNum&&10!=g_DataMgr.g_guideJDNum&&11!=g_DataMgr.g_guideJDNum&&12!=g_DataMgr.g_guideJDNum&&14!=g_DataMgr.g_guideJDNum&&15!=g_DataMgr.g_guideJDNum&&16!=g_DataMgr.g_guideJDNum&&19!=g_DataMgr.g_guideJDNum&&20!=g_DataMgr.g_guideJDNum&&22!=g_DataMgr.g_guideJDNum||this.showGuideJD(!0)}}),cc._RF.pop()},{}],SceneMgr:[function(t,e){"use strict";cc._RF.push(e,"618cfhnWstB9Zb5RdCHk4hl","SceneMgr");var a=t;cc.Class({extends:a("SingleCase"),properties:{curScene:null,Event:null},ctor:function(){},openScene:function(t,e){this.curScene=t,cc.director.loadScene(t,function(){e&&e()}.bind(this))},preLoadScene:function(t,e){cc.director.preloadScene(t,function(){e&&e()}.bind(this))},getName:function(){return this.curScene},getRootNode:function(){return cc.find("Canvas").getChildByName("bg")}}),cc._RF.pop()},{}],SingleCase:[function(t,e){"use strict";function a(){return(a=i()?Reflect.construct:function(t,e,a){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return a&&r(n,a.prototype),n}).apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}cc._RF.push(e,"7dadd1UUCFCc6jVRj6/Ry2i","SingleCase"),cc.Class({statics:{_instance:null,getInstance:function(){if(!this._instance){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._instance=a(this,e)}return this._instance}}}),cc._RF.pop()},{}],TCtuis:[function(t,e){"use strict";cc._RF.push(e,"969f7UqLWxCS7Ngjo1mMDw1","TCtuis"),cc.Class({extends:cc.Component,properties:{propItem:cc.Prefab,roleNode:cc.Node,awardNode:cc.Node,timeNode:cc.Node,_videoNum:0},onLoad:function(){this.introArr=["","\u7528\u4e8e\u6b66\u5c06\u5347\u7ea7","\u7528\u4e8e\u5546\u57ce\u62bd\u5361","\u7528\u4e8e\u519b\u8425\u5347\u7ea7"],this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),this._bg=this.node.getChildByName("bg"),this._spine=this.roleNode.getComponent(sp.Skeleton),this.qpani=this._bg.getChildByName("qp").getComponent(cc.Animation),this.updataTC(),this.initTuis(),cc.vv.gameMgr.showLayerAni(this._bg)},initTuis:function(){var t=G_tuisArr[g_DataMgr.tuisSaveData.tsIndex],e=g_DataMgr.tuisSaveData.tsAwardArr;if(0==e.length){for(var a=t.dropitem,i=0;i<a.length;++i){var r=a[i],n={propType:r[0],getNum:r[1],zbID:0};e.push(n)}var s=g_getRandom(0,t.card.length-1),o={propType:t.card[s],getNum:1,zbID:0};e.push(o),g_DataMgr.tuisSaveData.tsAwardArr=e,g_DataMgr.saveTuisData()}console.log("================",e);for(var l=0;l<e.length;++l){var g=cc.instantiate(this.propItem);this.awardNode.addChild(g),g.scale=.9;var c=e[l].propType,h=e[l].getNum,_="prop_"+c;if(c>50&&c<60){var u=c-50;u>5&&(u=5),_="s_"+c,g.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+u)}else if(c>60&&c<80)_="skill_"+(c-60),g.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(_);else if(c>100){var d=c-100;_="head_"+d;var f=g_getDataInArr(d,cc.vv.gameMgr.generalList);g.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+f.quality),g.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(_)}var p=null;0==c?(p=g_getDataInArr(e[l].zbID,cc.vv.gameMgr.equipList),g.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+p.icon),g.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+p.quality)):c<60&&(g.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(_)),g.getChildByName("num").getComponent(cc.Label).string=h,g._goodIndex=l,g.getChildByName("icon").on(cc.Node.EventType.TOUCH_END,this.onGoodTS,this)}},onGoodTS:function(t){var e=g_DataMgr.tuisSaveData.tsAwardArr,a=t.target.parent,i=e[a._goodIndex];if(2!=a._goodIndex){var r=a.position,n=a.parent.convertToWorldSpaceAR(r),s=this.node.parent.convertToNodeSpaceAR(n);this.node.getChildByName("btn_closets").active=!0;var o=this.node.getChildByName("btn_closets").getChildByName("talk");o.getChildByName("lb").getComponent(cc.Label).string=this.introArr[i.propType],o.position=cc.v2(s.x,s.y+100)}else{var l=G_createPrefab(g_loadPrefab.getGeneral);null!=l&&(this.node.parent.addChild(l),l.getComponent("getGeneral").initGetGeneral(i.propType-100,this.node,1))}},updataTC:function(){var t=this,e=g_getEffect(27,g_heroRes);cc.vv.configMgr.loadSpine(e,function(e){t._spine.skeletonData=e,t._spine.loop=!0,t._spine.animation="idle",t._spine.timeScale=1,t._spine.setSkin("default"),t.qpani.play()})},showGetAward:function(){var t=g_DataMgr.tuisSaveData.tsAwardArr,e=G_createPrefab(g_loadPrefab.getAward);null!=e&&(this.node.parent.addChild(e),e.getComponent("getAward").initAward(t)),g_DataMgr.g_tgCount=3,g_DataMgr.g_xslbTime=0,g_DataMgr.tuisSaveData.tsIndex++,g_DataMgr.tuisSaveData.tsIndex>=G_tuisArr.length&&(g_DataMgr.tuisSaveData.tsIndex=0),g_DataMgr.tuisSaveData.tsTime=g_DataMgr.g_xslbTime,g_DataMgr.tuisSaveData.tsAwardArr=[],g_DataMgr.saveTuisData(),G_gameEvent.emit(G_gameEvent.freshXSLBEvent)},onShowVideo:function(){1==this._videoNum&&(this.showGetAward(),this.destroyFun()),this._videoNum=0},onBtnClick:function(t){var e=this;cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||("btn_close"==t.target.name?this.destroyFun():"btn_closets"==t.target.name?this.node.getChildByName("btn_closets").active=!1:"btn_lq"==t.target.name&&(G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=1,this.onShowVideo())))},destroyFun:function(){this.node.destroy()},update:function(){this.timeNode.getComponent(cc.Label).string=G_time(g_DataMgr.g_xslbTime,0)}}),cc._RF.pop()},{}],UIbarrack:[function(t,e){"use strict";cc._RF.push(e,"04773VxNDZONZvKZz8jSDgM","UIbarrack"),cc.Class({extends:cc.Component,properties:{skillItem:cc.Prefab,roleItem:cc.Prefab,chItem:cc.Prefab,chAtlas:cc.SpriteAtlas,generNode:cc.Node,sxInfoNode:cc.Node,chbagNode:cc.Node,jnbagNode:cc.Node,chbtnNode:cc.Node,chListNode:cc.Node,skillbtn:cc.Node,skillPos:cc.Node,skillList:cc.Node},onLoad:function(){this._maxLv=cc.vv.gameMgr.towerSxList.length,this._skillAtlas=g_getAtlas(g_skinAtlas.skill),this._twoSpine=this.node.getChildByName("bg").getChildByName("tower").getComponent(sp.Skeleton),this.showTower(),this.showSZgeneral(),this.showUIAni()},showUIAni:function(){var t=[0,-243,-235],e=this.node.getChildByName("bg").getChildByName("btn_ch"),a=this.node.getChildByName("bg").getChildByName("btn_skill"),i=this.node.getChildByName("bg").getChildByName("sxInfo");g_moveAct(.5,cc.v2(t[0],e.y),e,null,1),g_moveAct(.5,cc.v2(t[1],a.y),a,null,1),g_moveAct(.5,cc.v2(i.x,t[2]),i,null,1)},showTower:function(){var t=this;this._ID=g_DataMgr.towerInfo.towerID,this._curTowerData=g_getDataInArr(this._ID,cc.vv.gameMgr.towerArr);var e=g_getEffect(this._curTowerData.skinID,g_heroRes);cc.vv.configMgr.loadSpine(e,function(e){t._twoSpine.skeletonData=e,t._twoSpine.loop=!0,t._twoSpine.animation="jidi_idle",t._twoSpine.timeScale=1,t._twoSpine.setSkin("default")}),this.showCH(),this.skillbtn.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("skill_"+g_DataMgr.towerInfo.skillID)},showSZgeneral:function(){for(var t=g_DataMgr.pinfo.curSZArr,e=this.generNode.children,a=0;a<t.length;++a){null!=e[a].getChildByName("role")&&e[a].getChildByName("role").destroy();var i=cc.instantiate(this.roleItem);null!=i&&function(){e[a].addChild(i);var r=i.getComponent(sp.Skeleton),n=g_getEffect(t[a],g_heroRes);cc.vv.configMgr.loadSpine(n,function(t){r.skeletonData=t,r.loop=!0,r.animation="idle",r.timeScale=1,r.setSkin("default")})}()}},getCHBuff:function(){var t=g_DataMgr.towerInfo.titleID;if(0!=t){var e=g_getDataInArr(t,cc.vv.gameMgr.chengHList),a=g_getDataInArr(e.buff,cc.vv.gameMgr.buffList);"attack"===a.type?this._towerSXData.attack+=Math.round(this._towerSXData.attack*a.value/100):"life"===a.type?this._towerSXData.HP+=Math.round(this._towerSXData.HP*a.value/100):"crit"===a.type&&(this._towerSXData.crit+=a.value)}},updataShowSX:function(){var t=g_DataMgr.towerInfo.towerLv,e=this._curTowerData.sxArr[0]+t*this._curTowerData.sxArr[1];this._towerSXData=g_getDataInArr(e,cc.vv.gameMgr.towerSxList),this.getCHBuff(),this.sxInfoNode.getChildByName("title").getChildByName("zllb").getComponent(cc.Label).string=this._towerSXData.zl;var a=this.sxInfoNode.getChildByName("sx");a.getChildByName("lv").getComponent(cc.Label).string=t+1,a.getChildByName("life").getComponent(cc.Label).string=this._towerSXData.HP,a.getChildByName("gj").getComponent(cc.Label).string=this._towerSXData.attack;var i=this.sxInfoNode.getChildByName("xh");i.getChildByName("goldNum").getComponent(cc.Label).string=this._towerSXData.cost;var r="<outline color=#75420C width=2><color=#ffffff>"+g_DataMgr.pinfo.ztCoin+"</c><color=#ffffff>/"+this._towerSXData.ztnum;g_DataMgr.pinfo.ztCoin<this._towerSXData.ztnum&&(r="<outline color=#75420C width=2><color=#ff0000>"+g_DataMgr.pinfo.ztCoin+"</c><color=#ffffff>/"+this._towerSXData.ztnum),i.getChildByName("ztNum").getComponent(cc.RichText).string=r,this.sxInfoNode.getChildByName("btn_sj").active=g_DataMgr.towerInfo.towerLv<this._maxLv-1,this.freshRed()},freshRed:function(){this.sxInfoNode.getChildByName("btn_sj").getChildByName("red").active=!1,g_DataMgr.towerInfo.towerLv<this._maxLv-1&&(this.sxInfoNode.getChildByName("btn_sj").getChildByName("red").active=this._towerSXData.cost<=g_DataMgr.pinfo.coin&&this._towerSXData.ztnum<=g_DataMgr.pinfo.ztCoin),this.node.getChildByName("bg").getChildByName("btn_skill").getChildByName("red").active=g_hallContol.checkSkillRed();var t=null!=g_DataMgr.gameInfo.gkCompelet[2]&&g_DataMgr.gameInfo.gkCompelet[2]>4;this.chbtnNode.active=t},showCH:function(){if(0!=g_DataMgr.towerInfo.titleID){var t=g_getDataInArr(g_DataMgr.towerInfo.titleID,cc.vv.gameMgr.chengHList),e=this.chbtnNode.getChildByName("chItem");if(null!=e)e.getChildByName("chspine").getComponent(sp.Skeleton).setSkin(t.skin);else{var a=cc.instantiate(this.chItem);this.chbtnNode.addChild(a),this.chbtnNode.getChildByName("cbg").active=!1,a.getChildByName("chspine").active=!0,a.getChildByName("chspine").getComponent(sp.Skeleton).setSkin(t.skin)}}else{var i=this.chbtnNode.getChildByName("chItem");null!=i&&(this.chbtnNode.getChildByName("cbg").active=!0,i.destroy())}this.updataShowSX()},showCHList:function(){this.chListNode.removeAllChildren();for(var t=cc.vv.gameMgr.chengHList,e=0;e<t.length;++e){var a=cc.instantiate(this.chItem);this.chListNode.addChild(a);var i="";0==g_DataMgr.towerInfo.chHasMap[""+t[e].ID]?(i="c_"+t[e].ID,a.getChildByName("wjs").active=!0):i="lc_"+t[e].ID,a.getChildByName("icon").active=!0,a.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.chAtlas.getSpriteFrame(i),a._chData=t[e],a._pointNode=this.node,a.on(cc.Node.EventType.TOUCH_END,this.onSelectCH,this),a.getChildByName("sch").active=t[e].ID==g_DataMgr.towerInfo.titleID,a.getChildByName("red").active=1==g_DataMgr.towerInfo.chHasMap[""+t[e].ID]}},onSelectCH:function(t){var e=t.target,a=G_createPrefab(g_loadPrefab.chInfo);null!=a&&(g_hallContol.node.addChild(a),a.getComponent("chInfo").initChInfo(e)),15==g_DataMgr.g_guideJDNum&&g_hallContol.showGuideJD(!1)},setCH:function(t){var e=this.chListNode.children,a=e.findIndex(function(t){return 1==t.getChildByName("sch").active});if(-1!=a&&(e[a].getChildByName("sch").active=!1),0!=t){var i=e.findIndex(function(e){return e._chData.ID==t});-1!=i&&(e[i].getChildByName("sch").active=!0),g_DataMgr.towerInfo.titleID=t,g_DataMgr.saveTower(),this.showCH()}else g_DataMgr.towerInfo.titleID=0,g_DataMgr.saveTower(),this.showCH()},showSkill:function(){this.skillList.removeAllChildren();for(var t=cc.vv.gameMgr.zSkillList,e=this.skillPos.children,a=0;a<t.length;++a){null==g_DataMgr.towerInfo.skillLvMap[""+t[a].ID]&&(g_DataMgr.towerInfo.skillLvMap[""+t[a].ID]=0,g_DataMgr.saveTower());var i=g_DataMgr.towerInfo.skillLvMap[""+t[a].ID],r=cc.instantiate(this.skillItem);this.skillList.addChild(r),r.position=e[a].position,r.getChildByName("select").active=!1,r.getChildByName("lv").getComponent(cc.Label).string="Lv."+(1+i);var n=g_getDataInArr(t[a].name,cc.vv.gameMgr.stringList.skillStr);r.getChildByName("skillname").getComponent(cc.Label).string=n.strName;var s=!0;"task"===t[a].jsType&&(s=g_DataMgr.taskData.taskID<=t[a].jsLv),"juying"===t[a].jsType&&(s=g_DataMgr.towerInfo.towerLv<t[a].jsLv-1),r.getChildByName("suo").active=s,r.on(cc.Node.EventType.TOUCH_END,this.onClickQHskill,this),r._skillData=t[a],r.getChildByName("red").active=!1,r.getChildByName("suo").active?r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("sskill_"+t[a].ID):(i<t[a].coin.length-1&&g_DataMgr.pinfo.skillStone[t[a].cardID-60]>=t[a].cardNum[i]&&t[a].coin[i]<=g_DataMgr.pinfo.coin&&(r.getChildByName("red").active=!0),r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("skill_"+t[a].ID),r.getChildByName("lv").active=!0,r.getChildByName("skillname").active=!0),0==g_DataMgr.towerInfo.skillID&&0==a&&(r.getChildByName("suo").active||(g_DataMgr.towerInfo.skillID=t[a].ID,this.skillbtn.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("skill_"+g_DataMgr.towerInfo.skillID))),r.getChildByName("select").active=g_DataMgr.towerInfo.skillID==t[a].ID}},onClickQHskill:function(t){var e=t.target,a=G_createPrefab(g_loadPrefab.skillUp);null!=a&&(g_hallContol.node.addChild(a),a.getComponent("skillUp").initSkill(e,this.node))},setChange:function(t){for(var e=this.skillList.children,a=0;a<e.length;++a)e[a].getChildByName("select").active=!1;t.getChildByName("select").active=!0,this.skillbtn.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("skill_"+g_DataMgr.towerInfo.skillID)},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_sj"==t.target.name){if(2==g_DataMgr.g_guideJDNum&&g_hallContol.showGuideJD(!1),g_DataMgr.towerInfo.towerLv==this._maxLv-1)return;if(g_DataMgr.pinfo.ztCoin<this._towerSXData.ztnum)return void cc.vv.configMgr.addTips("\u62e5\u6709\u7816\u5934\u4e0d\u8db3!");if(g_DataMgr.pinfo.coin<this._towerSXData.cost)return void cc.vv.configMgr.addTips("\u91d1\u5e01\u4e0d\u8db3!");g_DataMgr.pinfo.coin-=this._towerSXData.cost,g_DataMgr.pinfo.ztCoin-=this._towerSXData.ztnum,g_DataMgr.towerInfo.towerLv++,g_DataMgr.saveTower(),g_DataMgr.savePinfo(),this.updataShowSX();var e=G_createPrefab(g_loadPrefab.towersjcg);null!=e&&(g_hallContol.node.addChild(e),e.getComponent("towersjcg").initTowerup(this.node)),null!=g_hallContol&&g_hallContol.updataInfo()}else"btn_ch"==t.target.name?(this.jnbagNode.active=!1,this.chbagNode.active?this.chbagNode.active=!1:(this.chbagNode.active=!0,this.showCHList())):"btn_sy"==t.target.name?this.setCH(1):"btn_xx"==t.target.name?this.setCH(0):"btn_closech"==t.target.name?this.chbagNode.active=!1:"btn_skill"==t.target.name?(this.chbagNode.active=!1,this.jnbagNode.active?this.jnbagNode.active=!1:(this.jnbagNode.active=!0,this.showSkill())):"btn_closeskill"==t.target.name&&(this.jnbagNode.active=!1)}}),cc._RF.pop()},{}],UIgeneral:[function(t,e){"use strict";cc._RF.push(e,"0abdbW2/b5N/rnu120WH3xJ","UIgeneral"),cc.Class({extends:cc.Component,properties:{roleItem:cc.Prefab,generItem:cc.Prefab,generNode:cc.Node,wjList:cc.Node,wjContent:cc.Node,btnNode:cc.Node,_btnIndex:0},onLoad:function(){this._btnIndex=0,this._infoNode=this.node.getChildByName("bg").getChildByName("info"),this.showWJlist(0),this.showSZgeneral(),this.showUIAni()},showUIAni:function(){var t=[0,111];g_moveAct(.5,cc.v2(t[0],this._infoNode.y),this._infoNode,null,1),g_moveAct(.6,cc.v2(this.wjList.x,t[1]),this.wjList,null,1)},zlsort:function(t){return t.sort(function(t,e){var a=g_getDataInArr(t.ID,cc.vv.gameMgr.generalList),i=g_getDataInArr(t.ID,g_DataMgr.generalSaveArr),r=i.level,n=i.pzLevel,s=g_getDataInArr(a.sxArr,cc.vv.gameMgr.generaljjList).sxArr[n-a.quality][r],o=g_getDataInArr(s,cc.vv.gameMgr.generalSxList),l=g_getDataInArr(e.ID,cc.vv.gameMgr.generalList),g=g_getDataInArr(e.ID,g_DataMgr.generalSaveArr),c=g.level,h=g.pzLevel,_=g_getDataInArr(l.sxArr,cc.vv.gameMgr.generaljjList).sxArr[h-l.quality][c];return g_getDataInArr(_,cc.vv.gameMgr.generalSxList).zl-o.zl})},showWJlist:function(t){this.wjContent.removeAllChildren();for(var e=[],a=[],i=[],r=0,n=0;n<g_DataMgr.generalSaveArr.length;++n)1==g_DataMgr.generalSaveArr[n].szState?e.push(g_DataMgr.generalSaveArr[n]):1==g_DataMgr.generalSaveArr[n].getType?i.push(g_DataMgr.generalSaveArr[n]):a.push(g_DataMgr.generalSaveArr[n]),1==g_DataMgr.generalSaveArr[n].getType&&r++;0==t&&(e=e.sort(function(t,e){return e.level-t.level}),i=i.sort(function(t,e){return e.level-t.level}),a=a.sort(function(t,e){return e.level-t.level})),1==t&&(e=e.sort(function(t,e){return e.pzLevel-t.pzLevel}),i=i.sort(function(t,e){return e.pzLevel-t.pzLevel}),a=a.sort(function(t,e){return e.pzLevel-t.pzLevel})),2==t&&(e=this.zlsort(e),i=this.zlsort(i),a=this.zlsort(a));for(var s=e.concat(i).concat(a),o=0;o<s.length;++o){var l=cc.instantiate(this.generItem);this.wjContent.addChild(l),l.getComponent("wjItem").initWJItem(s[o].ID,o,this.node)}this._infoNode.getChildByName("wdNum").getComponent(cc.Label).string="\u6211\u7684\u6536\u96c6\uff1a"+r+"/"+s.length},showSZgeneral:function(){for(var t=g_DataMgr.pinfo.curSZArr,e=0;e<t.length;++e){var a=this.generNode.getChildByName("node"+e);null!=a.getChildByName("role")&&a.getChildByName("role").destroy();var i=cc.instantiate(this.roleItem);null!=i&&function(){a.addChild(i);var r=i.getComponent(sp.Skeleton),n=g_getEffect(t[e],g_heroRes);cc.vv.configMgr.loadSpine(n,function(t){r.skeletonData=t,r.loop=!0,r.animation="idle",r.timeScale=1,r.setSkin("default")})}(),a.getChildByName("btn").active=!0,a.getChildByName("btn")._generalID=t[e],a.getChildByName("btn")._szIndex=e,a.getChildByName("btn").on(cc.Node.EventType.TOUCH_END,this.onClickSZwj,this);var r=this.findGinList(t[e]);if(null!=r){var n=r.getComponent("wjItem")._heroSxData.zl;a.getChildByName("zl").getChildByName("label").getComponent(cc.Label).string=n}a.getChildByName("select").zIndex=1,a._wjID=t[e]}},updataGeneralList:function(){for(var t=this.wjContent.children,e=0;e<t.length;++e)t[e].getComponent("wjItem").updataShowWJitem()},updataSZzl:function(t){for(var e=this.generNode.children,a=null,i=0;i<e.length;++i)if(e[i]._wjID==t){a=i;break}if(null!=a){var r=this.findGinList(t);if(null!=r){var n=r.getComponent("wjItem")._heroSxData.zl;e[a].getChildByName("zl").getChildByName("label").getComponent(cc.Label).string=n}}},findGinList:function(t){for(var e=this.wjContent.children,a=null,i=0;i<e.length;++i)if(t==e[i].getComponent("wjItem")._generalID){a=e[i];break}return a},onClickSZwj:function(t){var e=t.target._generalID,a=t.target._szIndex;if(this.wjList.getChildByName("select").active){var i=this.wjList.getChildByName("select")._generalID,r=g_getDataInArr(e,g_DataMgr.generalSaveArr);r.szState=0,g_DataMgr.saveGeneralData(r);var n=g_getDataInArr(i,g_DataMgr.generalSaveArr);n.szState=1,g_DataMgr.saveGeneralData(n),g_DataMgr.pinfo.curSZArr[a]=i,g_DataMgr.savePinfo(),this.showSelectwj(!1),this.freshShow()}else{var s=this.findGinList(e);if(null!=s){var o=G_createPrefab(g_loadPrefab.wjInfo);null!=o&&(g_hallContol.node.addChild(o),o.getComponent("wjInfo").initWjInfo(e,s))}}},freshShow:function(){var t=this._btnIndex-1<0?2:this._btnIndex-1;this.showWJlist(t),this.showSZgeneral(),null!=g_hallContol&&g_hallContol.updataInfo()},setChange:function(t){this.showSelectwj(!0);var e=t.getComponent("wjItem");if(null!=e){var a=e._curSaveHero.level;this.wjList.getChildByName("select")._generalID=e._generalID;var i=this.wjList.getChildByName("select").getChildByName("wj");i.getChildByName("pz").getComponent(cc.Sprite).spriteFrame=e._pzAlasData.getSpriteFrame("k_"+e._curSaveHero.pzLevel),e._curSaveHero.pzLevel>5&&(i.getChildByName("sh").active=!0,i.getChildByName("sh").getChildByName("lv").getComponent(cc.Label).string=e._curSaveHero.pzLevel-5),i.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e._atlasData.getSpriteFrame("head_"+e._heroData.ID),i.getChildByName("lpz").getComponent(cc.Sprite).spriteFrame=e._pzAlasData.getSpriteFrame("l_"+e._curSaveHero.pzLevel),i.getChildByName("lpz").getChildByName("lv").getComponent(cc.Label).string=a+1;var r=i.getChildByName("sp");r.active=a<MAX_LEVEL-1,r.getChildByName("pro").getComponent(cc.Sprite).fillRange=e._curSaveHero.chipNum/e._heroSxData.card>=1?1:e._curSaveHero.chipNum/e._heroSxData.card,r.getChildByName("lb").getComponent(cc.Label).string=e._curSaveHero.chipNum+"/"+e._heroSxData.card,r.getChildByName("jiant").active=e._curSaveHero.chipNum>=e._heroSxData.card,i.getChildByName("zl").getChildByName("lb").getComponent(cc.Label).string=e._heroSxData.zl}},showSelectwj:function(t){this.wjList.getChildByName("select").active=t,this.wjList.getChildByName("list").active=!t;for(var e=this.generNode.children,a=0;a<e.length;++a)e[a].getChildByName("select").active=t},updataList:function(t){this.showSelectwj(!1);for(var e=this.btnNode.children,a=0;a<e.length;++a)e[a].active=!1;this._btnIndex=t+1==3?0:t+1,e[this._btnIndex].active=!0,this.showWJlist(t)},onBtnClick:function(t){Util.isRunFast(.5)||(cc.vv.gameMgr.playEffect(g_audios.click),"btn_0"==t.target.name?this.updataList(0):"btn_1"==t.target.name?this.updataList(1):"btn_2"==t.target.name?this.updataList(2):"select"==t.target.name&&this.showSelectwj(!1))}}),cc._RF.pop()},{}],UIguaji:[function(t,e){"use strict";cc._RF.push(e,"2cccdxwQSVNj5lseHC3f5zG","UIguaji"),cc.Class({extends:cc.Component,properties:{propItem:cc.Prefab,msNode:cc.Node,awardNode:cc.Node,timeLb:cc.Label,yqhyNode:cc.Node,addTime:cc.Label,_curHours:0,_gjAwardData:null,_awardArr:null,_curIndex:0,_yqIndex:0,_videoNum:0},onLoad:function(){this._awardArr=[],this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.updataAddTime(),G_gameEvent.on(G_gameEvent.shareOver,this.onShareOver,this),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},checkHours:function(){var t=parseInt(g_DataMgr.gjsyData.onLineTime/60);if(!(t<1)){var e=g_DataMgr.gameInfo.gkNum,a=10*e+g_DataMgr.gameInfo.gkCompelet[""+e];this._gjAwardData=g_getDataInArr(a,cc.vv.gameMgr.gjdataList),null==this._gjAwardData&&(a=g_getRandom(0,cc.vv.gameMgr.gjdataList.length-1),this._gjAwardData=g_getDataInArr(a,cc.vv.gameMgr.gjdataList));var i=2;0==this._curHours&&t>30&&(i=2),this._curHours>=1&&this._curHours<2?i=3:this._curHours>=2&&this._curHours<3?i=4:this._curHours>=3&&this._curHours<4?i=5:this._curHours>=4&&this._curHours<5?i=6:this._curHours>=5&&this._curHours<6?i=7:this._curHours>=6&&this._curHours<7?i=8:7==this._curHours&&(i=9);var r=this._gjAwardData.propArr,n=g_DataMgr.gjsyData.gjAwardArr.concat();g_DataMgr.gjsyData.gjAwardArr=[];for(var s=0;s<i;++s)if(s<2)g_DataMgr.gjsyData.gjAwardArr.push(r[s]);else if(null!=n[s])g_DataMgr.gjsyData.gjAwardArr.push(n[s]);else{var o=cc.vv.gameMgr.shopList[8],l=g_getIndexByQZArr(o.weights_2),g=g_getDataInArr(o.dropGroup_2[l],cc.vv.gameMgr.dropList),c=g_getIndexByQZArr(g.weights),h=[g.dropitem[c],g.num[c]];g_DataMgr.gjsyData.gjAwardArr.push(h)}this.initShowAward(i),g_DataMgr.saveGjData()}},initShowAward:function(t){this.awardNode.removeAllChildren(),this._awardArr=[];for(var e=g_DataMgr.gjsyData.gjAwardArr,a=0;a<t;++a){var i=e[a],r={propType:i[0],getNum:i[1],zbID:0},n=cc.instantiate(this.propItem);this.awardNode.addChild(n);var s=r.propType,o=r.getNum,l="prop_"+s;if(s>50&&s<60){var g=s-50;g>5&&(g=5),l="s_"+s,n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+g)}else if(s>60&&s<80)l="skill_"+(s-60),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(l);else if(s>=100){var c=s-100;l="head_"+c;var h=g_getDataInArr(c,cc.vv.gameMgr.generalList);n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+h.quality),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(l)}s<60&&(n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(l)),n.getChildByName("num").getComponent(cc.Label).string=o,this._awardArr.push(r)}},showGetAward:function(t){var e=G_createPrefab(g_loadPrefab.getAward);null!=e&&(this.node.parent.addChild(e),e.getComponent("getAward").initAwardBy(this._awardArr,t)),g_DataMgr.gjsyData.gjAwardArr=[],g_DataMgr.gjsyData.onLineTime=0,g_DataMgr.gjsyData.gjShare=[0,0,0],g_DataMgr.gjMaxTime=4,G_gameEvent.emit(G_gameEvent.freshRedEvent)},updataAddTime:function(){for(var t=0,e=4,a=0;a<g_DataMgr.gjsyData.gjShare.length;++a)1==g_DataMgr.gjsyData.gjShare[a]&&(this.yqhyNode.getChildByName("yq"+a).getChildByName("yyq").active=!0,e++,t++);g_DataMgr.gjMaxTime<e&&(g_DataMgr.gjMaxTime=e),this.addTime.string=t+"\u5c0f\u65f6",this._curHours=parseInt(g_DataMgr.gjsyData.onLineTime/3600),this.timeLb.string=G_time(g_DataMgr.gjsyData.onLineTime,0),this.checkHours()},onShareOver:function(){this.yqhyNode.getChildByName("yq"+this._yqIndex).getChildByName("yyq").active=!0,g_DataMgr.gjsyData.gjShare[this._yqIndex]=1,g_DataMgr.gjsyData.onLineTime+=3600,this.updataAddTime()},onShowVideo:function(){1==this._videoNum&&(this.showGetAward(2),this.destroyFun()),this._videoNum=0},onBtnClick:function(t){var e=this;if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5))if("btn_close"==t.target.name)this.destroyFun();else if("yq0"==t.target.name||"yq1"==t.target.name||"yq2"==t.target.name){if(t.target.getChildByName("yyq").active)return;"yq0"==t.target.name?this._yqIndex=0:"yq1"==t.target.name?this._yqIndex=1:"yq2"==t.target.name&&(this._yqIndex=2),this.onShareOver()}else"btn_lq"==t.target.name?(this.showGetAward(1),this.destroyFun()):"btn_double"==t.target.name&&(G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(this._videoNum=1,this.onShowVideo()))},destroyFun:function(){this.node.destroy()},update:function(){if(!(this._curHours>=g_DataMgr.gjMaxTime)){this.timeLb.string=G_time(g_DataMgr.gjsyData.onLineTime,0);var t=parseInt(g_DataMgr.gjsyData.onLineTime/3600);this._curHours<t&&(this._curHours=t,this.checkHours())}}}),cc._RF.pop()},{}],UInotice:[function(t,e){"use strict";cc._RF.push(e,"b9210J0HkxE15gG3TTDCa6a","UInotice"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},onBtnClick:function(t){Util.isRunFast(.5)||(cc.vv.gameMgr.playEffect(g_audios.click),"btn_close"==t.target.name&&this.node.destroy())}}),cc._RF.pop()},{}],UIrank:[function(t,e){"use strict";cc._RF.push(e,"b12dcCkBYhNip/45oB8tZOo","UIrank"),cc.Class({extends:cc.Component,properties:{btnList:[cc.Node]},onLoad:function(){var t=this;this.wxSubContextView=g_hallContol.wxSubContextView,cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg")),this.scheduleOnce(function(){t.wxSubContextView.active=!0},.5),this.showBtn(0)},showBtn:function(t){for(var e=0;e<this.btnList.length;++e)this.btnList[e].getChildByName("select").active=!1;this.btnList[t].getChildByName("select").active=!0},onBtnClick:function(t){cc.vv.gameMgr.playEffect(g_audios.click),"btn_close"==t.target.name?(this.wxSubContextView.active=!1,g_hallContol.rankNode.active=!1):"btn_0"==t.target.name?(this.showBtn(0),g_wxConfig.postMessage(G_Menum_Consts.gkRank,null)):"btn_1"==t.target.name?(this.showBtn(1),g_wxConfig.postMessage(G_Menum_Consts.wjRank,null)):"btn_2"==t.target.name?(this.showBtn(2),g_wxConfig.postMessage(G_Menum_Consts.zlRank,null)):"btn_share"==t.target.name&&G_isMobile&&g_wxConfig.activeShare(2)}}),cc._RF.pop()},{}],UIshop:[function(t,e){"use strict";cc._RF.push(e,"3121eHFNchB2419xibnxcIQ","UIshop"),cc.Class({extends:cc.Component,properties:{renNode:cc.Node,kbaoNode:cc.Node,boxNode:cc.Node,bjNode:cc.Node,hjkbTime:cc.RichText,_byMax:10,_zbMax:5,_lbMax:5,_jdMax:5,_jnMax:5,_bjMax:5,_xdMax:5,_txtIndex:0,_awardData:null,_curTime:0,_videoNum:0},onLoad:function(){this._xdMax=5,this._msArr=[["<color=#ffffff>\u591a\u62bd\u9650\u5b9a\u5361\u5305","\n\u5927\u6982\u7387\u51fa\u4f20\u8bf4\n\u5415\u5e03"],["<color=#00ff00>","</c><color=#ffffff>\u6b21</color>\n\u5fc5\u51fa\u4f20\u8bf4\u5361\u724c"]],this.kbTime=this.kbaoNode.getChildByName("time"),this.xdTime=this.kbaoNode.getChildByName("xdtime"),this.zbTime=this.boxNode.getChildByName("zb").getChildByName("time"),this.lbTime=this.boxNode.getChildByName("lb").getChildByName("time"),this.jbTime=this.boxNode.getChildByName("jdbox").getChildByName("time"),this.jnTime=this.boxNode.getChildByName("jnbox").getChildByName("time"),this.zsNode=this.bjNode.getChildByName("zs"),this.coinNode=this.bjNode.getChildByName("coin"),this.updataGeneral(9),this.showTXTAni(),this.kbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.bykboxNum+"/"+this._byMax,this.xdTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.xdkboxNum+"/"+this._xdMax,this.zbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.zbBoxNum+"/"+this._zbMax,this.lbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.lbBoxNum+"/"+this._lbMax,this.jbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.jdBoxNum+"/"+this._jdMax,this.jnTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.jnBoxNum+"/"+this._jnMax;var t=this._bjMax-g_DataMgr.signData.bjNum;5==t&&(t=0),this.coinNode.getChildByName("gnum").getComponent(cc.Label).string=G_boxAwardArr[0].awardArr[t],this.coinNode.getChildByName("tnum").getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.bjNum+"/"+this._bjMax;var e=this._bjMax-g_DataMgr.signData.bjzsNum;5==e&&(e=0),this.zsNode.getChildByName("gnum").getComponent(cc.Label).string=G_boxAwardArr[1].awardArr[e],this.zsNode.getChildByName("tnum").getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.bjzsNum+"/"+this._bjMax,this.kbaoNode.getChildByName("btn_by").getChildByName("red").active=0!=g_DataMgr.signData.bykboxNum,this.kbaoNode.getChildByName("btn_xd").getChildByName("red").active=0!=g_DataMgr.signData.xdkboxNum,this.kbaoNode.getChildByName("btn_hj").getChildByName("red").active=g_DataMgr.pinfo.yxCoin>=300,this.showUIAni()},showUIAni:function(){var t=[-245,245,-1294],e=this.kbaoNode.getChildByName("btn_by"),a=this.kbaoNode.getChildByName("btn_xd"),i=this.kbaoNode.getChildByName("btn_hj");g_moveAct(.5,cc.v2(t[0],e.y),e,null,1),g_moveAct(.5,cc.v2(t[1],a.y),a,null,1),g_moveAct(.5,cc.v2(this.boxNode.x,t[2]),this.boxNode,null,1),cc.tween(i).to(.5,{scale:1},{easing:"elasticOut"}).start()},updataGeneral:function(t){var e=this;this.renNode.x=-1e3;var a=this.renNode.getComponent(sp.Skeleton),i=g_getEffect(t,g_heroRes);cc.vv.configMgr.loadSpine(i,function(t){a.skeletonData=t,a.loop=!0,a.animation="run",a.timeScale=1,a.setSkin("default"),cc.tween(e.renNode).to(2,{position:cc.v2(-200,e.renNode.y)},{easing:"sineInOut"}).call(function(){a.setAnimation(0,"idle",!0)}).start()})},showTXTAni:function(){var t=this,e=1==this._txtIndex?""+g_DataMgr.signData.hjkboxNum:"";this.hjkbTime.string=this._msArr[this._txtIndex][0]+e+this._msArr[this._txtIndex][1],this._txtIndex++,this._txtIndex>=this._msArr.length&&(this._txtIndex=0),Util.delayFun(this.node,function(){t.showTXTAni()},5)},checkReCard:function(t,e){for(var a=t,i=a.dropitem,r=a.weights,n=[106,107],s=function(t){if(0==g_getDataInArr(n[t]-100,g_DataMgr.generalSaveArr).getType){var e=i.findIndex(function(e){return e==n[t]});-1!=e&&(i.splice(e,1),r.splice(e,1))}},o=0;o<n.length;++o)s(o);for(var l=function(t){if(2==e.filter(function(a){return a.propType==e[t].propType}).length){var a=i.findIndex(function(a){return a==e[t].propType});-1!=a&&(i.splice(a,1),r.splice(a,1))}},g=0;g<e.length;++g)l(g);var c=g_getIndexByQZArr(t.weights),h=i[c];return a.dropitem.findIndex(function(t){return t==h})},showCardAward:function(t){var e=[],a=cc.vv.gameMgr.shopList[t],i=0==t&&0==g_DataMgr.signData.byOpenTime,r=0==t&&0==g_DataMgr.signData.byOpenNum;r&&g_DataMgr.signData.byOpenNum;var n=1==t&&0==g_DataMgr.signData.hjkboxNum;n&&(g_DataMgr.signData.hjkboxNum=10);for(var s=a.times_2,o=0;o<s;++o){var l=g_getIndexByQZArr(a.weights_2),g=g_getDataInArr(a.dropGroup_2[l],cc.vv.gameMgr.dropList),c=this.checkReCard(g,e);(i||r||n)&&o==s-1&&(l=g_getIndexByQZArr(a.weights_1),g=g_getDataInArr(a.dropGroup_1[l],cc.vv.gameMgr.dropList),c=this.checkReCard(g,e));var h={propType:g.dropitem[c],getNum:g.num[c],zbID:0};e.push(h)}0==t&&g_DataMgr.signData.byOpenTime++,this.showAwardTS(1,e,t)},showLbAward:function(){for(var t=[],e=cc.vv.gameMgr.shopList[4],a=e.times_2,i=0;i<a;++i){var r=i,n=g_getDataInArr(e.dropGroup_2[r],cc.vv.gameMgr.dropList),s=0;60==n.type&&(s=g_getIndexByQZArr(n.weights));var o={propType:n.dropitem[s],getNum:n.num[s],zbID:0};t.push(o)}this.showAwardTS(0,t)},showAwardByType:function(t){for(var e=[],a=cc.vv.gameMgr.shopList[t],i=a.times_2,r=0;r<i;++r){var n,s=g_getIndexByQZArr(a.weights_2),o=g_getDataInArr(a.dropGroup_2[s],cc.vv.gameMgr.dropList),l=g_getIndexByQZArr(o.weights);n=0==o.type?{propType:o.type,getNum:o.num[l],zbID:o.dropitem[l]}:{propType:o.dropitem[l],getNum:o.num[l],zbID:0},e.push(n)}this.showAwardTS(0,e)},showGetAward:function(t){var e=[];this._awardData=G_boxAwardArr[t];var a=this._awardData.maxTime-this._curTime,i={propType:this._awardData.protype,getNum:this._awardData.awardArr[a],zbID:0};e.push(i),this.showAwardTS(0,e)},showAwardTS:function(t,e,a){var i=G_createPrefab(g_loadPrefab.getAward);null!=i&&(g_hallContol.node.addChild(i),0==t&&i.getComponent("getAward").initAward(e,0),1==t&&i.getComponent("getAward").initGetCard(e,a)),g_DataMgr.saveSignData()},onShowVideo:function(){if(1==this._videoNum)g_DataMgr.signData.bykboxNum--,g_DataMgr.signData.byOpenNum--,this.kbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.bykboxNum+"/"+this._byMax,this.kbaoNode.getChildByName("btn_by").getChildByName("red").active=0!=g_DataMgr.signData.bykboxNum,this.showCardAward(0);else if(8==this._videoNum)g_DataMgr.signData.xdkboxNum--,this.xdTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.xdkboxNum+"/"+this._xdMax,this.kbaoNode.getChildByName("btn_xd").getChildByName("red").active=0!=g_DataMgr.signData.xdkboxNum,this.showCardAward(2);else if(2==this._videoNum)g_DataMgr.signData.zbBoxNum--,this.zbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.zbBoxNum+"/"+this._zbMax,this.showAwardByType(3);else if(3==this._videoNum)g_DataMgr.signData.lbBoxNum--,this.lbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.lbBoxNum+"/"+this._lbMax,this.showLbAward();else if(4==this._videoNum)this._curTime=g_DataMgr.signData.jdBoxNum,g_DataMgr.signData.jdBoxNum--,this.jbTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.jdBoxNum+"/"+this._jdMax,this.showGetAward(2);else if(5==this._videoNum)g_DataMgr.signData.jnBoxNum--,this.jnTime.getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.jnBoxNum+"/"+this._jnMax,this.showAwardByType(6);else if(6==this._videoNum){this._curTime=g_DataMgr.signData.bjzsNum,g_DataMgr.signData.bjzsNum--;var t=this._bjMax-g_DataMgr.signData.bjzsNum;5==t&&(t=0),this.zsNode.getChildByName("gnum").getComponent(cc.Label).string=G_boxAwardArr[1].awardArr[t],this.zsNode.getChildByName("tnum").getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.bjzsNum+"/"+this._bjMax,this.showGetAward(1)}else if(7==this._videoNum){this._curTime=g_DataMgr.signData.bjNum,g_DataMgr.signData.bjNum--;var e=this._bjMax-g_DataMgr.signData.bjNum;5==e&&(e=0),this.coinNode.getChildByName("gnum").getComponent(cc.Label).string=G_boxAwardArr[0].awardArr[e],this.coinNode.getChildByName("tnum").getComponent(cc.Label).string="\u514d\u8d39\u6b21\u6570\uff1a"+g_DataMgr.signData.bjNum+"/"+this._bjMax,this.showGetAward(0)}this._videoNum=0},onBtnClick:function(t){var e=this;if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_by"==t.target.name){if(0==g_DataMgr.signData.bykboxNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(this._videoNum=1,this.onShowVideo())}else if("btn_xd"==t.target.name){if(0==g_DataMgr.signData.xdkboxNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=8,e.onShowVideo())})):(this._videoNum=8,this.onShowVideo())}else if("btn_hj"==t.target.name){if(g_DataMgr.pinfo.yxCoin<300)return void cc.vv.configMgr.addTips("\u5996\u9e21\u7389\u4e0d\u8db3!");g_DataMgr.pinfo.yxCoin-=300,g_DataMgr.savePinfo(),g_DataMgr.signData.hjkboxNum--,1==this._txtIndex&&(this.hjkbTime.string=this._msArr[this._txtIndex][0]+g_DataMgr.signData.hjkboxNum+this._msArr[this._txtIndex][1]),this.showCardAward(1),this.kbaoNode.getChildByName("btn_hj").getChildByName("red").active=g_DataMgr.pinfo.yxCoin>=300,null!=g_hallContol&&g_hallContol.updataInfo()}else if("btn_zb"==t.target.name){if(0==g_DataMgr.signData.zbBoxNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=2,e.onShowVideo())})):(this._videoNum=2,this.onShowVideo())}else if("btn_lb"==t.target.name){if(0==g_DataMgr.signData.lbBoxNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=3,e.onShowVideo())})):(this._videoNum=3,this.onShowVideo())}else if("btn_jdbox"==t.target.name){if(0==g_DataMgr.signData.jdBoxNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=4,e.onShowVideo())})):(this._videoNum=4,this.onShowVideo())}else if("btn_jnbox"==t.target.name){if(0==g_DataMgr.signData.jnBoxNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=5,e.onShowVideo())})):(this._videoNum=5,this.onShowVideo())}else if("btn_bjzs"==t.target.name){if(0==g_DataMgr.signData.bjzsNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=6,e.onShowVideo())})):(this._videoNum=6,this.onShowVideo())}else if("btn_bjcoin"==t.target.name){if(0==g_DataMgr.signData.bjNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=7,e.onShowVideo())})):(this._videoNum=7,this.onShowVideo())}}}),cc._RF.pop()},{}],UIsign:[function(t,e){"use strict";cc._RF.push(e,"8baa7gq32hHA4MUs0Z5o378","UIsign");var a=[],i=[];cc.Class({extends:cc.Component,properties:{role:cc.Node,dayNode:cc.Node,btnAgain:cc.Node,btnLingq:cc.Node,tsLabel:cc.Node,_curDayNum:0,_curIndex:0,_videoNum:0},onLoad:function(){this._videoNum=0,this.atlasData=g_getAtlas(g_skinAtlas.prop),this.signArr=cc.vv.gameMgr.signList[g_DataMgr.signData.signWeek-1],this._curDayNum=g_DataMgr.signData.signDay,a=g_DataMgr.signData.signOneArr,i=g_DataMgr.signData.signAgainArr,this.updataRole(),this.initSign(),this.updataShow(),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},updataRole:function(){var t=this.role.getComponent(sp.Skeleton),e=g_getEffect(7,g_heroRes);cc.vv.configMgr.loadSpine(e,function(e){t.skeletonData=e,t.loop=!0,t.animation="",t.timeScale=1,t.setSkin("default"),t.setAnimation(0,"qiandao1",!1),t.setCompleteListener(function(e){e.animation&&e.animation.name,t.setAnimation(0,"qiandao2",!0)})})},initSign:function(){for(var t=this.dayNode.children,e=0;e<t.length;++e){var r=t[e];r.getChildByName("dayLabel").getComponent(cc.Label).string="\u7b2c"+(e+1)+"\u5929",r.getChildByName("jlnum").getComponent(cc.Label).string="x"+this.signArr[e].getNum;var n="prop_"+this.signArr[e].icon;r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.atlasData.getSpriteFrame(n),r._goodIndex=e,e<=this._curDayNum-1&&(e==this._curDayNum-1&&(r.getChildByName("select").active=!0,this._curIndex=e),r.on(cc.Node.EventType.TOUCH_END,this.onSelecet,this),r.getChildByName("yq").active=1==a[e]||1==i[e],r.getChildByName("yqagain").active=1==a[e]&&1==i[e]),r.getChildByName("icon").on(cc.Node.EventType.TOUCH_END,this.onGoodTS,this)}},onGoodTS:function(t){var e=t.target.parent,a=this.signArr[e._goodIndex];if(1!=e._goodIndex&&6!=e._goodIndex){var i=e.position,r=e.parent.convertToWorldSpaceAR(i),n=this.node.parent.convertToNodeSpaceAR(r);this.node.getChildByName("btn_closets").active=!0;var s=this.node.getChildByName("btn_closets").getChildByName("talk");s.getChildByName("lb").getComponent(cc.Label).string=a.intro,s.position=cc.v2(n.x,n.y+100)}else{var o=G_createPrefab(g_loadPrefab.getGeneral);null!=o&&(this.node.parent.addChild(o),o.getComponent("getGeneral").initGetGeneral(a.icon-100,this.node,1))}},updataShow:function(){this.btnLingq.getComponent(cc.Button).interactable=0==a[this._curIndex],this.btnAgain.getComponent(cc.Button).interactable=0==i[this._curIndex],this.btnLingq.getChildByName("effect").active=0==a[this._curIndex],this.btnAgain.getChildByName("effect").active=0==a[this._curIndex];var t=this.dayNode.children;t[this._curIndex].getChildByName("yq").active=1==a[this._curIndex],t[this._curIndex].getChildByName("yqagain").active=1==i[this._curIndex]},onSelecet:function(t){var e=this.dayNode.children;e[this._curIndex].getChildByName("select").active=!1;var a=t.target.name.split("_");this._curIndex=Number(a[a.length-1]),e[this._curIndex].getChildByName("select").active=!0,this.updataShow()},showAward:function(t){var e=G_createPrefab(g_loadPrefab.getAward);if(null!=e){this.node.parent.addChild(e);var a={propType:this.signArr[this._curIndex].propType,getNum:this.signArr[this._curIndex].getNum,zbID:0},i=[];i.push(a),e.getComponent("getAward").initAward(i,t)}},onShowVideo:function(){1==this._videoNum&&(i[this._curIndex]=1,this.updataShow(),g_DataMgr.signData.signAgainArr=i,g_DataMgr.saveSignData(),this.showAward(1)),this._videoNum=0},onBtnClick:function(t){var e=this;cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||("btn_close"==t.target.name?this.destroyFun():"btn_lingq"==t.target.name?(a[this._curIndex]=1,this.updataShow(),g_DataMgr.signData.signOneArr=a,g_DataMgr.saveSignData(),this.showAward()):"btn_again"==t.target.name?G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=1,this.onShowVideo()):"btn_closets"==t.target.name&&(this.node.getChildByName("btn_closets").active=!1))},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],UItask:[function(t,e){"use strict";cc._RF.push(e,"6e08b6YxTVDhLtOKuPUBxbZ","UItask"),cc.Class({extends:cc.Component,properties:{propItem:cc.Prefab,msNode:cc.Node,ywcNode:cc.Node,jdSprite:cc.Sprite,jdLabel:cc.Label,awardNode:cc.Node,_awardArr:null,_taskState:!1},onLoad:function(){this._awardArr=[],this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill);var t=cc.vv.gameMgr.checkTaskIsOver();this._taskState=t,this.ywcNode.active=t,this.msNode.getComponent(cc.Label).string=g_DataMgr.taskData.taskID+"."+cc.vv.gameMgr.curTaskData.name,this.initShowPro(),this.initShowAward(),this.node.getChildByName("bg").getChildByName("btn_lq").active=t,this.node.getChildByName("bg").getChildByName("jxz").active=!t,6==g_DataMgr.taskData.taskID&&t&&(g_DataMgr.g_guideJDNum=3,g_hallContol.showGuideJD(!0)),7==g_DataMgr.taskData.taskID&&t&&(g_DataMgr.g_guideJDNum=8,g_hallContol.showGuideJD(!0)),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},initShowPro:function(){var t=cc.vv.gameMgr.curTaskData.type,e=0,a=0;if("level"==t){var i=cc.vv.gameMgr.curTaskData.num;e=null==g_DataMgr.gameInfo.gkCompelet[""+i[0]]?0:g_DataMgr.gameInfo.gkCompelet[""+i[0]],a=i[1]}else if("barrack"==t)a=cc.vv.gameMgr.curTaskData.num,e=g_DataMgr.towerInfo.towerLv+1;else if("skill"==t){a=cc.vv.gameMgr.curTaskData.num;var r=0;for(var n in g_DataMgr.towerInfo.skillLvMap)g_DataMgr.towerInfo.skillLvMap[n]>r&&(r=g_DataMgr.towerInfo.skillLvMap[n]);e=r+1}else"monster"==t&&(a=cc.vv.gameMgr.curTaskData.num[1],e=g_DataMgr.taskData.taskKillNum);this.jdLabel.string=e+"/"+a,this.jdSprite.fillRange=e/a},initShowAward:function(){for(var t=cc.vv.gameMgr.curTaskData.propArr,e=0;e<t.length;++e){var a=t[e],i={propType:a[0],getNum:a[1],zbID:0},r=cc.instantiate(this.propItem);this.awardNode.addChild(r);var n=i.propType,s=i.getNum,o="prop_"+n;if(n>50&&n<60){var l=n-50;l>5&&(l=5),o="s_"+n,r.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+l)}else if(n>60&&n<80)o="skill_"+(n-60),r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(o);else if(n>100){var g=n-100;o="head_"+g;var c=g_getDataInArr(g,cc.vv.gameMgr.generalList);r.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+c.quality),r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(o)}n<60&&(r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(o)),r.getChildByName("num").getComponent(cc.Label).string=s,this._awardArr.push(i)}},getAward:function(){3==g_DataMgr.taskData.taskID&&(g_DataMgr.g_guideJDNum=1);var t=G_createPrefab(g_loadPrefab.getAward);null!=t&&(this.node.parent.addChild(t),t.getComponent("getAward").initAwardBy(this._awardArr,1)),g_DataMgr.taskData.taskID+=1,g_DataMgr.taskData.taskKillNum=0,g_DataMgr.saveTaskData(),cc.vv.gameMgr.curTaskData=g_getDataInArr(g_DataMgr.taskData.taskID,cc.vv.gameMgr.taskList),G_gameEvent.emit(G_gameEvent.freshTaskEvent)},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_close"==t.target.name)this.destroyFun();else if("btn_lq"==t.target.name){if(!this._taskState)return void cc.vv.configMgr.addTips("\u5f53\u524d\u4efb\u52a1\u672a\u5b8c\u6210!");3!=g_DataMgr.g_guideJDNum&&8!=g_DataMgr.g_guideJDNum||g_hallContol.showGuideJD(!1),this.getAward(),this.destroyFun()}},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],UIxsfl:[function(t,e){"use strict";cc._RF.push(e,"c3048rG389AlJdYkO2CyyCW","UIxsfl"),cc.Class({extends:cc.Component,properties:{_maxNum:3,_videoNum:0},onLoad:function(){this.awardArr=[{propType:1,getNum:3e3,zbID:0,intro:"\u7528\u4e8e\u6b66\u5c06\u5347\u7ea7"},{propType:2,getNum:200,zbID:0,intro:"\u7528\u4e8e\u5546\u57ce\u62bd\u5361"},{propType:108,getNum:1,zbID:0,intro:"\u83b7\u53d6\u6b66\u5c06"}],this._bg=this.node.getChildByName("bg"),this._role=this._bg.getChildByName("role"),this.btnvideolq=this._bg.getChildByName("btn_videolq"),this.btnshare=this._bg.getChildByName("btn_share"),this.sytime=this._bg.getChildByName("sytime"),this.qpani=this._bg.getChildByName("qp").getComponent(cc.Animation),this.updataRole(),this.updataShow(),G_gameEvent.on(G_gameEvent.shareOver,this.onShareOver,this),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},updataRole:function(){var t=this,e=this._role.getComponent(sp.Skeleton),a=g_getEffect(8,g_heroRes);cc.vv.configMgr.loadSpine(a,function(a){e.skeletonData=a,e.loop=!0,e.animation="idle",e.timeScale=1,e.setSkin("default"),t.qpani.play()})},updataShow:function(){this.sytime.getComponent(cc.Label).string="("+g_DataMgr.signData.xsflNum+"/"+this._maxNum+")"},onShareOver:function(){g_DataMgr.signData.xsflNum--,g_DataMgr.saveSignData(),this.updataShow()},onShowTips:function(t){var e=0;"icon0"==t.target.name?e=0:"icon1"==t.target.name?e=1:"icon2"==t.target.name&&(e=2);var a=t.target.parent,i=this.awardArr[e];if(2!=e){var r=a.position,n=a.parent.convertToWorldSpaceAR(r),s=this.node.parent.convertToNodeSpaceAR(n);this.node.getChildByName("btn_closets").active=!0;var o=this.node.getChildByName("btn_closets").getChildByName("talk");o.getChildByName("lb").getComponent(cc.Label).string=i.intro,o.position=cc.v2(s.x,s.y+100)}else{var l=G_createPrefab(g_loadPrefab.getGeneral);null!=l&&(g_hallContol.node.addChild(l),l.getComponent("getGeneral").initGetGeneral(i.propType-100,this.node,1))}},onShowVideo:function(){if(1==this._videoNum&&(g_DataMgr.signData.xsflNum--,g_DataMgr.saveSignData(),this.updataShow(),0==g_DataMgr.signData.xsflNum)){var t=G_createPrefab(g_loadPrefab.getAward);null!=t&&(this.node.parent.addChild(t),t.getComponent("getAward").initAward(this.awardArr)),this.destroyFun()}this._videoNum=0},onBtnClick:function(t){var e=this;cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||("btn_close"==t.target.name?this.destroyFun():"btn_closets"==t.target.name?this.node.getChildByName("btn_closets").active=!1:"btn_share"==t.target.name||"btn_videolq"==t.target.name&&(G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=1,this.onShowVideo())))},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],UIyjzl:[function(t,e){"use strict";cc._RF.push(e,"1ba14KkQqRD2YDyz1jsW3o6","UIyjzl"),cc.Class({extends:cc.Component,properties:{jjcoinNode:cc.Node,jjNode:cc.Node,jjcontent:cc.Node,rankItem:cc.Prefab,rankbgFrames:[cc.SpriteFrame],slNode:cc.Node,sljdContent:cc.Node,jdFrames:[cc.SpriteFrame],_videoNum:0,_freeMaxTime:2,_spMaxTime:2},onLoad:function(){this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg")),this._bg=this.node.getChildByName("bg"),this._btnjj=this._bg.getChildByName("btn_jjc"),this._btnjj.getChildByName("sjtime").getChildByName("sjtime").getComponent(cc.Label).string="\u672c\u8d5b\u5b63\u7ed3\u675f\u65f6\u95f4:"+G_dataArr[g_DataMgr.rankSaveData.sjDateIndex],this.updataSyc(),3==cc.vv.gameMgr.gameModel&&(cc.vv.gameMgr.gameModel=0,this.jjNode.active=!0,this.updataRank()),2==cc.vv.gameMgr.gameModel&&(cc.vv.gameMgr.gameModel=0)},updataSyc:function(){this.slNode.getChildByName("sjtime").getChildByName("sjtime").getComponent(cc.Label).string="\u7ed3\u675f\u65f6\u95f4:"+G_slDateArr[g_DataMgr.yjslSaveData.sjDateIndex];for(var t=g_DataMgr.yjslSaveData.sjDateIndex,e=cc.vv.gameMgr.jdAwardList[t].dropArr,a=this.sljdContent.getChildByName("jlnode").children,i=[5,10,20,30,40,50,60,70,80,90,100],r=-1,n=0;n<i.length;++n)g_DataMgr.yjslSaveData.historyNum>=i[n]&&(r=n);var s=-1==r?0:80*(r+1)/880;this.sljdContent.getChildByName("pro").getComponent(cc.Sprite).fillRange=s,this.slNode.getChildByName("syb").getChildByName("num").getComponent(cc.Label).string=g_DataMgr.yjslSaveData.historyNum;for(var o=0;o<a.length;++o){null==g_DataMgr.yjslSaveData.awardLqData[""+o]&&(g_DataMgr.yjslSaveData.awardLqData[""+o]=0,g_DataMgr.saveYJSLData()),r>=o&&0==g_DataMgr.yjslSaveData.awardLqData[""+o]&&(g_DataMgr.yjslSaveData.awardLqData[""+o]=1,g_DataMgr.saveYJSLData());var l=e[o],g=l[0],c=l[1],h="prop_"+g,_="zb_1";if(g>50&&g<60){var u=g-50;u>5&&(u=5),h="s_"+g,_="zb_"+u}else if(g>60&&g<80)h="skill_"+(g-60),a[o].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(h);else if(g>100){var d=g-100;h="head_"+d;var f=g_getDataInArr(d,cc.vv.gameMgr.generalList);if(_="zb_"+f.quality,a[o].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(h),o==a.length-1){var p=this.slNode.getChildByName("xdjl");p.getChildByName("pz").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+f.quality),p.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame("head_"+d);var m=g_getDataInArr(f.name,cc.vv.gameMgr.stringList.heroNameStr);p.getChildByName("num").getComponent(cc.Label).string="\u9650\u5b9a\u5956\u52b1\uff1a"+m.str}}var v=null,D=0;0==g?(c=1,D=l[1],_="zb_"+(v=g_getDataInArr(l[1],cc.vv.gameMgr.equipList)).quality,a[o].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+v.icon)):g<60&&(a[o].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(h)),a[o].getChildByName("num").getComponent(cc.Label).string=c,a[o].getChildByName("pz").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame(_),a[o].getComponent(cc.Sprite).spriteFrame=this.jdFrames[g_DataMgr.yjslSaveData.awardLqData[""+o]],a[o].getChildByName("yl").active=2==g_DataMgr.yjslSaveData.awardLqData[""+o],a[o].getChildByName("num").active=2!=g_DataMgr.yjslSaveData.awardLqData[""+o],a[o].getChildByName("klq").active=1==g_DataMgr.yjslSaveData.awardLqData[""+o],a[o]._tindex=o,a[o]._mydata={propType:g,getNum:c,zbID:D},a[o].getChildByName("pz").on(cc.Node.EventType.TOUCH_END,this.onClickAward,this)}this.slNode.getChildByName("suo").active=g_DataMgr.gameInfo.gkCompelet[4]<10,this.updataSlBtn()},onClickAward:function(t){var e=t.target.parent,a=e._tindex;0!=g_DataMgr.yjslSaveData.awardLqData[""+a]&&2!=g_DataMgr.yjslSaveData.awardLqData[""+a]&&this.getClickAward(e)},getClickAward:function(t){var e=t._mydata,a=[];a.push(e);var i=G_createPrefab(g_loadPrefab.getAward);null!=i&&(g_hallContol.node.addChild(i),i.getComponent("getAward").initAward(a));var r=t._tindex;g_DataMgr.yjslSaveData.awardLqData[""+r]=2,g_DataMgr.saveYJSLData(),t.getChildByName("yl").active=2==g_DataMgr.yjslSaveData.awardLqData[""+r],t.getChildByName("num").active=2!=g_DataMgr.yjslSaveData.awardLqData[""+r],t.getChildByName("klq").active=1==g_DataMgr.yjslSaveData.awardLqData[""+r],t.getComponent(cc.Sprite).spriteFrame=this.jdFrames[g_DataMgr.yjslSaveData.awardLqData[""+r]]},updataRank:function(){var t=this.jjNode.getChildByName("rankItem");t.getChildByName("sortlb").active=!0,t.getChildByName("sortlb").getComponent(cc.Label).string=g_DataMgr.rankSaveData.rankStar+1,t.getChildByName("name").getComponent(cc.Label).string=g_DataMgr.pinfo.nickname;var e=g_DataMgr.rankSaveData.rankStar+1;e<=3&&(t.getChildByName("sortlb").active=!1,t.getChildByName("sort"+e).active=!0,t.getComponent(cc.Sprite).spriteFrame=this.rankbgFrames[e]);var a=g_hallContol.getzl();if(t.getChildByName("zl").getComponent(cc.Label).string=a,0==this.jjcontent.children.length)for(var i=cc.vv.gameMgr.playerArr[g_DataMgr.rankSaveData.rankNum],r=0,n=0;n<10;++n){var s=cc.instantiate(this.rankItem);this.jjcontent.addChild(s);var o=null;n<=2?o=s.getChildByName("sort"+(n+1)):(o=s.getChildByName("sortlb")).getComponent(cc.Label).string=n+1,o.active=!0,n==g_DataMgr.rankSaveData.rankStar?(s.getChildByName("name").getComponent(cc.Label).string=g_DataMgr.pinfo.nickname,s.getChildByName("zl").getComponent(cc.Label).string=a):(s.getChildByName("name").getComponent(cc.Label).string=i[r].name,s.getChildByName("zl").getComponent(cc.Label).string=i[r].zl,r++),s.getComponent("rankItem").initItem(n)}this.updataBtn(),this.showjjieTs(),this.checkShopred()},checkShopred:function(){if(this.jjNode.active){for(var t=!1,e=cc.vv.gameMgr.jShopList,a=0;a<e.length;++a)if(!(g_DataMgr.rankSaveData.rankNum<e[a].jslv-1)&&g_DataMgr.pinfo.jjCoin>=e[a].price){t=!0;break}this.jjNode.getChildByName("btn_jjshop").getChildByName("red").active=t}},updataBtn:function(){this.jjNode.getChildByName("jieclb").getComponent(cc.Label).string="\u7ade\u6280\u573a"+(g_DataMgr.rankSaveData.rankNum+1)+"\u9636",this.jjNode.getChildByName("btn_tz").getChildByName("time").getComponent(cc.Label).string=g_DataMgr.rankSaveData.jjtzTime+"/"+this._freeMaxTime,this.jjNode.getChildByName("btn_videotz").getChildByName("time").getComponent(cc.Label).string=g_DataMgr.rankSaveData.jjVideoNum+"/"+this._spMaxTime,this.jjNode.getChildByName("btn_tz").active=0!=g_DataMgr.rankSaveData.jjtzTime,this.jjNode.getChildByName("btn_videotz").active=0==g_DataMgr.rankSaveData.jjtzTime},updataSlBtn:function(){this.slNode.getChildByName("btn_sltz").getChildByName("sytime").getComponent(cc.Label).string="\u5269\u4f59\u6b21\u6570:"+g_DataMgr.yjslSaveData.sltzTime,this.slNode.getChildByName("btn_videosltz").getChildByName("sytime").getComponent(cc.Label).string="\u5269\u4f59\u6b21\u6570:"+g_DataMgr.yjslSaveData.slVideoNum,this.slNode.getChildByName("btn_sltz").active=0!=g_DataMgr.yjslSaveData.sltzTime,this.slNode.getChildByName("btn_videosltz").active=0==g_DataMgr.yjslSaveData.sltzTime},showjjieTs:function(){var t=this;0!=g_DataMgr.rankCount&&(g_DataMgr.rankCount=0,this.node.getChildByName("tssj").active=!0,this.node.getChildByName("tssj").getChildByName("tsy").getComponent(cc.Label).string="\u7ade\u6280\u573a\u7b49\u7ea7\u63d0\u5347\u81f3"+(g_DataMgr.rankSaveData.rankNum+1)+"\u9636",Util.delayFun(this.node,function(){t.node.getChildByName("tssj").active=!1},2))},onShowVideo:function(){1==this._videoNum&&(g_DataMgr.rankSaveData.jjVideoNum--,g_DataMgr.saveRankData(),this.updataBtn(),cc.vv.gameMgr.gameModel=3,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")})),2==this._videoNum&&(g_DataMgr.yjslSaveData.slVideoNum--,g_DataMgr.saveYJSLData(),this.updataSlBtn(),cc.vv.gameMgr.gameModel=2,cc.vv.gameMgr.curActivityLv=g_DataMgr.yjslSaveData.slLevel,cc.vv.gameMgr.curActivityLv>=cc.vv.gameMgr.activeLvInfo.length&&(cc.vv.gameMgr.curActivityLv=0,g_DataMgr.yjslSaveData.slLevel=0,g_DataMgr.saveYJSLData()),cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")})),this._videoNum=0},onBtnClick:function(t){var e=this;if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5))if("btn_back"==t.target.name)this.destroyFun();else if("btn_jjc"==t.target.name)this.jjNode.active=!0,this.updataRank(),19==g_DataMgr.g_guideJDNum&&g_hallContol.showGuideJD(!1);else if("btn_tz"==t.target.name){if(0==g_DataMgr.rankSaveData.jjtzTime)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c");g_DataMgr.rankSaveData.jjtzTime--,g_DataMgr.saveRankData(),this.updataBtn(),cc.vv.gameMgr.gameModel=3,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")})}else if("btn_videotz"==t.target.name){if(0==g_DataMgr.rankSaveData.jjVideoNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=1,this.onShowVideo())}else if("btn_jjshop"==t.target.name)g_hallContol.showProfeb(g_loadPrefab.jjshop);else if("btn_jjback"==t.target.name)this.jjNode.active=!1;else if("btn_jjts"==t.target.name){var a=G_createPrefab(g_loadPrefab.jjIntro);null!=a&&(g_hallContol.node.addChild(a),a.getComponent("jjIntro").showIntro())}else if("btn_slts"==t.target.name){var i=G_createPrefab(g_loadPrefab.jjIntro);null!=i&&(g_hallContol.node.addChild(i),i.getComponent("jjIntro").showIntro(1))}else if("btn_sltz"==t.target.name){if(g_DataMgr.gameInfo.gkCompelet[4]<10)return void cc.vv.configMgr.addTips("\u5173\u5361\u901a\u51734-10\u89e3\u9501");if(0==g_DataMgr.yjslSaveData.sltzTime)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c");g_DataMgr.yjslSaveData.sltzTime--,g_DataMgr.saveYJSLData(),this.updataSlBtn(),cc.vv.gameMgr.gameModel=2,cc.vv.gameMgr.curActivityLv=g_DataMgr.yjslSaveData.slLevel,cc.vv.gameMgr.curActivityLv>=cc.vv.gameMgr.activeLvInfo.length&&(cc.vv.gameMgr.curActivityLv=0,g_DataMgr.yjslSaveData.slLevel=0,g_DataMgr.saveYJSLData()),cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")})}else if("btn_videosltz"==t.target.name){if(g_DataMgr.gameInfo.gkCompelet[4]<10)return void cc.vv.configMgr.addTips("\u5173\u5361\u901a\u51734-10\u89e3\u9501");if(0==g_DataMgr.yjslSaveData.slVideoNum)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=2,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=2,this.onShowVideo())}},destroyFun:function(){this.node.destroy()},update:function(){this.jjcoinNode.getComponent(cc.Label).string=g_getBigNumAbb(g_DataMgr.pinfo.jjCoin)}}),cc._RF.pop()},{}],UIzb:[function(t,e){"use strict";cc._RF.push(e,"abfa4eR+5FNIK61qCg6Ds7N","UIzb"),cc.Class({extends:cc.Component,properties:{zbItem:cc.Prefab,xlLabel:cc.Label,gjLabel:cc.Label,roleNode:cc.Node,btnzbNode:cc.Node,content:cc.Node,btns:cc.Node,_heroData:null,_zbIndex:0,_ID:0},onLoad:function(){this.zbPos=["pf","wuqi","xianglian","yanjing","pifeng"],this._zbIndex=0,this._bg=this.node.getChildByName("bg"),this._zbNode=this._bg.getChildByName("zb"),this._spine=this.roleNode.getComponent(sp.Skeleton),this.pzAtlas=g_getAtlas(g_skinAtlas.pzk),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),this._ID=g_DataMgr.pinfo.hasZBData.pf,this.updataHero(),this.updataContent(),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},updataHero:function(){var t=this;this._curHero=g_getDataInArr(this._ID,G_zgHero),this._heroData=g_getDataInArr(this._ID,G_zgHero);var e=g_getEffect(this._heroData.ID,g_heroRes);cc.vv.configMgr.loadSpine(e,function(e){t._spine.skeletonData=e,t._spine.loop=!0,t._spine.animation="idle",t._spine.timeScale=1,t._spine.setSkin("default"),t.updatazb()});var a=g_getDataInArr(g_DataMgr.pinfo.hasZBData.pf,cc.vv.gameMgr.stringList.equipStr);this._bg.getChildByName("name").getChildByName("lb").getComponent(cc.Label).string=a.strMs},freshRed:function(){for(var t=[!1,!1,!1,!1,!1],e=g_DataMgr.pinfo.knapsack,a=0;a<e.length;++a)if(0==e[a].gType){var i=e[a].glv,r=g_getDataInArr(e[a].gID,cc.vv.gameMgr.equipList);if(i<MAX_ZBLEVEL-1&&e[a].gNum>=r.cost[i])for(var n=0;n<this.zbPos.length;++n)t[n]||r.location===this.zbPos[n]&&(t[n]=!0);for(var s=0;s<this.zbPos.length;++s)r.location===this.zbPos[s]&&null==g_DataMgr.pinfo.hasZBData[r.location]&&(t[s]=!0)}for(var o=this.btns.children,l=0;l<o.length;++l)o[l].getChildByName("red").active=t[l]},getGoodData:function(t){for(var e=g_DataMgr.pinfo.knapsack,a=0;a<e.length;++a)if(t==e[a].gID)return e[a]},checkZbCanUp:function(t){var e=g_getDataInArr(t.gID,cc.vv.gameMgr.equipList);return t.glv<MAX_ZBLEVEL-1&&t.gNum>=e.cost[t.glv]},clearzb:function(){for(var t=1;t<this.zbPos.length;++t){var e=this.zbPos[t],a=this._spine.findSlot(e);null!=a&&a.setAttachment(e,"")}},updatazb:function(){this.clearzb(),this._heroData=g_getDataInArr(this._ID,G_zgHero);var t=cc.vv.gameMgr.zgList[g_DataMgr.pinfo.level-1];this._heroData.HP+=Math.round(this._curHero.HP*t.HP/100),this._heroData.attack+=Math.round(this._curHero.attack*t.attack/100);for(var e=0;e<this.zbPos.length;++e){var a=this.zbPos[e];if(null!=g_DataMgr.pinfo.hasZBData[a]){var i=this.getGoodData(g_DataMgr.pinfo.hasZBData[a]),r=g_getDataInArr(g_DataMgr.pinfo.hasZBData[a],cc.vv.gameMgr.equipList);null!=r.skill&&(this._heroData.skill=this._heroData.skill.concat(r.skill));var n=i.glv;if(null!=r.Attack&&(this._heroData.attack=this._heroData.attack+Math.round(this._curHero.attack*r.Attack[n]/100)),null!=r.HP&&(this._heroData.HP=this._heroData.HP+Math.round(this._curHero.HP*r.HP[n]/100)),"pf"!=a){cc.vv.gameMgr.changePartialCloth(this._spine,r.location,r.skin,r.location);var s=this._zbNode.getChildByName(a);if(null!=s){var o=s.getChildByName("zbItem");null==o&&(o=cc.instantiate(this.zbItem)),null!=o&&(o.parent=s,o.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame("zb_"+r.quality),o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+r.icon),o.getChildByName("num").getComponent(cc.Label).string="Lv."+(n+1),o._goodData=i,o.getChildByName("red").active=this.checkZbCanUp(i))}}}else{var l=this._zbNode.getChildByName(a).getChildByName("zbItem");null!=l&&l.destroy()}}this.xlLabel.string=this._heroData.HP,this.gjLabel.string=this._heroData.attack},updataContent:function(){this.btnzbNode.parent=this._bg,this.btnzbNode.active=!1,this.content.removeAllChildren(),this.btnzbNode.parent=this.content,this.btnzbNode.active=!0;for(var t=g_DataMgr.pinfo.knapsack,e=0;e<t.length;++e)if(0==t[e].gType){var a=g_getDataInArr(t[e].gID,cc.vv.gameMgr.equipList);if(a.location===this.zbPos[this._zbIndex]){var i=cc.instantiate(this.zbItem);null!=i&&(this.content.addChild(i),i.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame("zb_"+a.quality),i.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+a.icon),i.getChildByName("num").getComponent(cc.Label).string="Lv."+(t[e].glv+1),i.getChildByName("yzb").active=g_DataMgr.pinfo.hasZBData[a.location]==a.ID,i._goodData=t[e],i.on(cc.Node.EventType.TOUCH_END,this.onShowZBup,this),i.getChildByName("red").active=this.checkZbCanUp(t[e]))}}this.freshRed()},onShowZBup:function(t){cc.vv.gameMgr.playEffect(g_audios.click),this.showZBup(t.target)},showZBup:function(t){var e=G_createPrefab(g_loadPrefab.zbup);null!=e&&(g_hallContol.node.addChild(e),e.getComponent("zbup").initZb(t._goodData,this.node))},changeSelect:function(t){this._zbIndex=t,this.updataContent();for(var e=this.btns.children,a=0;a<e.length;++a)e[a].getChildByName("select").active=!1;e[this._zbIndex].getChildByName("select").active=!0},onSelectClick:function(t){cc.vv.gameMgr.playEffect(g_audios.click);var e=t.target.name.split("_"),a=e[e.length-1],i=0;"pf"==a?i=0:"wq"==a?i=1:"shou"==a?i=2:"tou"==a?i=3:"xiong"==a&&(i=4),this._zbIndex!=i&&this.changeSelect(i)},wearZB:function(t){var e=g_getDataInArr(t.gID,cc.vv.gameMgr.equipList);g_DataMgr.pinfo.hasZBData[e.location],g_DataMgr.pinfo.hasZBData[e.location]=t.gID,this.updatazb(),this.updataContent()},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_back"==t.target.name){if(g_hallContol.zhugNode.active)return;g_hallContol.zggzNode.active=!1,g_hallContol.zhugNode.active=!0}else if("btn_zb"==t.target.name)g_hallContol.showGetTS(5);else if("wuqi"==t.target.name){var e=t.target.getChildByName("zbItem");if(null!=e)return void this.showZBup(e);if(1==this._zbIndex)return;this.changeSelect(1)}else if("xianglian"==t.target.name){var a=t.target.getChildByName("zbItem");if(null!=a)return void this.showZBup(a);if(2==this._zbIndex)return;this.changeSelect(2)}else if("yanjing"==t.target.name){var i=t.target.getChildByName("zbItem");if(null!=i)return void this.showZBup(i);if(3==this._zbIndex)return;this.changeSelect(3)}else if("pifeng"==t.target.name){var r=t.target.getChildByName("zbItem");if(null!=r)return void this.showZBup(r);if(4==this._zbIndex)return;this.changeSelect(4)}}}),cc._RF.pop()},{}],UIzhug:[function(t,e){"use strict";cc._RF.push(e,"c4e379MWeBHkp6wUKH6KtBG","UIzhug"),cc.Class({extends:cc.Component,properties:{roleNode:cc.Node,_heroData:null},onLoad:function(){this.zbPos=["pf","wuqi","xianglian","yanjing","pifeng"],this._bg=this.node.getChildByName("bg"),this._spine=this.roleNode.getComponent(sp.Skeleton),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.updataHero(),this.showUIAni()},showUIAni:function(){var t=[0,0,0,-411],e=this.node.getChildByName("zg"),a=this._bg.getChildByName("name"),i=this._bg.getChildByName("skill"),r=this._bg.getChildByName("btn_yxgz");g_moveAct(.3,cc.v2(t[0],e.y),e,null,1),g_moveAct(.3,cc.v2(t[1],a.y),a,null,1),g_moveAct(.4,cc.v2(t[2],i.y),i,null,1),g_moveAct(.5,cc.v2(r.x,t[3]),r,null,1)},updataHero:function(){var t=this;this._heroData=g_getDataInArr(g_DataMgr.pinfo.hasZBData.pf,G_zgHero);var e=g_getEffect(this._heroData.ID,g_heroRes);cc.vv.configMgr.loadSpine(e,function(e){t._spine.skeletonData=e,t._spine.loop=!0,t._spine.animation="idle",t._spine.timeScale=1,t._spine.setSkin("default"),t.updatazb()}),this._bg.getChildByName("btn_yxgz").getChildByName("red").active=g_hallContol.checkZGRed();var a=g_getDataInArr(g_DataMgr.pinfo.hasZBData.pf,cc.vv.gameMgr.stringList.equipStr);this._bg.getChildByName("name").getChildByName("lb").getComponent(cc.Label).string=a.strMs},updatazb:function(){for(var t=1;t<this.zbPos.length;++t){var e=this.zbPos[t];if(null!=g_DataMgr.pinfo.hasZBData[e]){var a=g_getDataInArr(g_DataMgr.pinfo.hasZBData[e],cc.vv.gameMgr.equipList);cc.vv.gameMgr.changePartialCloth(this._spine,a.location,a.skin,a.location),null!=a.skill&&(this._heroData.skill=this._heroData.skill.concat(a.skill))}}var i=this._heroData.skill[this._heroData.skill.length-1],r=g_getDataInArr(i,cc.vv.gameMgr.skillList);if(null!=r){var n=this.node.getChildByName("bg").getChildByName("skill"),s=g_getDataInArr(r.string,cc.vv.gameMgr.stringList.skillStr);n.getChildByName("sname").getComponent(cc.Label).string=s.strName,n.getChildByName("ms").getComponent(cc.Label).string=s.strMs,801!=r.ID&&(n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame("zbskill_"+r.ID))}},onBtnClick:function(t){if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5)&&"btn_yxgz"==t.target.name){if(g_hallContol.zggzNode.active)return;30==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1),g_hallContol.closeUI(t,0),g_hallContol.zggzNode.active=!0}}}),cc._RF.pop()},{}],algo:[function(t,e){"use strict";cc._RF.push(e,"43781LClfNCCYWOwXsBhjBV","algo");var a=e,i={cipher:function(t,e){for(var a=e.length/4-1,r=[[],[],[],[]],n=0;n<16;n++)r[n%4][Math.floor(n/4)]=t[n];r=i.addRoundKey(r,e,0,4);for(var s=1;s<a;s++)r=i.subBytes(r,4),r=i.shiftRows(r,4),r=i.mixColumns(r,4),r=i.addRoundKey(r,e,s,4);r=i.subBytes(r,4),r=i.shiftRows(r,4),r=i.addRoundKey(r,e,a,4);var o=new Array(16);for(n=0;n<16;n++)o[n]=r[n%4][Math.floor(n/4)];return o},keyExpansion:function(t){for(var e=t.length/4,a=e+6,r=new Array(4*(a+1)),n=new Array(4),s=0;s<e;s++){var o=[t[4*s],t[4*s+1],t[4*s+2],t[4*s+3]];r[s]=o}for(s=e;s<4*(a+1);s++){r[s]=new Array(4);for(var l=0;l<4;l++)n[l]=r[s-1][l];if(s%e==0)for(n=i.subWord(i.rotWord(n)),l=0;l<4;l++)n[l]^=i.rCon[s/e][l];else e>6&&s%e==4&&(n=i.subWord(n));for(l=0;l<4;l++)r[s][l]=r[s-e][l]^n[l]}return r},subBytes:function(t,e){for(var a=0;a<4;a++)for(var r=0;r<e;r++)t[a][r]=i.sBox[t[a][r]];return t},shiftRows:function(t,e){for(var a=new Array(4),i=1;i<4;i++){for(var r=0;r<4;r++)a[r]=t[i][(r+i)%e];for(r=0;r<4;r++)t[i][r]=a[r]}return t},mixColumns:function(t){for(var e=0;e<4;e++){for(var a=new Array(4),i=new Array(4),r=0;r<4;r++)a[r]=t[r][e],i[r]=128&t[r][e]?t[r][e]<<1^283:t[r][e]<<1;t[0][e]=i[0]^a[1]^i[1]^a[2]^a[3],t[1][e]=a[0]^i[1]^a[2]^i[2]^a[3],t[2][e]=a[0]^a[1]^i[2]^a[3]^i[3],t[3][e]=a[0]^i[0]^a[1]^a[2]^i[3]}return t},addRoundKey:function(t,e,a,i){for(var r=0;r<4;r++)for(var n=0;n<i;n++)t[r][n]^=e[4*a+n][r];return t},subWord:function(t){for(var e=0;e<4;e++)t[e]=i.sBox[t[e]];return t},rotWord:function(t){for(var e=t[0],a=0;a<3;a++)t[a]=t[a+1];return t[3]=e,t},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]]};void 0!==a&&a.exports&&(a.exports=i),"function"==typeof define&&define.amd&&define([],function(){return i}),cc._RF.pop()},{}],awardTip:[function(t,e){"use strict";cc._RF.push(e,"4c63dRIhyxAM5wRydw1RJ7b","awardTip"),cc.Class({extends:cc.Component,properties:{tiaojLb:cc.Node},onLoad:function(){this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),this._bg=this.node.getChildByName("bg"),this._content=this._bg.getChildByName("content")},initTips:function(t,e){var a=t.position,i=t.parent.convertToWorldSpaceAR(a),r=this.node.parent.convertToNodeSpaceAR(i);this._bg.x=r.x,this._bg.y=r.y+100;for(var n=this._content.children,s=0;s<e.length;++s){n[s].active=!0;var o=e[s].propType,l="prop_"+o;if(o>50&&o<60){var g=o-50;g>5&&(g=5),l="s_"+o,n[s].getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+g)}else if(o>60&&o<80)l="skill_"+(o-60),n[s].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(l);else if(o>100){var c=o-100;l="head_"+c;var h=g_getDataInArr(c,cc.vv.gameMgr.generalList);n[s].getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+h.quality),n[s].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(l)}else n[s].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(l);n[s].getChildByName("label").getComponent(cc.Label).string="x"+e[s].getNum}this.tiaojLb.getComponent(cc.Label).string="\u9886\u53d6\u6761\u4ef6\uff1a\u901a\u5173"+t._boxData.chapter+"-"+t._boxData.gk},initBossBox:function(t,e,a){var i=t.position,r=t.parent.convertToWorldSpaceAR(i),n=this.node.parent.convertToNodeSpaceAR(r);this._bg.width=240,this._bg.x=n.x,this._bg.y=n.y-100;var s=[],o={propType:1,getNum:e.ljNum},l={propType:2,getNum:e.hjNum},g={propType:a,getNum:e.jheNum};s.push(o),s.push(l),s.push(g);for(var c=this._content.children,h=0;h<s.length;++h){c[h].active=!0;var _="prop_"+s[h].propType;c[h].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.atlasData.getSpriteFrame(_),c[h].getChildByName("label").getComponent(cc.Label).string="x"+s[h].getNum}},initTaskActive:function(){this._bg.width=240,this._bg.x=-280,this._bg.y=63;for(var t=[3e3,200,10],e=this._content.children,a=0;a<e.length;++a)e[a].active=!0,e[a].getChildByName("label").getComponent(cc.Label).string="x"+t[a]},onBtnClick:function(){this.node.destroy()}}),cc._RF.pop()},{}],boss:[function(t,e){"use strict";cc._RF.push(e,"ffc4e43RX5HIK5BIlb0J+8F","boss"),cc.Class({extends:cc.Component,properties:{_index:0,_playID:0,_heroState:0,_generalData:null,_curHero:null,_heroSxData:null,_heroInitData:null,_buffArr:null,_maxHP:0,_curHP:0,_curAni:null,_isMove:!1,_target:null,_skillIndex:0,_skillID:0,_skillCDMap:null,_isAttack:!1,_isCanAttack:!0,_curHead:null,_hdNode:null,_gjEffect:null,_jgsEffect:null,_fyEffect:null,_isBqu:0,_linkTime:0,_linkEffect:null,_cfTime:0,_caofEffect:null,_xyEffect:null,_xyTime:0,_isJX:!1,_jxTime:0,_jxEffect:null,_jsEffect:null,_jsTime:0,_bingEffect:null,_zbingEffect:null,_count:0,_isMoveY:!1,_hxTime:null,_hxBuff:null},onLoad:function(){this._zyBuffData={},this._buffArr=[],this._skillCDMap={},this._hpPro=this.node.getChildByName("hp"),this._spine=this.node.getChildByName("body").getComponent(sp.Skeleton)},setFSSx:function(t){var e=this;this._target=t,this._curHero.skill[1]=-1,this._heroSxData.HP=.35*this._heroSxData.HP,this._heroSxData.attack=.35*this._heroSxData.attack,this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.scheduleOnce(function(){e._curHP=0,e._hpPro.active=!1,e.setChangeAnimate("die",!1)},10)},showYjEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.getComponent("effect").initEffectByAttack("textrue/skilleffect/zhaohuanyuanjun"))},updataSxByLv:function(t){var e=t-1<0?0:t-1;this._heroSxData.HP=this._curHero.HP[0]+this._curHero.HP[1]*e,this._heroSxData.attack=this._curHero.attack[0]+this._curHero.attack[1]*e,this._heroSxData.crit=this._curHero.crit[0]+this._curHero.crit[1]*e,this._heroSxData.hurtSub=this._curHero.hurtSub[0]+this._curHero.hurtSub[1]*e,this._heroSxData.intervalTime=this._curHero.intervalTime[0]+this._curHero.intervalTime[1]*e,this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._speed=this._heroSxData.moveSpeed,0!=cc.vv.gameMgr.gameModel&&(this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP),this._heroInitData=JSON.parse(JSON.stringify(this._heroSxData))},initBoss:function(t,e,a){var i,r=this;this._buffArr=[],this._skillCDMap={},this.starPos=this.node.position,this._curHero=g_getDataInArr(t,cc.vv.gameMgr.monstArr),this._ID=this._curHero.skinID,this._curSaveHero=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),console.log("======initBoss=======",this._curHero);var n=e;if(this._heroSxData=g_getDataInArr(t,cc.vv.gameMgr.monstArr),this.updataSxByLv(n),1==a&&this.showYjEffect(),null!=(i=g_getEffect(this._ID,g_heroRes))){if(cc.vv.configMgr.loadSpine(i,function(t){r._spine.skeletonData=t,r._spine.loop=!0,r._spine.animation="idle",r._spine.timeScale=1,r._spine.setSkin("default"),r.onAniCompleted()}),39==this._ID&&(this._hxTime=0,this._skillCDMap[39]=!0),4==this._ID||24==this._ID||36==this._ID){var s=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList).buffid[this._curSaveHero.skillLv];if(24==this._ID)this._buffArr.push(s[0]);else for(var o=0;o<s.length;++o)this._buffArr.push(s[o]);this.getZYBuffData()}this._isMove=!0,this._target=g_gameContol._myTower,this.showHead()}},showHead:function(){this._curHead=cc.instantiate(g_gameContol.tbiaoPre),g_gameContol.proNode.addChild(this._curHead),this._curHead.getChildByName("red").active=!0,this._curHead.x=200,this._curHead.getChildByName("head").scaleX=-1;var t=g_getAtlas(g_skinAtlas.head),e="shead_"+this._ID;this._curHead.getChildByName("head").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(e)},playSoundEffect:function(t){var e=t.split("_");"sound"==e[0]&&cc.vv.gameMgr.playEffect(g_audios[e[e.length-1]])},createBullet:function(){var t=this,e=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(e,function(e){var a=cc.instantiate(e);if(null!=a){t.node.parent.addChild(a);var i=a.getComponent("bullet");null!=i&&i.initGeneralBullet(t.node,t._skillID,1)}})},onAniCompleted:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){if(console.log("-------bossevent-----",a),"hit"==a.data.name&&(console.log("-------hit----------",a.data.name),null!=t._target&&null!=t._target.parent)){var i=t._target.getComponent("tower");if(null==i&&(i=t._target.getComponent("general")),null==i&&(i=t._target.getComponent("hero")),null!=i)if(6==t._skillID||7==t._skillID||9==t._skillID||10==t._skillID||22==t._skillID||23==t._skillID||25==t._skillID||27==t._skillID||33==t._skillID||35==t._skillID||37==t._skillID||41==t._skillID)g_gameContol.checkAttack(t.node,t._skillID);else{var r=0;2==t._skillID&&(r=1),i.byAttack(t.node,t._skillID,r)}}"shoot"==a.data.name&&(console.log("-------shoot----------",a.data.name),t.createBullet()),"hit_fly"==a.data.name&&console.log("-------hit_fly----------",a.data.name),"hit_fall"==a.data.name&&console.log("-------hit_fall----------",a.data.name),"hit_over"==a.data.name&&console.log("-------hit_over----------",a.data.name),t.playSoundEffect(a.data.name)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";console.log("------boss--------",a),"attack"!=a&&"skill"!=a||(8==t._skillID&&t.showFS(),t._isAttack=!1,t.setChangeAnimate("idle",!0),2==t._skillID&&(t._isMove=!0)),"die"==a&&(t.node.parent=null,1==cc.vv.gameMgr.gameModel&&(g_DataMgr.towerInfo.chKillNum++,g_DataMgr.saveTower()),g_gameContol.checkMonster(),t._curHead.destroy(),t.node.destroy())})},showFS:function(){var t=G_createPrefab(g_loadPrefab.boss);null!=t&&(g_gameContol.bodyNode.addChild(t),t.position=cc.v2(this.node.x+50,this.node.y-50),t.getComponent("boss").initGenneral(this._ID),t.getComponent("boss").setFSSx(this._target),g_gameContol._monsterArr.push(t))},setChangeAnimate:function(t,e){this._curAni!=t&&(this._curAni=t,this._spine.setAnimation(0,t,e))},getZYBuffData:function(){for(var t=this._buffArr,e=[],a=0;a<t.length;++a)if(0!=t[a]){var i=g_getDataInArr(t[a],cc.vv.gameMgr.buffList);e.push(i)}this._zyBuffData.attackSpeed=0,this._zyBuffData.moveSpeed=0;for(var r=0;r<e.length;++r)"attackspeed"===e[r].type&&(this._zyBuffData.attackSpeed+=this._heroSxData.intervalTime*e[r].value/100),"sattackspeed"===e[r].type&&(this._zyBuffData.attackSpeed-=this._heroSxData.intervalTime*e[r].value/100),"movespeed"===e[r].type&&(this._zyBuffData.moveSpeed+=this._heroSxData.moveSpeed*e[r].value/100),"smovespeed"===e[r].type&&(this._zyBuffData.moveSpeed-=this._heroSxData.moveSpeed*e[r].value/100);this._heroSxData._buffArr=this._buffArr},setBuffCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.buffList);"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||(null==this._gjEffect&&(this._gjEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._gjEffect),this._gjEffect._buffCount=0,this._gjEffect.getComponent("effect").initGj()),null!=this._gjEffect&&this._gjEffect._buffCount++),"defence"===a.type&&(null==this._fyEffect&&(this._fyEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._fyEffect),this._fyEffect._buffCount=0,this._fyEffect.getComponent("effect").initFY()),null!=this._fyEffect&&this._fyEffect._buffCount++),this.scheduleOnce(function(){for(var i=0;i<e._buffArr.length;++i)if(e._buffArr[i]==t){e._buffArr.splice(i,1);break}e.getZYBuffData(),"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||null!=e._gjEffect&&(e._gjEffect._buffCount--,0==e._gjEffect._buffCount&&(e._gjEffect.destroy(),e._gjEffect=null)),"defence"===a.type&&null!=e._fyEffect&&(e._fyEffect._buffCount--,0==e._fyEffect._buffCount&&(e._fyEffect.destroy(),e._fyEffect=null))},a.time)},setSkillCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.skillList);if("buff"==a.effect_Type){for(var i=a.buffid[this._curSaveHero.skillLv],r=0;r<i.length;++r)this.setBuffCD(i[r]),this._buffArr.push(i[r]);this.getZYBuffData()}a.effect_Type;var n=a.CD;this.scheduleOnce(function(){e._skillCDMap[""+t]=!0},n)},setAttack:function(t){var e=this;if(this._isCanAttack&&!this._isAttack&&"behit"!==this._curAni){this._isAttack=!0,this._skillIndex=t,this._skillID=this._curHero.skill[this._skillIndex],this._skillCDMap[""+this._skillID]=!1,6!=this._skillID&&this.setSkillCD(this._skillID);var a=null;0==t?a="attack":(a="skill",console.log("=========\u6280\u80fd\u91ca\u653e==========",this._skillID)),this.setChangeAnimate(a,!1),this._skillID>=1&&this._skillID<=500&&g_gameContol.showGSkillAni(this._ID,this._skillID),this._isCanAttack=!1,this._zyBuffData.attackSpeed=null==this._zyBuffData.attackSpeed?0:this._zyBuffData.attackSpeed;var i=this._heroSxData.intervalTime-this._zyBuffData.attackSpeed;i=i<0?0:i,console.log("===dtime====",i),this.scheduleOnce(function(){e._isCanAttack=!0},i),5!=this._skillID&&13!=this._skillID&&14!=this._skillID&&15!=this._skillID&&23!=this._skillID&&28!=this._skillID&&32!=this._skillID&&34!=this._skillID&&38!=this._skillID||this.setSkill(this._skillID)}},setSkill:function(t){var e=this,a=g_getDataInArr(this._skillID,cc.vv.gameMgr.skillList),i=g_getDataInArr(a.buffid[this._curSaveHero.skillLv][0],cc.vv.gameMgr.buffList),r=this._heroSxData.attack*i.value/100;if(13==t&&this.scheduleOnce(function(){g_gameContol.checkHX(r,1)},.1),14==t&&this.scheduleOnce(function(){e.setOpenHD(r)},.1),15==t){var n=this._target.getComponent("general");null==n&&(n=this._target.getComponent("hero")),null!=n&&n.setJiaoxie(i.time)}if(5==t||34==t)for(var s=g_gameContol._generalArr,o=0;o<s.length;++o)if(g_checkLen(s[o].position,this.node.position)<=a.distance){var l=s[o].getComponent("general");null==l&&(l=s[o].getComponent("hero")),null!=l&&(5==t&&l.setChaof(i.time,this.node),34==t&&l.setLink(i.time))}if(23==t){var g=g_getEffect(a.effectID,g_heroEffectRes);if(null==g)return;var c=G_createPrefab(g_loadPrefab.effect);null!=c&&(this.node.parent.addChild(c),c.position=cc.v2(this._target.x,this._target.y+100),c.getComponent("effect").initBoom(g,"a1")),"dfbuff"==a.effect_Type&&g_gameContol.checkAddBuff(this.node,t,1)}if(28==t&&"wfbuff"==a.effect_Type&&g_gameContol.checkAddBuff(this.node,t),32==t&&g_checkLen(this._target.position,this.node.position)<=a.distance){var h=this._target.getComponent("general");null==h&&(h=this._target.getComponent("hero")),null!=h&&h.setChaof(i.time,this.node)}if(38==t){if(null==g_getEffect(a.effectID,g_heroEffectRes))return;var _=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(_,function(a){var i=cc.instantiate(a);if(null!=i){e.node.parent.addChild(i),i.position=cc.v2(e._target.x,e._target.y-50);var r=i.getComponent("bullet");null!=r&&r.initSkillBullet(e.node,t,1)}})}},setOpenHD:function(t){this._hdNode=G_createPrefab(g_loadPrefab.effect),null!=this._hdNode&&(this.node.addChild(this._hdNode),this._hdNode.getComponent("effect").initHD(t))},setAddHP:function(t){if(0!=this._curHP){var e=G_createPrefab(g_loadPrefab.effect);null!=e&&(this.node.addChild(e),e.getComponent("effect").initHX()),this._curHP+=t,this._curHP>=this._maxHP&&(this._curHP=this._maxHP),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.showAttackZi(t,!1,5)}},byAttack:function(t,e,a){var i=null,r=t.getComponent("bullet");if(10==a?i=(r=t)._sxData:null!=r?i=r._heroSxData:(null==(r=t.getComponent("general"))&&(r=t.getComponent("hero")),null!=r&&(i=r._heroSxData)),null!=r){var n=null;if(10==a)n=e;else{if(0==r._curHP)return;if(this.setSkillBuff(e),2003==e||2004==e||2005==e)return;n=g_getDataInArr(e,cc.vv.gameMgr.skillList)}if(null==n)return;10==a&&(4==n.ID&&1==this.node._stopDJ&&(this.node._stopDJ=!1,this.showLDEffect(n,1)),8==n.ID&&this.setSkillBuff(n.ID,1)),18==n.ID&&this.showLDEffect(n),this._heroSxData._buffArr=this._buffArr;var s=cc.vv.gameMgr.getAttackNum(i,this._heroSxData,n);if(0!=s.xxNum&&null!=r._curHP){var o=Math.round(s.xxNum*s.rattack/100);r.setAddHP(o)}if(40==n.ID&&null!=r._curHP&&0!=s.rattack){var l=g_getDataInArr(e,g_DataMgr.generalSaveArr),g=n.buffid[l.skillLv][0],c=g_getDataInArr(g,cc.vv.gameMgr.buffList),h=Math.round(c.value*s.rattack/100);r.setAddHP(h)}if(0!=s.jsAttack){this.node._isjs=!0;var _=r._ID;g_gameContol.checkJians(this.node,_,s.jsAttack,0)}var u=s.rattack;if(0==u)return void r.showMissEffect();if(this.showHitEffect(n.hitEffectID),0!=u&&this.showAttackZi(u,s.bj,n.hitPZType),null!=this._hdNode?this._hdNode.getComponent("effect").setHDhp(u):0==this._isBqu&&(this._curHP-=u),this._curHP<=0&&0==this._isBqu&&(21==this._ID?(this._isBqu=1,this._curHP=1,this.setSkillBuff(this._ID)):(this._curHP=0,this.setChangeAnimate("die",!1))),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.checkHX(),0!=u&&this.showFTAttack(u,t),24==this._ID){for(var d=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList).buffid[this._curSaveHero.skillLv],f=!1,p=0;p<this._buffArr.length;++p)if(this._buffArr[p]==d[1]){f=!0;break}if(this._curHP/this._maxHP<.5&&!f){for(var m=0;m<this._buffArr.length;++m)if(this._buffArr[m]==d[0]){this._buffArr.splice(m,1),m--;break}this._buffArr.push(d[1]),this.getZYBuffData()}}if(26==this._ID&&0!=u){var v=1-this._curHP/this._maxHP;this._heroSxData.attack+=Math.round(this._heroInitData.attack*v),this._heroSxData.intervalTime-=this._heroInitData.intervalTime*v,this._heroSxData.intervalTime<0&&(this._heroSxData.intervalTime=0)}2007!=e&&2008!=e&&2009!=e&&2010!=e||this.showXY(e)}},checkHX:function(){var t=this;if(39==this._ID&&0==this._hxTime&&0!=this._skillCDMap[39]&&this._curHP/this._maxHP<.3){var e=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList),a=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),i=e.buffid[a.skillLv][0],r=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._hxBuff=r,this._hxTime=r.time,this._skillCDMap[39]=!1,this.scheduleOnce(function(){t._skillCDMap[39]=!0,null==t._hxTime&&(t._hxTime=0)},e.CD)}},showFTAttack:function(t,e){if(0!=t&&29==this._ID){var a=this._ID,i=g_getDataInArr(a,cc.vv.gameMgr.skillList),r=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),n=i.buffid[r.skillLv][0],s=g_getDataInArr(n,cc.vv.gameMgr.buffList),o=Math.ceil(t*s.value/100),l=e.getComponent("hero");null==l&&(l=e.getComponent("general")),null!=l&&l.setJiansAttack(o,1)}},setJiansAttack:function(t,e){if(0!=this._curHP){var a=t;1!=e&&(this.showHitEffect(1),0!=a&&this.showAttackZi(a,!1)),this._curHP-=a,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.checkHX()}},showLDEffect:function(t,e){var a=g_getEffect(t.bSpineID,g_heroEffectRes),i=G_createPrefab(g_loadPrefab.effect);null!=i&&(this.node.addChild(i),i.position=cc.v2(0,0),i.getComponent("effect").initEffect(a),this.showXY(t.ID,e))},showXY:function(t,e){if(0!=this._curHP&&(2==t||6==t||18==t||35==t||2007==t||2008==t||2009==t||2010==t||1==e)){var a=g_getDataInArr(t,cc.vv.gameMgr.skillList);1==e&&(a=g_getDataInArr(t,cc.vv.gameMgr.zSkillList));var i=a.buffid[0];if(2==t||6==t||18==t||35==t){var r=g_getDataInArr(t,g_DataMgr.generalSaveArr);i=a.buffid[r.skillLv][0]}var n=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._isAttack=!1,this.setChangeAnimate("idle",!0),null==this._xyEffect&&(this._xyEffect=G_createPrefab(g_loadPrefab.effect),null!=this._xyEffect&&(this.node.addChild(this._xyEffect),this._xyEffect.position=cc.v2(0,this._hpPro.y-10),this._xyEffect.getComponent("effect").initXuanyun())),this._xyTime+=60*n.time}},setJiaoxie:function(t){0!=this._curHP&&(this._isJX=!0,this._jxTime+=t,null==this._jxEffect&&(this._jxEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._jxEffect),this._jxEffect.position=cc.v2(0,110),this._jxEffect.getComponent("effect").initEffectByType("textrue/effect/buff_jiaoxie",1)))},setChaof:function(t,e){0!=this._curHP&&(this._cfTime+=t,this._target=e,null==this._caofEffect&&(this._caofEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._caofEffect),this._caofEffect.position=cc.v2(0,110),this._caofEffect.getComponent("effect").initEffectByType("textrue/effect/buff_beichaofeng",1)))},setLink:function(t){0!=this._curHP&&(this._linkTime+=t,null==this._linkEffect&&(this._linkEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._linkEffect),this._linkEffect.getComponent("effect").initEffectByType("textrue/effect/buff_037",1)))},setSkillBuff:function(t,e){var a=this;if(0!=this._curHP){var i=g_getDataInArr(t,cc.vv.gameMgr.skillList);if(1==e&&(i=g_getDataInArr(t,cc.vv.gameMgr.zSkillList)),16==t||21==t||38==t||2004==t||2003==t||2005==t||1==e){if(null!=this._jsEffect&&16==t)return;var r=i.buffid[0];if(16==t||21==t||38==t){var n=g_getDataInArr(t,g_DataMgr.generalSaveArr);if(r=i.buffid[n.skillLv][0],38==t&&-1!=this._buffArr.findIndex(function(t){return t==r}))return}if(this._buffArr.push(r),this.setBuffCD(r),2003==t||2005==t)return;var s=g_getDataInArr(r,cc.vv.gameMgr.buffList);if(21==t)return void this.scheduleOnce(function(){a._isBqu=2,a._curHP=0,a.setChangeAnimate("die",!1),a._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=a._curHP/a._maxHP},s.time);if(1==e&&8==t)return null==this._zbingEffect?(this._zbingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._zbingEffect&&(this.node.addChild(this._zbingEffect),this._zbingEffect.getComponent("effect").initzdBing(),this._zbingEffect._buffCount=1)):this._zbingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._zbingEffect&&(a._zbingEffect._buffCount--,0==a._zbingEffect._buffCount&&(a._zbingEffect.getComponent("effect").setPoBing(),a._zbingEffect=null))},s.time[this.node._dsTimeLv]);if(16==t){var o=this.node.getChildByName("body");return o.color=cc.Color.fromHEX(cc.color(0,0,0),"#3A7DFE"),null==this._bingEffect?(this._bingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._bingEffect&&(this.node.addChild(this._bingEffect),this._bingEffect.getComponent("effect").initBing(),this._bingEffect._buffCount=1)):this._bingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._bingEffect&&(a._bingEffect._buffCount--,0==a._bingEffect._buffCount&&(o.color=cc.Color.fromHEX(cc.color(0,0,0),"#FFFFFF"),a._bingEffect.destroy(),a._bingEffect=null))},s.time)}}if(23==t||28==t){for(var l=g_getDataInArr(t,g_DataMgr.generalSaveArr),g=i.buffid[l.skillLv],c=0;c<g.length;++c){var h=g[c];this._buffArr.push(h),this.setBuffCD(h)}if(28==t)return void this.getZYBuffData();var _=g_getDataInArr(g[0],cc.vv.gameMgr.buffList),u=G_createPrefab(g_loadPrefab.effect);if(null!=u){var d=g_getEffect(_.effect,g_heroEffectRes);if(null==d)return;this.node.addChild(u),u.y=200,u.getComponent("effect").initBuffEffect(d,_.time)}}}},showMissEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.position=cc.v2(0,50),t.getComponent("effect").initEffectByAttack("textrue/effect/eff_miss"))},showHitEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.addChild(a),a.position=cc.v2(0,50),a.getComponent("effect").initEffectByAttack(e))},showAttackZi:function(t,e,a){var i=this;cc.vv.configMgr.loadPrefab(g_prefabPath.piaozi,function(r){var n=cc.instantiate(r);i.node.addChild(n),n.x=0,n.y=150;var s=0;e?s=3:null!=a&&(s=a),n.getComponent("piaozi").showNumBytype(t,s,1)})},changeTarget:function(){null!=this._target&&null!=this._target.parent||(this._target=g_gameContol._myTower),null!=this._target.getComponent("tower")&&0!=g_gameContol._generalArr.length&&(this._target=g_gameContol.findMinlen(g_gameContol._generalArr,this.node,1))},checkAttack:function(){if(!this._isJX&&!this._isMove&&null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(null==this._target.parent||null==this._target)return this.changeTarget(),void(null!=this._target&&(this._isMove=!0));if(null==this._target.getComponent("tower")||0!=this._target.getComponent("tower")._curHP){for(var t=this._curHero.skill,e=[],a=0;a<t.length;++a)-1!=t[a]&&(e.push(a),null==this._skillCDMap[""+t[a]]&&(this._skillCDMap[""+t[a]]=!0));for(var i=[],r=g_checkLen(this.node.position,this._target.position),n=0;n<e.length;++n){var s=e[n];if(4!=t[s]&&21!=t[s]&&24!=t[s]&&26!=t[s]&&29!=t[s]&&36!=t[s]&&39!=t[s]&&(14!=t[s]||null==this._hdNode)){var o=g_getDataInArr(t[s],cc.vv.gameMgr.skillList);null!=this._target.getComponent("tower")&&null!=o&&"all"!=o.target_Type||0!=s&&this._skillCDMap[""+t[s]]&&r<=o.distance&&i.push(n)}}if(0==i.length)return r<=this._curHero.attackDistance&&-1!=t[0]?(this.setAttack(0),1):(this._isMove=!0,3);var l=e[i[g_getRandom(0,i.length-1)]];return this.setAttack(l),1}}},setMove:function(){if(this._isMove&&!this._isAttack)if(null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(this.changeTarget(),null!=this._target){this.setChangeAnimate("run",!0);var t=this._target.x>=this.node.x?1:-1,e=this._target.y>=this.node.y?1:-1;this._zyBuffData.moveSpeed=null==this._zyBuffData.moveSpeed?0:this._zyBuffData.moveSpeed;var a=this._speed+this._zyBuffData.moveSpeed,i=Math.abs(this._target.y-this.node.y)*a/Math.abs(this._target.x-this.node.x);if(this._isMoveY?this.node.y+=a*e:(this.node.x+=a*t,this.node.y+=i*e),this._curHead.x=200-400*Math.abs(this.node.x-1e3)/1280,g_checkLen(this.node.position,this._target.position)<=this._curHero.attackDistance){var r=70;27!=this._ID&&9!=this._ID||(r=10),this.node.y>this._target.y+70||this.node.y<this._target.y-r?this._isMoveY=!0:(this._isMoveY=!1,this.setChangeAnimate("idle",!0),this._isMove=!1)}else this._isMoveY=!1}}else"run"===this._curAni&&this.setChangeAnimate("idle",!0)},update:function(){0==this._curHP||g_gameContol._isOver||g_gameContol._isGamePause?(g_gameContol._isOver||g_gameContol._isGamePause)&&"run"===this._curAni&&this.setChangeAnimate("idle",!0):(this.showBuffTime(),this.setMove(),this.checkAttack())},showBuffTime:function(){if(this._count++,60==this._count&&(this._count=0,this._jsTime>0&&(this._jsTime--,0==this._jsTime&&(this._jsEffect.destroy(),this._jsEffect=null)),this._jxTime>0&&(this._jxTime--,0==this._jxTime&&(this._jxEffect.destroy(),this._jxEffect=null,this._isJX=!1)),this._cfTime>0&&(this._cfTime--,0==this._cfTime&&(this._caofEffect.destroy(),this._caofEffect=null,this.changeTarget())),this._linkTime>0&&(this._linkTime--,0==this._linkTime&&(this._linkEffect.destroy(),this._linkEffect=null)),null!=this._hxTime&&this._hxTime>0)){this._hxTime--;var t=Math.round(this._hxBuff.value*this._maxHP/100);this.setAddHP(t),0==this._hxTime&&(this._hxTime=null,1==this._skillCDMap[39]&&(this._hxTime=0))}this._xyTime>0&&(this._xyTime--,0==this._xyTime&&(this._xyEffect.destroy(),this._xyEffect=null))}}),cc._RF.pop()},{}],bullet:[function(t,e){"use strict";cc._RF.push(e,"b5c6cCPqq1EhqwN3E+EOWoD","bullet"),cc.Class({extends:cc.Component,properties:{_parentNode:null,_target:null,_speed:0,_skillID:0,_targetArr:null,_heroSxData:null,_buffArr:null,_startPos:null,_isBoom:!1,_isMy:!0,_gjCount:0,_ID:null,_fxLen:null},onLoad:function(){this._targetArr=[],this._tIndex=0,this._speed=0,this._sbody=this.node.getChildByName("sbody"),this._spine=this._sbody.getComponent(sp.Skeleton),this._icon=this.node.getChildByName("icon"),this._ani=this._icon.getComponent(cc.Animation)},initBullet:function(t,e){this._speed=10,this._startPos=t.position,this._parentNode=t,null!=e&&(this._skillID=e),this.node.position=cc.v2(t.x,t.y+100);var a=t.getComponent("tower");null!=a&&(this._target=a._target,this._heroSxData=a._towerSXData,this._fxLen=this._heroSxData.attackDistance)},onComplete:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){console.log("-------skillevent-----",a),"hit"==a.data.name&&38==t._skillID&&g_gameContol.checkAttack(t.node,t._skillID)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";"a2"!==a&&"behitattack"!==a&&"skill"!==a||t.node.destroy()})},initGeneralBullet:function(t,e,a){var i=this,r=10;if(this._ID=e,this._startPos=t.position,this._parentNode=t,this.node._firstPos=t.position,null!=e){this._skillID=e;var n=g_getDataInArr(e,cc.vv.gameMgr.skillList);if(null!=n.bulletID){var s=g_getAtlas(g_skinAtlas.zdIcon);this._icon.getComponent(cc.Sprite).spriteFrame=s.getSpriteFrame(n.bulletID),this.node.width=this._icon.height-10}else if(null!=n.bSpineID){this._icon.active=!1,this._sbody.active=!0;var o="a1";506==e&&(o="attack"),16!=e&&505!=e||(this._sbody.angle=-180,o="animation");var l=g_getEffect(n.bSpineID,g_heroEffectRes);cc.vv.configMgr.loadSpine(l,function(t){i._spine.skeletonData=t,i._spine.loop=!0,i._spine.animation="",i._spine.timeScale=1,i.onComplete(),i._spine.setAnimation(0,o,!0)})}null!=n.bulletSpeed&&(r=n.bulletSpeed)}this.node.position=cc.v2(t.x,t.y+30);var g=t.getComponent("general");if(null==g&&(g=t.getComponent("hero")),null==g&&(g=t.getComponent("boss")),null==g&&(g=t.getComponent("monster")),null==g&&(g=t.getComponent("enemy")),null==g&&(g=t.getComponent("ehero")),this._isMy=1!=a,null!=g&&(this._target=g._target,this._heroSxData=g._heroSxData,this._buffArr=g._buffArr,this._fxLen=g._curHero.attackDistance,16==this._skillID&&(this.checkTarget(),this._targetArr.sort(function(t,e){return e.x-t.x}))),2003==e||801==e||1009==e)return null!=this._ani&&this._ani.play(),void this.moveByBasier();9!=e?this._speed=r:this.moveByX()},initSkillBullet:function(t,e,a){var i=this;if(38==e){if(this._ID=e,this._startPos=t.position,this._parentNode=t,this.node._firstPos=this.node.position,null!=e){this._skillID=e;var r=g_getDataInArr(e,cc.vv.gameMgr.skillList);if(null!=r.effectID){this._icon.active=!1,this._sbody.active=!0;var n=g_getEffect(r.effectID,g_heroEffectRes);cc.vv.configMgr.loadSpine(n,function(t){i._spine.skeletonData=t,i._spine.loop=!0,i._spine.animation="",i._spine.timeScale=1,i.onComplete(),i._spine.setAnimation(0,"skill",!0)})}}var s=t.getComponent("general");null==s&&(s=t.getComponent("hero")),null==s&&(s=t.getComponent("boss")),null==s&&(s=t.getComponent("monster")),null==s&&(s=t.getComponent("enemy")),null==s&&(s=t.getComponent("ehero")),this._isMy=1!=a,null!=s&&(this._target=s._target,this._heroSxData=s._heroSxData,this._buffArr=s._buffArr)}},moveByBasier:function(){var t=this,e=this.node.position;if(null!=this._target&&null!=this._target.parent){var a=1==this._isMy?1:-1,i=cc.v2(this.node.x+100*a,this.node.y+100);1009==this._skillID&&(i=this._target.position);var r=cc.vv.gameMgr.createBezier(.8,e,i,100,60);cc.tween(this.node).bezierTo(.3,r[0],r[1],r[2],{easing:"sineOut"}).call(function(){1009==t._skillID?(t.showBoomEffect(4),g_gameContol.checkAttack(t.node,t._skillID),t.node.destroy()):t._speed=15}).start()}},moveByX:function(){var t=this;if(null!=this._target&&null!=this._target.parent){var e=this._target.position,a=.001*g_checkLen(this.node.position,e);cc.tween(this.node).to(a,{position:cc.v2(e.x,e.y+50)},{easing:"sineOut"}).call(function(){9==t._skillID&&t.setBulletBoom()}).start()}},showBoomEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.parent.addChild(a),a.position=cc.v2(this.node.x,this.node.y),a.getComponent("effect").initEffectByAttack(e))},setBulletBoom:function(){if(!this._isBoom){if(this._isBoom=!0,this.node.stopAllActions(),9==this._skillID)return this._spine.setAnimation(0,"a2",!1),void g_gameContol.checkAttack(this.node,this._skillID);if(506!=this._skillID){this._icon.active=!1;var t=G_createPrefab(g_loadPrefab.effect);if(null!=t){this.node.parent.addChild(t),t.position=this.node.position;var e=2003==this._skillID?"a2":"a1";t.getComponent("effect").initBoom("textrue/skilleffect/eff_pijiuping",e)}2003==this._skillID&&(g_gameContol.checkAttack(this.node,this._skillID),this.node.destroy())}else this._spine.setAnimation(0,"behitattack",!1)}},checkTarget:function(){var t=g_getDataInArr(this._skillID,cc.vv.gameMgr.skillList),e=g_gameContol._monsterArr;this._isMy||(e=g_gameContol._generalArr),this._tIndex=0,this._targetArr.push(this._target);for(var a=0;a<e.length;++a){var i=g_checkLen(this._target.position,e[a].position);if(i<=t.distance&&i>0){var r=e[a].getComponent("monster");if(null==r&&(r=e[a].getComponent("boss")),null==r&&(r=e[a].getComponent("tower")),null==r&&(r=e[a].getComponent("hero")),null==r&&(r=e[a].getComponent("general")),null==r&&(r=e[a].getComponent("enemy")),null==r&&(r=e[a].getComponent("ehero")),null!=r&&(this._targetArr.push(e[a]),5==this._targetArr.length))break}}this._gjCount=0},myCos:function(t){return Math.cos(t*Math.PI/180)},mySin:function(t){return Math.sin(t*Math.PI/180)},getAngle:function(t,e){var a=e.x-t.x,i=e.y-t.y;return 0==a&&0==i?this.node.angle:-cc.v2(a,i).signAngle(cc.v2(1*this.node.scaleX,0))/Math.PI*180},setMovePos:function(){if(0!=this._speed){this.node.angle=this.getAngle(cc.v2(this._target.x,this._target.y+50),this.node.position);var t=this.node.position,e=this.myCos(this.node.angle)*this._speed,a=this.mySin(this.node.angle)*this._speed;t.addSelf(cc.v2(-e,-a)),this.node.position=t,this.checkLen()}},bulletMove:function(){if(38!=this._skillID){if(null==this._target||null==this._target.parent){if(16!=this._skillID)return void this.node.destroy();if(1==this._targetArr.length)return void this.node.destroy();for(var t=0;t<this._targetArr.length;++t)null!=this._targetArr[t]&&null!=this._targetArr[t].parent||(this._targetArr.splice(t,1),--t,this._tIndex--);if(this._tIndex<0&&(this._tIndex=this._targetArr.length-1),this._target=this._targetArr[this._tIndex],null==this._target||null==this._target)return void this.node.destroy()}if(9!=this._skillID&&1009!=this._skillID&&(this.setMovePos(),this.node.getBoundingBox().intersects(this._target.getBoundingBox()))){var e=this._target.getComponent("general");if(null==e&&(e=this._target.getComponent("hero")),null==e&&(e=this._target.getComponent("monster")),null==e&&(e=this._target.getComponent("boss")),null==e&&(e=this._target.getComponent("enemy")),null==e&&(e=this._target.getComponent("ehero")),null==e&&(e=this._target.getComponent("tower")),null!=e){if(0==e._curHP)return void this.node.destroy();if(2003!=this._skillID&&801!=this._skillID&&506!=this._skillID||this.setBulletBoom(),2003==this._skillID)return;e.byAttack(this.node,this._skillID)}16==this._skillID?1==this._targetArr.length?this.node.destroy():(this._tIndex++,this._tIndex>=this._targetArr.length&&(this._tIndex=0),this._target=this._targetArr[this._tIndex],this._gjCount++,5==this._gjCount&&this.node.destroy()):this.node.destroy()}}},showMissEffect:function(){},checkLen:function(){g_checkLen(this._startPos,this.node.position)>this._fxLen&&this.node.destroy()},update:function(){null!=this._parentNode&&(this.node.zIndex=this._parentNode.zIndex+1),this.bulletMove()}}),cc._RF.pop()},{}],chInfo:[function(t,e){"use strict";cc._RF.push(e,"9a8b97PSmRFrJcBFdzaHulO","chInfo"),cc.Class({extends:cc.Component,properties:{sxms:cc.Node,jsms:cc.Node,awardNode:cc.Node,chtitle:cc.Node,_parentNode:null,_awardArr:null},onLoad:function(){this._bg=this.node.getChildByName("bg"),this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},initChInfo:function(t){this._parentNode=t;var e=t._chData,a=g_getDataInArr(e.intro,cc.vv.gameMgr.stringList.chIntroStr),i=this.chtitle.getComponent(sp.Skeleton);i.setSkin(e.skin),i.setAnimation(0,"animation",!0),this.sxms.getComponent(cc.Label).string=a.intro,this.jsms.getComponent(cc.Label).string=a.jsstr,this.updataShowAward()},updataShowAward:function(){this._awardArr=[];for(var t=this._parentNode._chData,e=t.propArr,a=this.awardNode.children,i=0;i<a.length;++i){var r=a[i],n=e[i],s=n[0],o=n[1],l="prop_"+s;if(s>50&&s<=60){var g=s-50;g>5&&(g=5),l="s_"+s,r.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+g)}else if(s>60&&s<80)l="skill_"+(s-60),r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(l);else if(s>100){var c=s-100;l="head_"+c;var h=g_getDataInArr(c,cc.vv.gameMgr.generalList);r.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+h.quality),r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(l)}var _=null,u=0;0==s?(_=g_getDataInArr(n[1],cc.vv.gameMgr.equipList),u=n[1],o=1,r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+_.icon),r.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+_.quality)):s<60&&(r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(l)),r.getChildByName("num").getComponent(cc.Label).string=o,r.getChildByName("num").active=2!=g_DataMgr.towerInfo.chHasMap[""+t.ID],r.getChildByName("yl").active=2==g_DataMgr.towerInfo.chHasMap[""+t.ID];var d={propType:s,getNum:o,zbID:u};this._awardArr.push(d)}this.jsms.active=0==g_DataMgr.towerInfo.chHasMap[""+t.ID],this.updataBtn(),1==g_DataMgr.towerInfo.chHasMap[""+t.ID]&&(this.showGetAward(),g_DataMgr.towerInfo.chHasMap[""+t.ID]=2,g_DataMgr.saveTower(),this.updataShowAward(),this._parentNode.getChildByName("red").active=1==g_DataMgr.towerInfo.chHasMap[""+t.ID])},updataBtn:function(){var t=this._parentNode._chData;this._bg.getChildByName("btn_sy").active=g_DataMgr.towerInfo.titleID!=t.ID&&0!=g_DataMgr.towerInfo.chHasMap[""+t.ID],this._bg.getChildByName("btn_xx").active=g_DataMgr.towerInfo.titleID==t.ID&&0!=g_DataMgr.towerInfo.chHasMap[""+t.ID]},showGetAward:function(){var t=G_createPrefab(g_loadPrefab.getAward);null!=t&&(this.node.parent.addChild(t),t.getComponent("getAward").initAward(this._awardArr))},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_sy"==t.target.name){var e=this._parentNode._pointNode;if(null!=e){var a=this._parentNode._chData,i=e.getComponent("UIbarrack");null!=i&&i.setCH(a.ID),this.updataBtn()}16==g_DataMgr.g_guideJDNum&&g_hallContol.showGuideJD(!1)}else if("btn_xx"==t.target.name){var r=this._parentNode._pointNode;if(null!=r){var n=r.getComponent("UIbarrack");null!=n&&n.setCH(0),this.updataBtn()}}else"btn_close"==t.target.name&&this.destroyFun()},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],effect:[function(t,e){"use strict";cc._RF.push(e,"e1f17RXdi9DyYyq5v2iAVpS","effect"),cc.Class({extends:cc.Component,properties:{_skillBuffData:null,_parentNode:null},onLoad:function(){this._eSpine=this.node.getChildByName("body").getComponent(sp.Skeleton),this._xyEffect=this.node.getChildByName("xy"),this._hdEffect=this.node.getChildByName("hd"),this._fhEffect=this.node.getChildByName("sx")},getSpineByName:function(t){for(var e=0;e<g_effects.length;++e)if(t===g_effects[e].attackName)return g_effects[e].spinePath;return console.log("-------getSpineByName-\u672a\u627e\u5230------"),null},initEffectByType:function(t,e){var a=t;this.node.zIndex=100,this.initBodySpine(a,e)},initBodySpine:function(t,e){var a=this,i=t;if(null!=i){var r="animation";1!=e&&101!=e||(r="appear"),2==e&&(r="skill"),cc.vv.configMgr.loadSpine(i,function(t){a._eSpine.skeletonData=t,a._eSpine.loop=!0,a._eSpine.animation=r,a._eSpine.timeScale=1,a._eSpine.setCompleteListener(function(t){var i=t.animation?t.animation.name:"";1==e||101==e?"appear"==i&&a._eSpine.setAnimation(0,"loop",!0):100!=e&&101!=e&&a.node.destroy(),"disappear"==i&&a.node.destroy()})})}},initEffect:function(t){var e=t;null!=e&&(this.node.zIndex=100,this.initBodySpine(e,2))},initEffectByAttack:function(t){var e=t;null!=e&&(this.node.zIndex=100,this.initBodySpine(e,0))},initXuanyun:function(){this.node.getChildByName("body").active=!1,this._xyEffect.active=!0},initHX:function(){this.initEffectByAttack("textrue/effect/eff_jiaxue")},initjias:function(){this.node.zIndex=100,this.initBodySpine("textrue/effect/buff_jiasu",0)},initDu:function(){this.node.zIndex=100,this.initBodySpine("textrue/effect/buff_du",100)},initBing:function(){this.node.zIndex=100,this.initBodySpine("textrue/effect/buff_bing",100)},initzdBing:function(){this.node.zIndex=100,this.initBodySpine("textrue/skilleffect/buff_skill8",100)},setPoBing:function(){this._eSpine.setAnimation(0,"disappear",!0)},initGj:function(){this.node.zIndex=100,this.initBodySpine("textrue/effect/buff_gongji",1)},initTowerWD:function(){var t=this.node.getChildByName("body");t.scaleX=1.1,t.scaleY=1.3,this.node.zIndex=100,this.initBodySpine("textrue/effect/buff_wudi",101)},initFY:function(t){var e=this;this.node.zIndex=100,this.initBodySpine("textrue/effect/buff_fangyu",1),null!=t&&this.scheduleOnce(function(){e.node.destroy()},t)},initHD:function(t,e){this._curHP=t,this._maxHP=t,1==e&&(this._hdEffect.scale=1.5),this.node.getChildByName("body").active=!1,this._hdEffect.active=!0;var a=this._hdEffect.getComponent(sp.Skeleton);a.setAnimation(0,"appear",!1),a.setCompleteListener(function(t){"appear"==(t.animation?t.animation.name:"")&&a.setAnimation(0,"loop",!0)}),this._hdEffect.getChildByName("hp").getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP},setHDhp:function(t){if(this._curHP-=t,this._curHP<0&&(this._curHP=0),this._hdEffect.getChildByName("hp").getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,0==this._curHP){var e=this.node.parent.getComponent("general");null==e&&(e=this.node.parent.getComponent("boss")),null==e&&(e=this.node.parent.getComponent("enemy")),null==e&&(e=this.node.parent.getComponent("tower")),null!=e&&(e._hpPro.active=!0,e._hdNode=null),this.node.destroy()}},initSkillEffect:function(t){var e=this,a=g_heroRes[0].spinePath,i="skill"+t;cc.vv.configMgr.loadSpine(a,function(t){e._eSpine.skeletonData=t,e._eSpine.loop=!0,e._eSpine.animation=i,e._eSpine.timeScale=1,e._eSpine.setCompleteListener(function(t){t.animation&&t.animation.name,e.node.destroy()})})},initBoom:function(t,e){var a=this,i=t;cc.vv.configMgr.loadSpine(i,function(t){a._eSpine.skeletonData=t,a._eSpine.loop=!0,a._eSpine.animation=e,a._eSpine.timeScale=1,a._eSpine.setCompleteListener(function(t){t.animation&&t.animation.name,a.node.destroy()})})},initBuffEffect:function(t,e){var a=this,i=t;null!=i&&(this.node.zIndex=100,this.initBodySpine(i,0),e>0&&Util.delayFun(this.node,function(){a.node.destroy()},e))},initResumEffect:function(){var t=this;this.node.zIndex=100,g_setSpineAni("animation",this._fhEffect,function(){t.node.destroy()})},initMonstResumEffect:function(){var t=this;this.node.zIndex=100,this._fhEffect.active=!0,this._fhEffect.getComponent(sp.Skeleton).setSkin("t2"),g_setSpineAni("animation",this._fhEffect,function(){t.node.destroy()})},showDangerEffect:function(){var t=this.node.getChildByName("danger");t.active=!0;var e=t.getComponent(sp.Skeleton);e.setAnimation(0,"animation",!1),e.setCompleteListener(function(t){"animation"==(t.animation?t.animation.name:"")&&e.setAnimation(0,"animation2",!0)})},initSkillBuff:function(t,e){var a=this;this._skillBuffData=t,this._parentNode=e,this._eSpine.node.scale=1;var i=g_getEffect(t.resID,g_effects);cc.vv.configMgr.loadSpine(i,function(e){a._eSpine.skeletonData=e,a._eSpine.loop=!0,a._eSpine.animation="animation",a._eSpine.timeScale=1,a.setBuffAttack(),a.schedule(a.setBuffAttack,t.shTime)})},initBoomEffect:function(){var t=this;this._eSpine.node.scale=1,cc.vv.configMgr.loadSpine("textrue/geffect/bullet_0003_boom",function(e){t._eSpine.skeletonData=e,t._eSpine.loop=!0,t._eSpine.animation="animation",t._eSpine.timeScale=1,t._eSpine.setCompleteListener(function(e){e.animation&&e.animation.name,t.node.destroy()})}),this.zIndex=1},initBProp:function(t){var e=this,a="jingying";t>1e3&&(a="boss");var i=this.node.getChildByName("baoPropAni");i.active=!0;var r=i.getComponent(sp.Skeleton);r.setSkin(a),r.setAnimation(0,"animation",!1),r.setCompleteListener(function(t){t.animation&&t.animation.name,e.node.destroy()})},setBuffAttack:function(){if(null!=this._skillBuffData&&null!=this._parentNode){var t=this._parentNode.getComponent("hero");null!=t&&g_gameContol.checkMonstAttack(0,this._skillBuffData.skillID,1),null!=(t=this._parentNode.getComponent("friend"))&&g_gameContol.checkEnemyAttack(0,this._parentNode,this._skillBuffData.skillID,1),null!=(t=this._parentNode.getComponent("enemy"))&&g_gameContol.enemyAttack(0,this._parentNode,this._skillBuffData.skillID,1),null!=(t=this._parentNode.getComponent("rival"))&&g_gameContol.enemyAttack(0,this._parentNode,this._skillBuffData.skillID,1)}},update:function(){}}),cc._RF.pop()},{}],ehero:[function(t,e){"use strict";cc._RF.push(e,"67539BY8mJOYY8hFgZDJdvT","ehero"),cc.Class({extends:cc.Component,properties:{_index:0,_playID:0,_heroState:0,_curHero:null,_heroSxData:null,_heroInitData:null,_buffArr:null,_maxHP:0,_curHP:0,_curAni:null,_isMove:!1,_target:null,_skillIndex:0,_skillID:0,_skillCDMap:null,_isAttack:!1,_isCanAttack:!0,_curHead:null,_hdNode:null,_wqData:null,_linkTime:0,_linkEffect:null,_cfTime:0,_caofEffect:null,_xyEffect:null,_xyTime:0,_isJX:!1,_jxTime:0,_jxEffect:null,_jsEffect:null,_jsTime:0,_bingEffect:null,_zbingEffect:null,_count:0},getGoodData:function(t){for(var e=g_DataMgr.pinfo.knapsack,a=0;a<e.length;++a)if(t==e[a].gID)return e[a]},onLoad:function(){this._zyBuffData={},this._buffArr=[],this._skillCDMap={},this._hpPro=this.node.getChildByName("hp"),this._spine=this.node.getChildByName("body").getComponent(sp.Skeleton),this.zbPos=["pf","wuqi","xianglian","yanjing","pifeng"]},updataSxByLv:function(t){var e=t-1<0?0:t-1;this._heroSxData.HP=this._curHero.HP[0]+this._curHero.HP[1]*e,this._heroSxData.attack=this._curHero.attack[0]+this._curHero.attack[1]*e,this._heroSxData.crit=this._curHero.crit[0]+this._curHero.crit[1]*e,this._heroSxData.hurtSub=this._curHero.hurtSub[0]+this._curHero.hurtSub[1]*e,this._heroSxData.intervalTime=this._curHero.intervalTime[0]+this._curHero.intervalTime[1]*e,this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._speed=this._heroSxData.moveSpeed},initEHero:function(t,e){var a,i=this;this._buffArr=[],this._skillCDMap={},this.starPos=this.node.position,this._curHero=g_getDataInArr(t,cc.vv.gameMgr.enemyArr),this._ID=this._curHero.skinID,this._heroSxData=g_getDataInArr(t,cc.vv.gameMgr.enemyArr),this.updataSxByLv(e),null!=(a=g_getEffect(this._ID,g_heroRes))&&cc.vv.configMgr.loadSpine(a,function(t){i._spine.skeletonData=t,i._spine.loop=!0,i._spine.animation="idle",i._spine.timeScale=1,i._spine.setSkin("default"),i.onAniCompleted(),i.updatazb()})},updatazb:function(){for(var t=this._curHero.equip,e=0;e<t.length;++e){var a=g_getDataInArr(t[e],cc.vv.gameMgr.equipList);null!=a.skill&&(this._curHero.skill=this._curHero.skill.concat(a.skill)),cc.vv.gameMgr.changePartialCloth(this._spine,a.location,a.skin,a.location),"wuqi"===a.location&&(this._curHero.attackDistance=a.distance,this._wqData=a)}if(this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._speed=this._heroSxData.moveSpeed,0!=cc.vv.gameMgr.gameModel&&(this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP),this._isMove=!0,this._target=g_gameContol._myTower,this.showHead(),null!=this._wqData&&(102==this._wqData.ID||105==this._wqData.ID||109==this._wqData.ID)){var i=this._wqData.skill[0],r=g_getDataInArr(i,cc.vv.gameMgr.skillList).buffid;this._buffArr.push(r[1]),this.getZYBuffData()}},showHead:function(){this._curHead=cc.instantiate(g_gameContol.tbiaoPre),g_gameContol.proNode.addChild(this._curHead),this._curHead.getChildByName("red").active=!0,this._curHead.x=200,this._curHead.getChildByName("head").scaleX=-1;var t=g_getAtlas(g_skinAtlas.head),e="shero_"+this._ID;this._curHead.getChildByName("head").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(e)},playSoundEffect:function(t){var e=t.split("_");"sound"==e[0]&&cc.vv.gameMgr.playEffect(g_audios[e[e.length-1]])},createBullet:function(){var t=this,e=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(e,function(e){var a=cc.instantiate(e);if(null!=a){t.node.parent.addChild(a);var i=a.getComponent("bullet");null!=i&&i.initGeneralBullet(t.node,t._skillID,1)}})},onAniCompleted:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){if(console.log("-------eheroevent-----",a),"hit"==a.data.name&&(console.log("-------hit----------",a.data.name),null!=t._target&&null!=t._target.parent)){var i=t._target.getComponent("tower");if(null==i&&(i=t._target.getComponent("general")),null==i&&(i=t._target.getComponent("hero")),null!=i)if(2004==t._skillID||2005==t._skillID||2003==t._skillID||2006==t._skillID||2008==t._skillID)g_gameContol.checkAttack(t.node,t._skillID);else{var r=0;2010==t._skillID&&(r=1),i.byAttack(t.node,t._skillID,r)}}"shoot"==a.data.name&&(console.log("-------shoot----------",a.data.name),t.createBullet()),"hit_fly"==a.data.name&&console.log("-------hit_fly----------",a.data.name),"hit_fall"==a.data.name&&console.log("-------hit_fall----------",a.data.name),"hit_over"==a.data.name&&console.log("-------hit_over----------",a.data.name),t.playSoundEffect(a.data.name)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";console.log("-------eheroAni--------",a);var i=null!=t._wqData?t._wqData.skillAni:"skill";"attack"!=a&&"shoot"!=a&&a!=i||(t._isAttack=!1,t.setChangeAnimate("idle",!0)),"die"==a&&(t.node.parent=null,g_gameContol.checkMonster(),g_gameContol._curEHero=null,g_gameContol.setEHero(),t._curHead.destroy(),t.node.destroy())})},setChangeAnimate:function(t,e){this._curAni!=t&&(this._curAni=t,this._spine.setAnimation(0,t,e))},getZYBuffData:function(){for(var t=this._buffArr,e=[],a=0;a<t.length;++a)if(0!=t[a]){var i=g_getDataInArr(t[a],cc.vv.gameMgr.buffList);e.push(i)}this._zyBuffData.attackSpeed=0,this._zyBuffData.moveSpeed=0;for(var r=0;r<e.length;++r)"attackspeed"===e[r].type&&(this._zyBuffData.attackSpeed+=this._heroSxData.intervalTime*e[r].value/100),"sattackspeed"===e[r].type&&(this._zyBuffData.attackSpeed-=this._heroSxData.intervalTime*e[r].value/100),"movespeed"===e[r].type&&(this._zyBuffData.moveSpeed+=this._heroSxData.moveSpeed*e[r].value/100),"smovespeed"===e[r].type&&(this._zyBuffData.moveSpeed-=this._heroSxData.moveSpeed*e[r].value/100);this._heroSxData._buffArr=this._buffArr},setBuffCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.buffList);this.scheduleOnce(function(){for(var a=0;a<e._buffArr.length;++a)if(e._buffArr[a]==t){e._buffArr.splice(a,1);break}e.getZYBuffData()},a.time)},setSkillCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.skillList);if("buff"==a.effect_Type){for(var i=a.buffid,r=0;r<i.length;++r)this.setBuffCD(i[r]),this._buffArr.push(i[r]);this.getZYBuffData()}var n=a.CD;this.scheduleOnce(function(){e._skillCDMap[""+t]=!0},n)},setAttack:function(t){var e=this;if(this._isCanAttack&&!this._isAttack&&"behit"!==this._curAni){this._isAttack=!0,this._skillIndex=t,this._skillID=this._curHero.skill[this._skillIndex],this._skillCDMap[""+this._skillID]=!1,6!=this._skillID&&this.setSkillCD(this._skillID);var a=null;0==t?(a="attack",null!=this._wqData&&103==this._wqData.ID&&(a="shoot")):(a=this._wqData.skillAni,console.log("=========\u6280\u80fd\u91ca\u653e==========",this._skillID)),this.setChangeAnimate(a,!1),this._isCanAttack=!1,this._zyBuffData.attackSpeed=null==this._zyBuffData.attackSpeed?0:this._zyBuffData.attackSpeed;var i=this._heroSxData.intervalTime-this._zyBuffData.attackSpeed;i=i<0?0:i,this.scheduleOnce(function(){e._isCanAttack=!0},i),2003!=this._skillID&&2004!=this._skillID&&2005!=this._skillID||this.setSkill(this._skillID)}},setSkill:function(t){var e=g_getDataInArr(this._skillID,cc.vv.gameMgr.skillList);g_getDataInArr(e.buffid[0],cc.vv.gameMgr.buffList),2003!=t&&2004!=t&&2005!=t||"dfbuff"==e.effect_Type&&g_gameContol.checkAddBuff(this.node,t,1)},setAddHP:function(t){if(0!=this._curHP){var e=G_createPrefab(g_loadPrefab.effect);null!=e&&(this.node.addChild(e),e.getComponent("effect").initHX()),this._curHP+=t,this._curHP>=this._maxHP&&(this._curHP=this._maxHP),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.showAttackZi(t,!1,5)}},byAttack:function(t,e,a){var i=this,r=null,n=t.getComponent("bullet");if(10==a?r=(n=t)._sxData:null!=n?r=n._heroSxData:(null==(n=t.getComponent("general"))&&(n=t.getComponent("hero")),null!=n&&(r=n._heroSxData)),null!=n){var s=null;if(10==a)s=e;else{if(0==n._curHP)return;if(this.setSkillBuff(e),2003==e||2004==e||2005==e)return;s=g_getDataInArr(e,cc.vv.gameMgr.skillList)}if(null==s)return;10==a&&(4==s.ID&&1==this.node._stopDJ&&(this.node._stopDJ=!1,this.showLDEffect(s,1)),8==s.ID&&this.setSkillBuff(s.ID,1)),18==s.ID&&this.showLDEffect(s),this._heroSxData._buffArr=this._buffArr;var o=cc.vv.gameMgr.getAttackNum(r,this._heroSxData,s);if(0!=o.xxNum&&null!=n._curHP){var l=Math.round(o.xxNum*o.rattack/100);n.setAddHP(l)}if(40==s.ID&&null!=n._curHP&&0!=o.rattack){var g=g_getDataInArr(e,g_DataMgr.generalSaveArr),c=s.buffid[g.skillLv][0],h=g_getDataInArr(c,cc.vv.gameMgr.buffList),_=Math.round(h.value*o.rattack/100);n.setAddHP(_)}if(0!=o.jsAttack){this.node._isjs=!0;var u=n._ID;g_gameContol.checkJians(this.node,u,o.jsAttack,1)}var d=o.rattack;if(0==d)return void n.showMissEffect();this.showHitEffect(s.hitEffectID),0!=d&&this.showAttackZi(d,o.bj,s.hitPZType),null!=this._hdNode?this._hdNode.getComponent("effect").setHDhp(d):this._curHP-=d,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,2007!=e&&2008!=e&&2009!=e||this.showXY(e)}if(1==a){if(0==this._curHP)return;this.node.stopAllActions();var f=t.position;null!=t._firstPos&&(f=t._firstPos);var p=f.y>=this.node.y?1:-1,m=100,v=Math.abs(f.y-this.node.y)*m/Math.abs(f.x-this.node.x),D=this.node.y-v*p;1009==e&&(m=50,D=this.node.y),D>200&&(D=200),D<-200&&(D=-200);var C=this.node.x- -1*m;C<-280&&(C=-280);var A=cc.v2(C,D);cc.tween(this.node).to(.5,{position:A}).call(function(){i.showXY(e),i._isMove=!0}).start()}},setJiansAttack:function(t,e){if(0!=this._curHP){var a=t;1!=e&&(this.showHitEffect(1),0!=a&&this.showAttackZi(a,!1)),this._curHP-=a,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP}},showLDEffect:function(t,e){var a=g_getEffect(t.bSpineID,g_heroEffectRes),i=G_createPrefab(g_loadPrefab.effect);null!=i&&(this.node.addChild(i),i.position=cc.v2(0,0),i.getComponent("effect").initEffect(a),this.showXY(t.ID,e))},showXY:function(t,e){if(0!=this._curHP&&(2==t||6==t||18==t||35==t||2007==t||2008==t||2009==t||2010==t||1==e)){var a=g_getDataInArr(t,cc.vv.gameMgr.skillList);1==e&&(a=g_getDataInArr(t,cc.vv.gameMgr.zSkillList));var i=a.buffid[0];if(2==t||6==t||18==t||35==t){var r=g_getDataInArr(t,g_DataMgr.generalSaveArr);i=a.buffid[r.skillLv][0]}var n=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._isAttack=!1,this.setChangeAnimate("idle",!0),null==this._xyEffect&&(this._xyEffect=G_createPrefab(g_loadPrefab.effect),null!=this._xyEffect&&(this.node.addChild(this._xyEffect),this._xyEffect.position=cc.v2(0,this._hpPro.y-10),this._xyEffect.getComponent("effect").initXuanyun())),this._xyTime+=60*n.time}},setJiaoxie:function(t){0!=this._curHP&&(this._isJX=!0,this._jxTime+=t,null==this._jxEffect&&(this._jxEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._jxEffect),this._jxEffect.position=cc.v2(0,110),this._jxEffect.getComponent("effect").initEffectByType("textrue/effect/buff_jiaoxie",1)))},setChaof:function(t,e){0!=this._curHP&&(this._cfTime+=t,this._target=e,null==this._caofEffect&&(this._caofEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._caofEffect),this._caofEffect.position=cc.v2(0,110),this._caofEffect.getComponent("effect").initEffectByType("textrue/effect/buff_beichaofeng",1)))},setLink:function(t){0!=this._curHP&&(this._linkTime+=t,null==this._linkEffect&&(this._linkEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._linkEffect),this._linkEffect.getComponent("effect").initEffectByType("textrue/effect/buff_037",1)))},setSkillBuff:function(t,e){var a=this;if(0!=this._curHP){var i=g_getDataInArr(t,cc.vv.gameMgr.skillList);if(1==e&&(i=g_getDataInArr(t,cc.vv.gameMgr.zSkillList)),16==t||38==t||2004==t||2003==t||2005==t||1008==t||1018==t||1==e){if(null!=this._jsEffect&&16==t)return;var r=i.buffid[0];if(16==t||38==t){var n=g_getDataInArr(t,g_DataMgr.generalSaveArr);if(r=i.buffid[n.skillLv][0],38==t&&-1!=this._buffArr.findIndex(function(t){return t==r}))return}if(this._buffArr.push(r),this.setBuffCD(r),1008==t||2003==t||2005==t)return;var s=g_getDataInArr(r,cc.vv.gameMgr.buffList);if(1018==t)return;if(1==e&&8==t)return null==this._zbingEffect?(this._zbingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._zbingEffect&&(this.node.addChild(this._zbingEffect),this._zbingEffect.getComponent("effect").initzdBing(),this._zbingEffect._buffCount=1)):this._zbingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._zbingEffect&&(a._zbingEffect._buffCount--,0==a._zbingEffect._buffCount&&(a._zbingEffect.getComponent("effect").setPoBing(),a._zbingEffect=null))},s.time[this.node._dsTimeLv]);if(16==t){var o=this.node.getChildByName("body");return o.color=cc.Color.fromHEX(cc.color(0,0,0),"#3A7DFE"),null==this._bingEffect?(this._bingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._bingEffect&&(this.node.addChild(this._bingEffect),this._bingEffect.getComponent("effect").initBing(),this._bingEffect._buffCount=1)):this._bingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._bingEffect&&(a._bingEffect._buffCount--,0==a._bingEffect._buffCount&&(o.color=cc.Color.fromHEX(cc.color(0,0,0),"#FFFFFF"),a._bingEffect.destroy(),a._bingEffect=null))},s.time)}}if(23==t){for(var l=g_getDataInArr(t,g_DataMgr.generalSaveArr),g=i.buffid[l.skillLv],c=0;c<g.length;++c){var h=g[c];this._buffArr.push(h),this.setBuffCD(h)}var _=g_getDataInArr(g[0],cc.vv.gameMgr.buffList),u=G_createPrefab(g_loadPrefab.effect);if(null!=u){var d=g_getEffect(_.effect,g_heroEffectRes);if(null==d)return;this.node.addChild(u),u.y=200,u.getComponent("effect").initBuffEffect(d,_.time)}}}},showMissEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.position=cc.v2(0,50),t.getComponent("effect").initEffectByAttack("textrue/effect/eff_miss"))},showHitEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.addChild(a),a.position=cc.v2(0,50),a.getComponent("effect").initEffectByAttack(e))},showAttackZi:function(t,e,a){var i=this;cc.vv.configMgr.loadPrefab(g_prefabPath.piaozi,function(r){var n=cc.instantiate(r);i.node.addChild(n),n.x=0,n.y=50;var s=0;e?s=3:null!=a&&(s=a),n.getComponent("piaozi").showNumBytype(t,s,1)})},changeTarget:function(){null!=this._target&&null!=this._target.parent||(this._target=g_gameContol._myTower),null!=this._target.getComponent("tower")&&0!=g_gameContol._generalArr.length&&(this._target=g_gameContol.findMinlen(g_gameContol._generalArr,this.node,1))},checkAttack:function(){if(!this._isJX&&!this._isMove&&null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(null==this._target.parent||null==this._target)return this.changeTarget(),void(null!=this._target&&(this._isMove=!0));if(null==this._target.getComponent("tower")||0!=this._target.getComponent("tower")._curHP){for(var t=this._curHero.skill,e=[],a=0;a<t.length;++a)-1!=t[a]&&(e.push(a),null==this._skillCDMap[""+t[a]]&&(this._skillCDMap[""+t[a]]=!0));for(var i=[],r=g_checkLen(this.node.position,this._target.position),n=0;n<e.length;++n){var s=e[n];if(2002!=t[s]&&2005!=t[s]&&2009!=t[s]&&(14!=t[s]||null==this._hdNode)){var o=g_getDataInArr(t[s],cc.vv.gameMgr.skillList);null!=this._target.getComponent("tower")&&null!=o&&"all"!=o.target_Type||0!=s&&this._skillCDMap[""+t[s]]&&r<=o.distance&&i.push(n)}}if(0==i.length)return r<=this._curHero.attackDistance&&-1!=t[0]?(this.setAttack(0),1):(this._isMove=!0,3);var l=e[i[g_getRandom(0,i.length-1)]];return this.setAttack(l),1}}},setMove:function(){if(this._isMove&&!this._isAttack)if(null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(this.changeTarget(),null!=this._target){this.setChangeAnimate("run",!0);var t=this._target.x>=this.node.x?1:-1,e=this._target.y>=this.node.y?1:-1;this._zyBuffData.moveSpeed=null==this._zyBuffData.moveSpeed?0:this._zyBuffData.moveSpeed;var a=this._speed+this._zyBuffData.moveSpeed,i=Math.abs(this._target.y-this.node.y)*a/Math.abs(this._target.x-this.node.x);this.node.x+=a*t,this.node.y+=i*e,this._curHead.x=200-400*Math.abs(this.node.x-1e3)/1280,g_checkLen(this.node.position,this._target.position)<=this._curHero.attackDistance&&(this.setChangeAnimate("idle",!0),this._isMove=!1)}}else"run"===this._curAni&&this.setChangeAnimate("idle",!0)},update:function(){0==this._curHP||g_gameContol._isOver||g_gameContol._isGamePause?(g_gameContol._isOver||g_gameContol._isGamePause)&&"run"===this._curAni&&this.setChangeAnimate("idle",!0):(this.showBuffTime(),this.setMove(),this.checkAttack())},showBuffTime:function(){this._count++,60==this._count&&(this._count=0,this._jsTime>0&&(this._jsTime--,0==this._jsTime&&(this._jsEffect.destroy(),this._jsEffect=null)),this._jxTime>0&&(this._jxTime--,0==this._jxTime&&(this._jxEffect.destroy(),this._jxEffect=null,this._isJX=!1)),this._cfTime>0&&(this._cfTime--,0==this._cfTime&&(this._caofEffect.destroy(),this._caofEffect=null,this.changeTarget())),this._linkTime>0&&(this._linkTime--,0==this._linkTime&&(this._linkEffect.destroy(),this._linkEffect=null))),this._xyTime>0&&(this._xyTime--,0==this._xyTime&&(this._xyEffect.destroy(),this._xyEffect=null))}}),cc._RF.pop()},{}],encryptjs:[function(t,e,a){"use strict";cc._RF.push(e,"7959aJOxrVMWoKI9egQLQOK","encryptjs");var i=t,r=e,n=a;(function(t){!function(t,e){void 0!==n&&void 0!==r?r.exports=e():"function"==typeof define&&"object"==typeof define.amd?define(e):"function"==typeof define&&"object"==typeof define.petal?define("encryptjs",[],e):this.encryptjs=e()}(0,function(e){if((e={version:"1.0.0"}).init=function(){console.log("--------------------Applying Encryption Algorithm------------------ ")},void 0!==r&&r.exports)var a=i("algo");return e.encrypt=function(t,e,i){if(128!=i&&192!=i&&256!=i)return"";t=String(t).utf8Encode(),e=String(e).utf8Encode();for(var r=i/8,n=new Array(r),s=0;s<r;s++)n[s]=isNaN(e.charCodeAt(s))?0:e.charCodeAt(s);var o=a.cipher(n,a.keyExpansion(n));o=o.concat(o.slice(0,r-16));var l=new Array(16),g=(new Date).getTime(),c=g%1e3,h=Math.floor(g/1e3),_=Math.floor(65535*Math.random());for(s=0;s<2;s++)l[s]=c>>>8*s&255;for(s=0;s<2;s++)l[s+2]=_>>>8*s&255;for(s=0;s<4;s++)l[s+4]=h>>>8*s&255;var u="";for(s=0;s<8;s++)u+=String.fromCharCode(l[s]);for(var d=a.keyExpansion(o),f=Math.ceil(t.length/16),p=new Array(f),m=0;m<f;m++){for(var v=0;v<4;v++)l[15-v]=m>>>8*v&255;for(v=0;v<4;v++)l[15-v-4]=m/4294967296>>>8*v;var D=a.cipher(l,d),C=m<f-1?16:(t.length-1)%16+1,A=new Array(C);for(s=0;s<C;s++)A[s]=D[s]^t.charCodeAt(16*m+s),A[s]=String.fromCharCode(A[s]);p[m]=A.join("")}return(u+p.join("")).base64Encode()},e.decrypt=function(t,e,i){if(128!=i&&192!=i&&256!=i)return"";t=String(t).base64Decode(),e=String(e).utf8Encode();for(var r=i/8,n=new Array(r),s=0;s<r;s++)n[s]=isNaN(e.charCodeAt(s))?0:e.charCodeAt(s);var o=a.cipher(n,a.keyExpansion(n));o=o.concat(o.slice(0,r-16));var l=new Array(8),g=t.slice(0,8);for(s=0;s<8;s++)l[s]=g.charCodeAt(s);for(var c=a.keyExpansion(o),h=Math.ceil((t.length-8)/16),_=new Array(h),u=0;u<h;u++)_[u]=t.slice(8+16*u,24+16*u);t=_;var d=new Array(t.length);for(u=0;u<h;u++){for(var f=0;f<4;f++)l[15-f]=u>>>8*f&255;for(f=0;f<4;f++)l[15-f-4]=(u+1)/4294967296-1>>>8*f&255;var p=a.cipher(l,c),m=new Array(t[u].length);for(s=0;s<t[u].length;s++)m[s]=p[s]^t[u].charCodeAt(s),m[s]=String.fromCharCode(m[s]);d[u]=m.join("")}return d.join("").utf8Decode()},e.getTextEncryptAndSaveToTextFile=function(){throw Error("Command line not supported on this platform")},e.getTextEncryptAndSaveToJSONFile=function(){throw Error("Command line not supported on this platform")},e.writeCipherTextToJSON=function(t,e,a,i){null==i&&(i=a,a={});var r="object"==typeof a&&null!==a&&"spaces"in a?a.spaces:this.spaces,n="";try{n=JSON.stringify(e,a?a.replacer:null,r)+"\n"}catch(t){if(i)return i(t,null)}fs.writeFile(t,n,a,i)},void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(i){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==t)return new t(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==t)return new t(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),e.init(),e})}).call(void 0,i("2").Buffer),cc._RF.pop()},{}],enemy:[function(t,e){"use strict";cc._RF.push(e,"a5c05U+5dxISJBayUPYb1ol","enemy"),cc.Class({extends:cc.Component,properties:{_index:0,_playID:0,_heroState:0,_generalData:null,_curHero:null,_heroSxData:null,_heroInitData:null,_buffArr:null,_maxHP:0,_curHP:0,_curAni:null,_isMove:!1,_target:null,_skillIndex:0,_skillID:0,_skillCDMap:null,_isAttack:!1,_isCanAttack:!0,_curHead:null,_hdNode:null,_gjEffect:null,_jgsEffect:null,_fyEffect:null,_isBqu:0,_linkTime:0,_linkEffect:null,_cfTime:0,_caofEffect:null,_xyEffect:null,_xyTime:0,_isJX:!1,_jxTime:0,_jxEffect:null,_jsEffect:null,_jsTime:0,_bingEffect:null,_zbingEffect:null,_count:0,_isMoveY:!1,_hxTime:null,_hxBuff:null},onLoad:function(){this._zyBuffData={},this._buffArr=[],this._skillCDMap={},this._hpPro=this.node.getChildByName("hp"),this._spine=this.node.getChildByName("body").getComponent(sp.Skeleton)},setFSSx:function(t){var e=this;this._target=t,this._curHero.skill[1]=-1,this._heroSxData.HP=.35*this._heroSxData.HP,this._heroSxData.attack=.35*this._heroSxData.attack,this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.scheduleOnce(function(){e._curHP=0,e._hpPro.active=!1,e.setChangeAnimate("die",!1)},10)},showYjEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.getComponent("effect").initEffectByAttack("textrue/skilleffect/zhaohuanyuanjun"))},updataSxByLv:function(t){var e=t-1<0?0:t-1;this._heroSxData.HP=this._curHero.HP[0]+this._curHero.HP[1]*e+g_gameContol._levelData.AddHP,this._heroSxData.attack=this._curHero.attack[0]+this._curHero.attack[1]*e,this._heroSxData.crit=this._curHero.crit[0]+this._curHero.crit[1]*e,this._heroSxData.hurtSub=this._curHero.hurtSub[0]+this._curHero.hurtSub[1]*e,this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._speed=this._heroSxData.moveSpeed,0!=cc.vv.gameMgr.gameModel&&(this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP),this._heroInitData=JSON.parse(JSON.stringify(this._heroSxData))},initEnemy:function(t,e,a){var i,r=this;this._buffArr=[],this._skillCDMap={},this.starPos=this.node.position,this._curHero=g_getDataInArr(t,cc.vv.gameMgr.enemyArr),this._ID=this._curHero.skinID,this._curSaveHero=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),console.log("======initEnemy=======",this._curHero);var n=e;if(this._heroSxData=g_getDataInArr(t,cc.vv.gameMgr.enemyArr),this.updataSxByLv(n),1==a&&this.showYjEffect(),null!=(i=g_getEffect(this._ID,g_heroRes))){if(cc.vv.configMgr.loadSpine(i,function(t){r._spine.skeletonData=t,r._spine.loop=!0,r._spine.animation="idle",r._spine.timeScale=1,r._spine.setSkin("default"),r.onAniCompleted()}),39==this._ID&&(this._hxTime=0,this._skillCDMap[39]=!0),4==this._ID||24==this._ID||36==this._ID){var s=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList).buffid[this._curSaveHero.skillLv];if(24==this._ID)this._buffArr.push(s[0]);else for(var o=0;o<s.length;++o)this._buffArr.push(s[o]);this.getZYBuffData()}this._isMove=!0,this._target=g_gameContol._myTower,this.showHead()}},showHead:function(){this._curHead=cc.instantiate(g_gameContol.tbiaoPre),g_gameContol.proNode.addChild(this._curHead),this._curHead.getChildByName("red").active=!0,this._curHead.x=200,this._curHead.getChildByName("head").scaleX=-1;var t=g_getAtlas(g_skinAtlas.head),e="shead_"+this._ID;this._curHead.getChildByName("head").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(e)},playSoundEffect:function(t){var e=t.split("_");"sound"==e[0]&&cc.vv.gameMgr.playEffect(g_audios[e[e.length-1]])},createBullet:function(){var t=this,e=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(e,function(e){var a=cc.instantiate(e);if(null!=a){t.node.parent.addChild(a);var i=a.getComponent("bullet");null!=i&&i.initGeneralBullet(t.node,t._skillID,1)}})},onAniCompleted:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){if(console.log("-------enemyevent-----",a),"hit"==a.data.name&&(console.log("-------hit----------",a.data.name),null!=t._target&&null!=t._target.parent)){var i=t._target.getComponent("tower");if(null==i&&(i=t._target.getComponent("general")),null==i&&(i=t._target.getComponent("hero")),null!=i)if(6==t._skillID||7==t._skillID||9==t._skillID||10==t._skillID||22==t._skillID||23==t._skillID||25==t._skillID||27==t._skillID||33==t._skillID||35==t._skillID||37==t._skillID||41==t._skillID)g_gameContol.checkAttack(t.node,t._skillID);else{var r=0;2==t._skillID&&(r=1),i.byAttack(t.node,t._skillID,r)}}"shoot"==a.data.name&&(console.log("-------shoot----------",a.data.name),t.createBullet()),"hit_fly"==a.data.name&&console.log("-------hit_fly----------",a.data.name),"hit_fall"==a.data.name&&console.log("-------hit_fall----------",a.data.name),"hit_over"==a.data.name&&console.log("-------hit_over----------",a.data.name),t.playSoundEffect(a.data.name)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";console.log("------enemy--------",a),"attack"!=a&&"skill"!=a||(8==t._skillID&&t.showFS(),t._isAttack=!1,t.setChangeAnimate("idle",!0),2==t._skillID&&(t._isMove=!0)),"die"==a&&(t.node.parent=null,g_gameContol.checkMonster(),t._curHead.destroy(),t.node.destroy())})},showFS:function(){var t=G_createPrefab(g_loadPrefab.enemy);null!=t&&(g_gameContol.bodyNode.addChild(t),t.position=cc.v2(this.node.x+50,this.node.y-50),t.getComponent("enemy").initEnemy(this._ID,1),t.getComponent("enemy").setFSSx(this._target),g_gameContol._monsterArr.push(t))},setChangeAnimate:function(t,e){this._curAni!=t&&(this._curAni=t,this._spine.setAnimation(0,t,e))},getZYBuffData:function(){for(var t=this._buffArr,e=[],a=0;a<t.length;++a)if(0!=t[a]){var i=g_getDataInArr(t[a],cc.vv.gameMgr.buffList);e.push(i)}this._zyBuffData.attackSpeed=0,this._zyBuffData.moveSpeed=0;for(var r=0;r<e.length;++r)"attackspeed"===e[r].type&&(this._zyBuffData.attackSpeed+=this._heroSxData.intervalTime*e[r].value/100),"sattackspeed"===e[r].type&&(this._zyBuffData.attackSpeed-=this._heroSxData.intervalTime*e[r].value/100),"movespeed"===e[r].type&&(this._zyBuffData.moveSpeed+=this._heroSxData.moveSpeed*e[r].value/100),"smovespeed"===e[r].type&&(this._zyBuffData.moveSpeed-=this._heroSxData.moveSpeed*e[r].value/100);this._heroSxData._buffArr=this._buffArr},setBuffCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.buffList);"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||(null==this._gjEffect&&(this._gjEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._gjEffect),this._gjEffect._buffCount=0,this._gjEffect.getComponent("effect").initGj()),null!=this._gjEffect&&this._gjEffect._buffCount++),"defence"===a.type&&(null==this._fyEffect&&(this._fyEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._fyEffect),this._fyEffect._buffCount=0,this._fyEffect.getComponent("effect").initFY()),null!=this._fyEffect&&this._fyEffect._buffCount++),this.scheduleOnce(function(){for(var i=0;i<e._buffArr.length;++i)if(e._buffArr[i]==t){e._buffArr.splice(i,1);break}e.getZYBuffData(),"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||null!=e._gjEffect&&(e._gjEffect._buffCount--,0==e._gjEffect._buffCount&&(e._gjEffect.destroy(),e._gjEffect=null)),"defence"===a.type&&null!=e._fyEffect&&(e._fyEffect._buffCount--,0==e._fyEffect._buffCount&&(e._fyEffect.destroy(),e._fyEffect=null))},a.time)},setSkillCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.skillList);if("buff"==a.effect_Type){for(var i=a.buffid[this._curSaveHero.skillLv],r=0;r<i.length;++r)this.setBuffCD(i[r]),this._buffArr.push(i[r]);this.getZYBuffData()}a.effect_Type;var n=a.CD;this.scheduleOnce(function(){e._skillCDMap[""+t]=!0},n)},setAttack:function(t){var e=this;if(this._isCanAttack&&!this._isAttack&&"behit"!==this._curAni){this._isAttack=!0,this._skillIndex=t,this._skillID=this._curHero.skill[this._skillIndex],this._skillCDMap[""+this._skillID]=!1,6!=this._skillID&&this.setSkillCD(this._skillID);var a=null;0==t?a="attack":(a="skill",console.log("=========\u6280\u80fd\u91ca\u653e==========",this._skillID)),this.setChangeAnimate(a,!1),this._skillID>=1&&this._skillID<=500&&g_gameContol.showGSkillAni(this._ID,this._skillID),this._isCanAttack=!1,this._zyBuffData.attackSpeed=null==this._zyBuffData.attackSpeed?0:this._zyBuffData.attackSpeed;var i=this._heroSxData.intervalTime-this._zyBuffData.attackSpeed;i=i<0?0:i,this.scheduleOnce(function(){e._isCanAttack=!0},i),5!=this._skillID&&13!=this._skillID&&14!=this._skillID&&15!=this._skillID&&23!=this._skillID&&28!=this._skillID&&32!=this._skillID&&34!=this._skillID&&38!=this._skillID||this.setSkill(this._skillID)}},setSkill:function(t){var e=this,a=g_getDataInArr(this._skillID,cc.vv.gameMgr.skillList),i=g_getDataInArr(a.buffid[this._curSaveHero.skillLv][0],cc.vv.gameMgr.buffList),r=this._heroSxData.attack*i.value/100;if(13==t&&this.scheduleOnce(function(){g_gameContol.checkHX(r,1)},.1),14==t&&this.scheduleOnce(function(){e.setOpenHD(r)},.1),15==t){var n=this._target.getComponent("general");null==n&&(n=this._target.getComponent("hero")),null!=n&&n.setJiaoxie(i.time)}if(5==t||34==t)for(var s=g_gameContol._generalArr,o=0;o<s.length;++o)if(g_checkLen(s[o].position,this.node.position)<=a.distance){var l=s[o].getComponent("general");null==l&&(l=s[o].getComponent("hero")),null!=l&&(5==t&&l.setChaof(i.time,this.node),34==t&&l.setLink(i.time))}if(23==t){var g=g_getEffect(a.effectID,g_heroEffectRes);if(null==g)return;var c=G_createPrefab(g_loadPrefab.effect);null!=c&&(this.node.parent.addChild(c),c.position=cc.v2(this._target.x,this._target.y+100),c.getComponent("effect").initBoom(g,"a1")),"dfbuff"==a.effect_Type&&g_gameContol.checkAddBuff(this.node,t,1)}if(28==t&&"wfbuff"==a.effect_Type&&g_gameContol.checkAddBuff(this.node,t),32==t&&g_checkLen(this._target.position,this.node.position)<=a.distance){var h=this._target.getComponent("general");null==h&&(h=this._target.getComponent("hero")),null!=h&&h.setChaof(i.time,this.node)}if(38==t){if(null==g_getEffect(a.effectID,g_heroEffectRes))return;var _=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(_,function(a){var i=cc.instantiate(a);if(null!=i){e.node.parent.addChild(i),i.position=cc.v2(e._target.x,e._target.y-50);var r=i.getComponent("bullet");null!=r&&r.initSkillBullet(e.node,t,1)}})}},setOpenHD:function(t){this._hdNode=G_createPrefab(g_loadPrefab.effect),null!=this._hdNode&&(this.node.addChild(this._hdNode),this._hdNode.getComponent("effect").initHD(t))},setAddHP:function(t){if(0!=this._curHP){var e=G_createPrefab(g_loadPrefab.effect);null!=e&&(this.node.addChild(e),e.getComponent("effect").initHX()),this._curHP+=t,this._curHP>=this._maxHP&&(this._curHP=this._maxHP),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.showAttackZi(t,!1,5)}},byAttack:function(t,e,a){var i=this,r=null,n=t.getComponent("bullet");if(10==a?r=(n=t)._sxData:null!=n?r=n._heroSxData:(null==(n=t.getComponent("general"))&&(n=t.getComponent("hero")),null!=n&&(r=n._heroSxData)),null!=n){var s=null;if(10==a)s=e;else{if(0==n._curHP)return;if(this.setSkillBuff(e),2003==e||2004==e||2005==e)return;s=g_getDataInArr(e,cc.vv.gameMgr.skillList)}if(null==s)return;10==a&&(4==s.ID&&1==this.node._stopDJ&&(this.node._stopDJ=!1,this.showLDEffect(s,1)),8==s.ID&&this.setSkillBuff(s.ID,1)),18==s.ID&&this.showLDEffect(s),this._heroSxData._buffArr=this._buffArr;var o=cc.vv.gameMgr.getAttackNum(r,this._heroSxData,s);if(0!=o.xxNum&&null!=n._curHP){var l=Math.round(o.xxNum*o.rattack/100);n.setAddHP(l)}if(40==s.ID&&null!=n._curHP&&0!=o.rattack){var g=g_getDataInArr(e,g_DataMgr.generalSaveArr),c=s.buffid[g.skillLv][0],h=g_getDataInArr(c,cc.vv.gameMgr.buffList),_=Math.round(h.value*o.rattack/100);n.setAddHP(_)}if(0!=o.jsAttack){this.node._isjs=!0;var u=n._ID;g_gameContol.checkJians(this.node,u,o.jsAttack,0)}var d=o.rattack;if(0==d)return void n.showMissEffect();if(this.showHitEffect(s.hitEffectID),0!=d&&this.showAttackZi(d,o.bj,s.hitPZType),null!=this._hdNode?this._hdNode.getComponent("effect").setHDhp(d):0==this._isBqu&&(this._curHP-=d),this._curHP<=0&&0==this._isBqu&&(21==this._ID?(this._isBqu=1,this._curHP=1,this.setSkillBuff(this._ID)):(this._curHP=0,this.setChangeAnimate("die",!1))),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.checkHX(),0!=d&&this.showFTAttack(d,t),24==this._ID){for(var f=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList).buffid[this._curSaveHero.skillLv],p=!1,m=0;m<this._buffArr.length;++m)if(this._buffArr[m]==f[1]){p=!0;break}if(this._curHP/this._maxHP<.5&&!p){for(var v=0;v<this._buffArr.length;++v)if(this._buffArr[v]==f[0]){this._buffArr.splice(v,1),v--;break}this._buffArr.push(f[1]),this.getZYBuffData()}}if(26==this._ID&&0!=d){var D=1-this._curHP/this._maxHP;this._heroSxData.attack+=Math.round(this._heroInitData.attack*D),this._heroSxData.intervalTime-=this._heroInitData.intervalTime*D,this._heroSxData.intervalTime<0&&(this._heroSxData.intervalTime=0)}2007!=e&&2008!=e&&2009!=e||this.showXY(e)}if(1==a){if(0==this._curHP)return;var C=t.position;null!=t._firstPos&&(C=t._firstPos);var A=C.y>=this.node.y?1:-1,y=100*Math.abs(t.y-this.node.y)/Math.abs(C.x-this.node.x),b=this.node.y-y*A;b>200&&(b=200),b<-200&&(b=-200);var w=this.node.x- -100;w>1e3&&(w=1e3);var k=cc.v2(w,b);cc.tween(this.node).to(.5,{position:k}).call(function(){i.showXY(e),i._isMove=!0}).start()}},checkHX:function(){var t=this;if(39==this._ID&&0==this._hxTime&&this._curHP/this._maxHP<.3){var e=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList),a=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),i=e.buffid[a.skillLv][0],r=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._hxBuff=r,this._hxTime=r.time,this._skillCDMap[39]=!1,this.scheduleOnce(function(){t._skillCDMap[39]=!0,null==t._hxTime&&(t._hxTime=0)},e.CD)}},showFTAttack:function(t,e){if(0!=t&&29==this._ID){var a=this._ID,i=g_getDataInArr(a,cc.vv.gameMgr.skillList),r=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),n=i.buffid[r.skillLv][0],s=g_getDataInArr(n,cc.vv.gameMgr.buffList),o=Math.ceil(t*s.value/100),l=e.getComponent("hero");null==l&&(l=e.getComponent("general")),null!=l&&l.setJiansAttack(o,1)}},setJiansAttack:function(t,e){if(0!=this._curHP){var a=t;1!=e&&(this.showHitEffect(1),0!=a&&this.showAttackZi(a,!1)),this._curHP-=a,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.checkHX()}},showLDEffect:function(t,e){var a=g_getEffect(t.bSpineID,g_heroEffectRes),i=G_createPrefab(g_loadPrefab.effect);null!=i&&(this.node.addChild(i),i.position=cc.v2(0,0),i.getComponent("effect").initEffect(a),this.showXY(t.ID,e))},showXY:function(t,e){if(0!=this._curHP&&(2==t||6==t||18==t||35==t||2007==t||2008==t||2009==t||2010==t||1==e)){var a=g_getDataInArr(t,cc.vv.gameMgr.skillList);1==e&&(a=g_getDataInArr(t,cc.vv.gameMgr.zSkillList));var i=a.buffid[0];if(2==t||6==t||18==t||35==t){var r=g_getDataInArr(t,g_DataMgr.generalSaveArr);i=a.buffid[r.skillLv][0]}var n=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._isAttack=!1,this.setChangeAnimate("idle",!0),null==this._xyEffect&&(this._xyEffect=G_createPrefab(g_loadPrefab.effect),null!=this._xyEffect&&(this.node.addChild(this._xyEffect),this._xyEffect.position=cc.v2(0,this._hpPro.y-10),this._xyEffect.getComponent("effect").initXuanyun())),this._xyTime+=60*n.time}},setJiaoxie:function(t){0!=this._curHP&&(this._isJX=!0,this._jxTime+=t,null==this._jxEffect&&(this._jxEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._jxEffect),this._jxEffect.position=cc.v2(0,110),this._jxEffect.getComponent("effect").initEffectByType("textrue/effect/buff_jiaoxie",1)))},setChaof:function(t,e){0!=this._curHP&&(this._cfTime+=t,this._target=e,null==this._caofEffect&&(this._caofEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._caofEffect),this._caofEffect.position=cc.v2(0,110),this._caofEffect.getComponent("effect").initEffectByType("textrue/effect/buff_beichaofeng",1)))},setLink:function(t){0!=this._curHP&&(this._linkTime+=t,null==this._linkEffect&&(this._linkEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._linkEffect),this._linkEffect.getComponent("effect").initEffectByType("textrue/effect/buff_037",1)))},setSkillBuff:function(t,e){var a=this;if(0!=this._curHP){var i=g_getDataInArr(t,cc.vv.gameMgr.skillList);if(1==e&&(i=g_getDataInArr(t,cc.vv.gameMgr.zSkillList)),16==t||21==t||38==t||2004==t||2003==t||2005==t||1==e){if(null!=this._jsEffect&&16==t)return;var r=i.buffid[0];if(16==t||21==t||38==t){var n=g_getDataInArr(t,g_DataMgr.generalSaveArr);if(r=i.buffid[n.skillLv][0],38==t&&-1!=this._buffArr.findIndex(function(t){return t==r}))return}if(this._buffArr.push(r),this.setBuffCD(r),2003==t||2005==t)return;var s=g_getDataInArr(r,cc.vv.gameMgr.buffList);if(21==t)return void this.scheduleOnce(function(){a._isBqu=2,a._curHP=0,a.setChangeAnimate("die",!1),a._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=a._curHP/a._maxHP},s.time);if(1==e&&8==t)return null==this._zbingEffect?(this._zbingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._zbingEffect&&(this.node.addChild(this._zbingEffect),this._zbingEffect.getComponent("effect").initzdBing(),this._zbingEffect._buffCount=1)):this._zbingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._zbingEffect&&(a._zbingEffect._buffCount--,0==a._zbingEffect._buffCount&&(a._zbingEffect.getComponent("effect").setPoBing(),a._zbingEffect=null))},s.time[this.node._dsTimeLv]);if(16==t){var o=this.node.getChildByName("body");return o.color=cc.Color.fromHEX(cc.color(0,0,0),"#3A7DFE"),null==this._bingEffect?(this._bingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._bingEffect&&(this.node.addChild(this._bingEffect),this._bingEffect.getComponent("effect").initBing(),this._bingEffect._buffCount=1)):this._bingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._bingEffect&&(a._bingEffect._buffCount--,0==a._bingEffect._buffCount&&(o.color=cc.Color.fromHEX(cc.color(0,0,0),"#FFFFFF"),a._bingEffect.destroy(),a._bingEffect=null))},s.time)}}if(23==t||28==t){for(var l=g_getDataInArr(t,g_DataMgr.generalSaveArr),g=i.buffid[l.skillLv],c=0;c<g.length;++c){var h=g[c];this._buffArr.push(h),this.setBuffCD(h)}if(28==t)return void this.getZYBuffData();var _=g_getDataInArr(g[0],cc.vv.gameMgr.buffList),u=G_createPrefab(g_loadPrefab.effect);if(null!=u){var d=g_getEffect(_.effect,g_heroEffectRes);if(null==d)return;this.node.addChild(u),u.y=200,u.getComponent("effect").initBuffEffect(d,_.time)}}}},showMissEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.position=cc.v2(0,50),t.getComponent("effect").initEffectByAttack("textrue/effect/eff_miss"))},showHitEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.addChild(a),a.position=cc.v2(0,50),a.getComponent("effect").initEffectByAttack(e))},showAttackZi:function(t,e,a){var i=this;cc.vv.configMgr.loadPrefab(g_prefabPath.piaozi,function(r){var n=cc.instantiate(r);i.node.addChild(n),n.x=0,n.y=50;var s=0;e?s=3:null!=a&&(s=a),n.getComponent("piaozi").showNumBytype(t,s,1)})},changeTarget:function(){null!=this._target&&null!=this._target.parent||(this._target=g_gameContol._myTower),null!=this._target.getComponent("tower")&&0!=g_gameContol._generalArr.length&&(this._target=g_gameContol.findMinlen(g_gameContol._generalArr,this.node,1))},checkAttack:function(){if(!this._isJX&&!this._isMove&&null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(null==this._target.parent||null==this._target)return this.changeTarget(),void(null!=this._target&&(this._isMove=!0));if(null==this._target.getComponent("tower")||0!=this._target.getComponent("tower")._curHP){for(var t=this._curHero.skill,e=[],a=0;a<t.length;++a)-1!=t[a]&&(e.push(a),null==this._skillCDMap[""+t[a]]&&(this._skillCDMap[""+t[a]]=!0));for(var i=[],r=g_checkLen(this.node.position,this._target.position),n=0;n<e.length;++n){var s=e[n];if(4!=t[s]&&21!=t[s]&&24!=t[s]&&26!=t[s]&&29!=t[s]&&36!=t[s]&&39!=t[s]&&(14!=t[s]||null==this._hdNode)){var o=g_getDataInArr(t[s],cc.vv.gameMgr.skillList);null!=this._target.getComponent("tower")&&null!=o&&"all"!=o.target_Type||0!=s&&this._skillCDMap[""+t[s]]&&r<=o.distance&&i.push(n)}}if(0==i.length)return r<=this._curHero.attackDistance&&-1!=t[0]?(this.setAttack(0),1):(this._isMove=!0,3);var l=e[i[g_getRandom(0,i.length-1)]];return this.setAttack(l),1}}},setMove:function(){if(this._isMove&&!this._isAttack)if(null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(this.changeTarget(),null!=this._target){this.setChangeAnimate("run",!0);var t=this._target.x>=this.node.x?1:-1,e=this._target.y>=this.node.y?1:-1;this._zyBuffData.moveSpeed=null==this._zyBuffData.moveSpeed?0:this._zyBuffData.moveSpeed;var a=this._speed+this._zyBuffData.moveSpeed,i=Math.abs(this._target.y-this.node.y)*a/Math.abs(this._target.x-this.node.x);if(this._isMoveY?this.node.y+=a*e:(this.node.x+=a*t,this.node.y+=i*e),this._curHead.x=200-400*Math.abs(this.node.x-1e3)/1280,g_checkLen(this.node.position,this._target.position)<=this._curHero.attackDistance){var r=70;27!=this._ID&&9!=this._ID||(r=10),this.node.y>this._target.y+70||this.node.y<this._target.y-r?this._isMoveY=!0:(this._isMoveY=!1,this.setChangeAnimate("idle",!0),this._isMove=!1)}else this._isMoveY=!1}}else"run"===this._curAni&&this.setChangeAnimate("idle",!0)},update:function(){0==this._curHP||g_gameContol._isOver||g_gameContol._isGamePause?(g_gameContol._isOver||g_gameContol._isGamePause)&&"run"===this._curAni&&this.setChangeAnimate("idle",!0):(this.showBuffTime(),this.setMove(),this.checkAttack())},showBuffTime:function(){if(this._count++,60==this._count&&(this._count=0,this._jsTime>0&&(this._jsTime--,0==this._jsTime&&(this._jsEffect.destroy(),this._jsEffect=null)),this._jxTime>0&&(this._jxTime--,0==this._jxTime&&(this._jxEffect.destroy(),this._jxEffect=null,this._isJX=!1)),this._cfTime>0&&(this._cfTime--,0==this._cfTime&&(this._caofEffect.destroy(),this._caofEffect=null,this.changeTarget())),this._linkTime>0&&(this._linkTime--,0==this._linkTime&&(this._linkEffect.destroy(),this._linkEffect=null)),null!=this._hxTime&&this._hxTime>0)){this._hxTime--;var t=Math.round(this._hxBuff.value*this._maxHP/100);this.setAddHP(t),0==this._hxTime&&(this._hxTime=null,1==this._skillCDMap[39]&&(this._hxTime=0))}this._xyTime>0&&(this._xyTime--,0==this._xyTime&&(this._xyEffect.destroy(),this._xyEffect=null))}}),cc._RF.pop()},{}],fight:[function(t,e){"use strict";cc._RF.push(e,"45187kJ/ulDGLOaFN/fmfhT","fight");var a=[[95,0,0,0,0,0,0,0,0,0],[-175,18,0,0,0,0,0,0,0,0]];cc.Class({extends:cc.Component,properties:{pageItem:cc.Prefab,lvItem:cc.Prefab,rwbtn:cc.Node,yjzlBtn:cc.Node,qdredNode:cc.Node,gjredNode:cc.Node,xslbbtn:cc.Node,boxjd:cc.Node,scorNode:cc.Node,zjpageNode:cc.Node,pageList:cc.Node,lvList:cc.Node,btn_chufa:cc.Node,btnxsfl:cc.Node,btnmh:cc.Node,_boxIndex:0},onLoad:function(){var t=this;this._curScorIndex=0,this._saveChar=g_DataMgr.gameInfo.gkNum,cc.vv.gameMgr.curChapeterId=g_DataMgr.gameInfo.gkNum;var e=g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo;(null==g_DataMgr.gameInfo.gkCompelet[""+this._saveChar]?0:g_DataMgr.gameInfo.gkCompelet[""+this._saveChar])>=e.length&&(cc.vv.gameMgr.curChapeterId++,cc.vv.gameMgr.curChapeterId>=g_chapter.length&&(cc.vv.gameMgr.curChapeterId=g_chapter.length-1),g_DataMgr.gameInfo.gkNum<cc.vv.gameMgr.curChapeterId&&(g_DataMgr.gameInfo.gkNum=cc.vv.gameMgr.curChapeterId),this._saveChar=g_DataMgr.gameInfo.gkNum,cc.vv.gameMgr.curChapeterId=this._saveChar),null==g_DataMgr.gameInfo.gkCompelet[""+this._saveChar]&&(g_DataMgr.gameInfo.gkCompelet[""+this._saveChar]=0,g_DataMgr.saveGameData()),g_DataMgr.gameInfo.gkCompelet[1]>=5&&0==g_DataMgr.gjsyData.guideBX&&(cc.vv.gameMgr.curChapeterId=1,this._saveChar=1),cc.vv.gameMgr.curSelectLv=g_DataMgr.gameInfo.gkCompelet[""+this._saveChar],cc.vv.gameMgr.curSelectLv>=g_chapter[this._saveChar].lvInfo.length&&(cc.vv.gameMgr.curSelectLv=g_chapter[this._saveChar].lvInfo.length-1),this.showUIAni(),this.initPageView(),G_gameEvent.on("page_turn",this.pageTurn,this),this.onShowTask(),G_gameEvent.on(G_gameEvent.freshTaskEvent,this.onShowTask,this),3==cc.vv.gameMgr.gameModel||2==cc.vv.gameMgr.gameModel?g_hallContol.showProfeb(g_loadPrefab.UIyjzl):g_hallContol.showTC();var a=null!=g_DataMgr.gameInfo.gkCompelet[3]&&g_DataMgr.gameInfo.gkCompelet[3]>=7;this.yjzlBtn.active=a,this.xslbbtn.active=g_DataMgr.g_xslbTime>0,G_gameEvent.on(G_gameEvent.freshXSLBEvent,function(){t.xslbbtn.active=g_DataMgr.g_xslbTime>0,g_DataMgr.g_tgCount=5},this),g_DataMgr.gameInfo.gkCompelet[1]>=3&&(this.btnmh.active=!0,g_DataMgr.mhTime=g_DataMgr.tuisSaveData.mhTime,this.btnmh.active&&this.onUpdataMH()),G_gameEvent.on(G_gameEvent.freshMHEvent,this.onUpdataMH,this)},showUIAni:function(){for(var t=this.node.getChildByName("zhangjie").getChildByName("btn_chufa"),e=this.node.getChildByName("top"),i=e.getChildByName("left"),r=e.getChildByName("right"),n=i.children,s=r.children,o=0;o<n.length;++o)g_moveAct(.5+.15*o,cc.v2(a[0][o],n[o].y),n[o],null,1);for(var l=0;l<s.length;++l)g_moveAct(.5+.15*l,cc.v2(a[1][l],s[l].y),s[l],null,1);cc.tween(t).to(1.5,{scale:1},{easing:"elasticOut"}).start()},onDestroy:function(){},onUpdataMH:function(){this.btnmh.getChildByName("time").active=g_DataMgr.mhTime>0;var t=this.btnmh.getChildByName("effect").getComponent(sp.Skeleton),e="t"+(g_DataMgr.tuisSaveData.mhAwardIndex+1);t.setSkin(e);var a=0==g_DataMgr.mhTime?"a2":"a1";t.setAnimation(0,a,!0)},onShowTask:function(){var t=this.rwbtn.getChildByName("rwtxt");t.getComponent(cc.Label).string=g_DataMgr.taskData.taskID+"."+cc.vv.gameMgr.curTaskData.name;var e=cc.vv.gameMgr.curTaskData.type,a=0,i=0;if("level"==e){var r=cc.vv.gameMgr.curTaskData.num;a=null==g_DataMgr.gameInfo.gkCompelet[""+r[0]]?0:g_DataMgr.gameInfo.gkCompelet[""+r[0]],i=r[1]}else if("barrack"==e)i=cc.vv.gameMgr.curTaskData.num,a=g_DataMgr.towerInfo.towerLv+1;else if("skill"==e){i=cc.vv.gameMgr.curTaskData.num;var n=0;for(var s in g_DataMgr.towerInfo.skillLvMap)g_DataMgr.towerInfo.skillLvMap[s]>n&&(n=g_DataMgr.towerInfo.skillLvMap[s]);a=n+1}else"monster"==e&&(i=cc.vv.gameMgr.curTaskData.num[1],a=g_DataMgr.taskData.taskKillNum);a>i&&(a=i),t.getChildByName("lb").getComponent(cc.Label).string=a+"/"+i,this.rwbtn.getChildByName("red").active=a==i},onFreshRed:function(){var t=g_DataMgr.signData.signDay;this.qdredNode.active=0==g_DataMgr.signData.signOneArr[t-1]||0==g_DataMgr.signData.signAgainArr[t-1],this.gjredNode.parent.active=g_DataMgr.gameInfo.gkCompelet[2]>=7,this.gjredNode.active=g_DataMgr.gjsyData.onLineTime>=60,this.xslbbtn.active&&(this.xslbbtn.getChildByName("time").getComponent(cc.Label).string=G_time(g_DataMgr.g_xslbTime,0)),this.btnxsfl.active=0!=g_DataMgr.signData.xsflNum,this.btnxsfl.active||(this.xslbbtn.y=this.btnxsfl.y),this.btnmh.active&&(this.btnmh.getChildByName("time").getComponent(cc.Label).string=G_time(g_DataMgr.mhTime,0))},initPageView:function(){for(var t=1;t<g_chapter.length;++t){var e=cc.instantiate(this.pageItem);this.pageList.addChild(e),e.getComponent("pageItem").initPageItem(t)}this.showLvList(g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo),this.updataBox()},updataBox:function(){var t=cc.vv.gameMgr.curChapeterId,e=g_chapter[t];null==g_DataMgr.gameInfo.gkBoxLq[""+t]&&(g_DataMgr.gameInfo.gkBoxLq[""+t]=[0,0,0],g_DataMgr.saveGameData());for(var a=e.boxArr,i=0;i<a.length;++i){var r=this.boxjd.getChildByName("box"+i),n=r.getChildByName("box");if(n.stopAllActions(),n.angle=0,r.getChildByName("yl").active=!1,r.getChildByName("kl").active=!1,-1==a[i])r.active=!1;else{r.active=!0;var s=g_getDataInArr(a[i],g_boxAwardArr);r._boxData=s,g_DataMgr.gameInfo.gkCompelet[""+t]>=s.gk&&2!=g_DataMgr.gameInfo.gkBoxLq[""+t][i]&&(0==g_DataMgr.gameInfo.gkBoxLq[""+t][i]&&(g_DataMgr.gameInfo.gkBoxLq[""+t][i]=1,g_DataMgr.saveGameData()),g_rockFun(n),r.getChildByName("kl").active=1==g_DataMgr.gameInfo.gkBoxLq[""+t][i]),2==g_DataMgr.gameInfo.gkBoxLq[""+t][i]&&(r.getChildByName("yl").active=!0)}}var o=null==g_DataMgr.gameInfo.gkCompelet[""+t]?0:g_DataMgr.gameInfo.gkCompelet[""+t];this.boxjd.getChildByName("jd").getComponent(cc.Sprite).fillRange=o/e.lvInfo.length},showLvList:function(t){this.lvList.removeAllChildren();for(var e=g_DataMgr.gameInfo.gkCompelet[""+cc.vv.gameMgr.curChapeterId],a=0;a<t.length;++a){var i=cc.instantiate(this.lvItem);this.lvList.addChild(i),i.getChildByName("lvLabel").getComponent(cc.Label).string=""+(a+1),i.getChildByName("select").active=cc.vv.gameMgr.curSelectLv==a,this._saveChar<cc.vv.gameMgr.curChapeterId?i.getChildByName("suo").active=!0:i.getChildByName("suo").active=e<a,i.getChildByName("over").active=e>a&&this._saveChar>=cc.vv.gameMgr.curChapeterId,i.on(cc.Node.EventType.TOUCH_END,this.onSelectLv,this),i._lvNum=a}var r=70*t.length;this.lvList.width=r,this._curScorIndex=0,e>=7&&(this._curScorIndex=e-7+1);var n=this.lvList.children;this.scorNode.getComponent(cc.ScrollView).scrollToOffset(cc.v2(this._curScorIndex/n.length*this.lvList.width,0),.1)},onSelectLv:function(t){var e=t.target;if(!e.getChildByName("suo").active){for(var a=this.lvList.children,i=0;i<a.length;++i)a[i].getChildByName("suo").active||(a[i].getChildByName("select").active=!1);e.getChildByName("select").active=!0,cc.vv.gameMgr.curSelectLv=e._lvNum}},pageTurn:function(){var t=this.zjpageNode.getComponent("pageView").getCurPage();cc.vv.gameMgr.curChapeterId=t+1,cc.vv.gameMgr.curSelectLv=g_DataMgr.gameInfo.gkCompelet[""+cc.vv.gameMgr.curChapeterId],cc.vv.gameMgr.curSelectLv>=g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo.length&&(cc.vv.gameMgr.curSelectLv=g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo.length-1),this.showLvList(g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo),this.updataBox()},updataChapter:function(t){var e=g_getDataInArr(t.zj,g_chapter);this.zjName.string=e.name},onBoxClick:function(t){for(var e=t._boxData,a=[],i=0;i<e.propArr.length;++i){var r=e.propArr[i],n={propType:r[0],getNum:r[1],zbID:0};a.push(n)}if(1==g_DataMgr.gameInfo.gkBoxLq[""+cc.vv.gameMgr.curChapeterId][this._boxIndex]){var s=G_createPrefab(g_loadPrefab.getAward);null!=s&&(g_hallContol.node.addChild(s),s.getComponent("getAward").initAward(a,1)),g_DataMgr.gameInfo.gkBoxLq[""+cc.vv.gameMgr.curChapeterId][this._boxIndex]=2,g_DataMgr.saveGameData(),this.updataBox()}else{if(2==g_DataMgr.gameInfo.gkBoxLq[""+cc.vv.gameMgr.curChapeterId][this._boxIndex])return;var o=G_createPrefab(g_loadPrefab.awardTip);null!=o&&(g_hallContol.node.addChild(o),o.getComponent("awardTip").initTips(t,a))}},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_chufa"==t.target.name){var e=g_DataMgr.pinfo;if(this._saveChar<cc.vv.gameMgr.curChapeterId)return void cc.vv.configMgr.addTips("\u5173\u5361\u8fd8\u672a\u89e3\u9501!");if(0==e.curSZArr.length)return void cc.vv.configMgr.addTips("\u8bf7\u5148\u5728\u6b66\u5c06\u754c\u9762\u5e03\u9635!");if(e.strengNum<CONSUME_STRENGTH)return cc.vv.configMgr.addTips("\u4f53\u529b\u4e0d\u8db3!"),void g_hallContol.showGetTS(4);e.strengNum-=CONSUME_STRENGTH,g_DataMgr.savePowerUseLTime(),null!=g_hallContol&&g_hallContol.updataInfo(),cc.vv.gameMgr.gameModel=1,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")})}else if("btn_lr"==t.target.name){var a=this.lvList.children,i=a.length-7,r=(-275-this.scorNode.getComponent(cc.ScrollView).getContentPosition().x)/79;this._curScorIndex!=r.toFixed(0)&&(this._curScorIndex=r.toFixed(0)),this._curScorIndex++,this._curScorIndex>i&&(this._curScorIndex=i),this.scorNode.getComponent(cc.ScrollView).scrollToOffset(cc.v2(this._curScorIndex/a.length*this.lvList.width,0),.1)}else if("btn_ll"==t.target.name){var n=this.lvList.children,s=(-275-this.scorNode.getComponent(cc.ScrollView).getContentPosition().x)/79;this._curScorIndex!=s.toFixed(0)&&(this._curScorIndex=s.toFixed(0)),this._curScorIndex--,this._curScorIndex<0&&(this._curScorIndex=0),this.scorNode.getComponent(cc.ScrollView).scrollToOffset(cc.v2(this._curScorIndex/n.length*this.lvList.width,0),.1)}else if("box0"==t.target.name)this._boxIndex=0,this.onBoxClick(t.target);else if("box1"==t.target.name)this._boxIndex=1,this.onBoxClick(t.target);else if("box2"==t.target.name)console.log("====box2===="),this._boxIndex=2,this.onBoxClick(t.target),28==g_DataMgr.g_guideTaskNum&&(this._saveChar=g_DataMgr.gameInfo.gkNum,g_hallContol.showGuideTask(!1));else if("btn_qdao"==t.target.name)g_hallContol.showProfeb(g_loadPrefab.UIsign);else if("btn_set"==t.target.name)g_hallContol.showProfeb(g_loadPrefab.set);else if("btn_rw"==t.target.name)g_hallContol.showProfeb(g_loadPrefab.UItask);else if("btn_xslb"==t.target.name)g_hallContol.showProfeb(g_loadPrefab.TCtuis);else if("btn_xsfl"==t.target.name)g_hallContol.showProfeb(g_loadPrefab.UIxsfl);else if("btn_yjzl"==t.target.name){if(0==g_DataMgr.gjsyData.guideYJZL)return;g_hallContol.showProfeb(g_loadPrefab.UIyjzl)}else if("btn_mh"==t.target.name){if(g_DataMgr.mhTime>0){var o=G_createPrefab(g_loadPrefab.tsManghe);return void(null!=o&&(g_hallContol.node.addChild(o),o._pointNode=this.node))}this.getMHaward()}else if("btn_gj"==t.target.name){if(g_DataMgr.gjsyData.onLineTime<60)return void cc.vv.configMgr.addTips("\u6682\u65f6\u6ca1\u6709\u5956\u52b1\u53ef\u9886\u53d6\uff01");g_hallContol.showProfeb(g_loadPrefab.UIguaji)}else if("btn_rank"==t.target.name){if(g_hallContol.rankNode.active)return;g_hallContol.rankNode.active=!0}},getMHaward:function(){var t=[10001,10002,10003],e=t[g_DataMgr.tuisSaveData.mhAwardIndex],a=g_getDataInArr(e,cc.vv.gameMgr.dropList),i=g_getIndexByQZArr(a.weights),r=a.dropitem[i],n=a.num[i],s=G_createPrefab(g_loadPrefab.getAward);if(null!=s){g_hallContol.node.addChild(s);var o={propType:r,getNum:n,zbID:0},l=[];l.push(o),s.getComponent("getAward").initAward(l)}g_DataMgr.tuisSaveData.mhAwardIndex++,g_DataMgr.tuisSaveData.mhAwardIndex>=t.length&&(g_DataMgr.tuisSaveData.mhAwardIndex=0),g_DataMgr.tuisSaveData.mhTime=600,g_DataMgr.saveTuisData(),g_DataMgr.mhTime=g_DataMgr.tuisSaveData.mhTime,this.onUpdataMH()},update:function(){this.onFreshRed()}}),cc._RF.pop()},{}],gItem:[function(t,e){"use strict";cc._RF.push(e,"0ea52vQoedBeZ8aeq2Nobqv","gItem"),cc.Class({extends:cc.Component,properties:{pzSprite:cc.Sprite,icon:cc.Sprite,costlb:cc.Label,cdPro:cc.Node,_generalID:0,_heroData:null,_curSaveHero:null,_heroSxData:null,_costNum:0,_cdTime:0,_curTime:0,_contTime:0},onLoad:function(){this.cdPro.active=!1},initGItem:function(t){this._generalID=t,this._heroData=g_getDataInArr(t,cc.vv.gameMgr.generalList),this._curSaveHero=g_getDataInArr(t,g_DataMgr.generalSaveArr);var e=this._curSaveHero.level;this._heroSxData=g_getDataInArr(this._heroData.sxArr[e],cc.vv.gameMgr.generalSxList);var a=g_getAtlas(g_skinAtlas.pzk);this.pzSprite.spriteFrame=a.getSpriteFrame("k_"+this._curSaveHero.pzLevel);var i=g_getAtlas(g_skinAtlas.head);this.icon.spriteFrame=i.getSpriteFrame("head_"+this._heroData.ID),this._costNum=this._heroData.zgcost,this._cdTime=this._heroData.cdtime,this.costlb.string=this._costNum},setCD:function(t,e){1==e?(this._curTime=0,0==this._curTime&&(this.cdPro.active=!1,this.cdPro.getComponent(cc.Sprite).fillRange=1)):this._cdTime=this._cdTime-Math.ceil(this._heroData.cdtime*t.value/100)},onClick:function(){this.cdPro.active?cc.vv.configMgr.addTips("\u51b7\u5374\u4e2d\u3002\u3002\u3002\u3002"):g_gameContol._ybNum<this._heroData.zgcost?cc.vv.configMgr.addTips("\u6d88\u8017\u4e0d\u8db3\uff0c\u65e0\u6cd5\u53ec\u5524\uff01"):(this.cdPro.active=!0,this._curTime=60*this._cdTime,this.cdPro.getComponent(cc.Sprite).fillRange=1,g_gameContol._ybNum-=this._heroData.zgcost,g_gameContol.createGeneral(this._generalID))},update:function(){if(this._curTime>0&&(this._curTime--,this.cdPro.getComponent(cc.Sprite).fillRange=this._curTime/(60*this._cdTime),0==this._curTime&&(this.cdPro.active=!1,this.cdPro.getComponent(cc.Sprite).fillRange=1)),this._contTime++,60==this._contTime){this._contTime=0;var t=this._costNum>g_gameContol._ybNum?"#ff0000":"#ffffff";this.costlb.node.color=cc.Color.fromHEX(cc.color(0,0,0),t)}}}),cc._RF.pop()},{}],gameBj:[function(t,e){"use strict";cc._RF.push(e,"9283aJIRkhM5Y5oNeWokSsO","gameBj"),cc.Class({extends:cc.Component,properties:{zsSpriteArr:[cc.SpriteFrame],btnNodeArr:[cc.Node],_curZsArr:null,_videoNum:0},onLoad:function(){this._skillAtlas=g_getAtlas(g_skinAtlas.skill),this.updataZS(),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},updataZS:function(){for(var t=cc.vv.gameMgr.zsList,e=[],a=0;a<t.length;++a)this.checkIShas(t[a].ID)||e.push(t[a]);for(var i=[],r=0;r<e.length;++r)i.push(r);for(var n=[],s=0;s<3;++s){var o=g_getRandom(0,i.length-1);n.push(e[i[o]]),i.splice(o,1)}for(var l=0;l<n.length;++l){var g=this.btnNodeArr[l];g.getComponent(cc.Sprite).spriteFrame=this.zsSpriteArr[n[l].lv-1],g.getChildByName("name").getComponent(cc.Label).string="Lv."+n[l].lv+" "+n[l].name,g.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("zs_"+n[l].icon),g.getChildByName("ms").getComponent(cc.Label).string=n[l].intro}this._curZsArr=n},checkIShas:function(t){for(var e=g_gameContol._zsbuffArr,a=0;a<e.length;++a)if(e[a].ID==t)return!0;return!1},checkCanAdd:function(t){for(var e=g_gameContol._zsbuffArr,a=!0,i=0;i<e.length;++i)e[i].type==t.type&&(e[i].lv<t.lv?g_gameContol._zsbuffArr.splice(i,1):a=!1);a&&g_gameContol._zsbuffArr.push(t)},onShowVideo:function(){if(1==this._videoNum&&this.updataZS(),2==this._videoNum){for(var t=0;t<this._curZsArr.length;++t)this.checkCanAdd(this._curZsArr[t]);g_gameContol.getZS(),this.destroyFun()}this._videoNum=0},onBtnClick:function(t){var e=this;Util.isRunFast(.5)||(cc.vv.gameMgr.playEffect(g_audios.click),"bj_0"==t.target.name?(this.checkCanAdd(this._curZsArr[0]),g_gameContol.getZS(),this.destroyFun()):"bj_1"==t.target.name?(this.checkCanAdd(this._curZsArr[1]),g_gameContol.getZS(),this.destroyFun()):"bj_2"==t.target.name?(this.checkCanAdd(this._curZsArr[2]),g_gameContol.getZS(),this.destroyFun()):"btn_change"==t.target.name?G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=1,this.onShowVideo()):"btn_all"==t.target.name&&(G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=2,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=2,this.onShowVideo())))},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],gameOver:[function(t,e){"use strict";cc._RF.push(e,"5310eXKYPNFJoc6svRlxs+N","gameOver"),cc.Class({extends:cc.Component,properties:{propItem:cc.Prefab,tips:cc.Node,jjtips:cc.Node,lsLabel:cc.Node,awardContent:cc.Node,slawardContent:cc.Node,_isWin:!1,_awardArr:null,_videoNum:0,_ngIndex:0,_newGeneralArr:null},onLoad:function(){this._awardData=null,this._stAwardData=null,this._awardArr=[],this._newGeneralArr=[],this._spine=null,this._sloverNode=this.node.getChildByName("slover"),this._overNode=this.node.getChildByName("over"),this._winNode=this.node.getChildByName("win"),this._loseNode=this.node.getChildByName("lose"),this.pzAtlas=g_getAtlas(g_skinAtlas.pzk),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon)},initGameOver:function(t){if(this._isWin=t,t?cc.vv.gameMgr.playEffect(g_audios.win):cc.vv.gameMgr.playEffect(g_audios.lose),cc.vv.gameMgr.gameModel,3==cc.vv.gameMgr.gameModel){this._overNode.active=!0;var e=cc.vv.gameMgr.playerArr[g_DataMgr.rankSaveData.rankNum][0];t||(e=cc.vv.gameMgr.playerArr[g_DataMgr.rankSaveData.rankNum][g_DataMgr.rankSaveData.rankStar-1]);var a=g_getDataInArr(e.awardID,cc.vv.gameMgr.jjAwardList);this._awardData=t?a.winAward:a.loseAward,g_gameContol._winNum>0&&this.showPropAward(this._awardData,0),this.lsLabel.getComponent(cc.Label).string=g_gameContol._winNum+"\u80dc\u573a"}else if(2==cc.vv.gameMgr.gameModel){this._sloverNode.active=!0;var i=cc.vv.gameMgr.activeLvInfo[cc.vv.gameMgr.curActivityLv-1];t||(i=cc.vv.gameMgr.activeLvInfo[cc.vv.gameMgr.curActivityLv]);var r=g_getDataInArr(i.awardID,G_AwardArr);this._awardData=t?r.winAward:r.loseAward,g_gameContol._winNum>0&&this.showPropAward(this._awardData,2),this._sloverNode.getChildByName("his").getChildByName("lb").getComponent(cc.Label).string=g_DataMgr.yjslSaveData.historyNum,this.showFPPropAward()}else this.showGkResult();this.showAni()},showGkResult:function(){this._winNode.active=this._isWin,this._loseNode.active=!this._isWin;var t=cc.vv.gameMgr.curSelectLv,e=g_getDataInArr(g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo[t].awardID,G_AwardArr),a=this._isWin?e.winAward:e.loseAward;if(this._awardData=JSON.parse(JSON.stringify(a)),this._isWin){var i=this._winNode.getChildByName("zqspine").getComponent(sp.Skeleton);if(i.setAnimation(0,"appear",!1),i.setCompleteListener(function(t){"appear"===(t.animation?t.animation.name:"")&&i.setAnimation(0,"loop",!0)}),1==cc.vv.gameMgr.gameModel){if(cc.vv.gameMgr.curSelectLv++,cc.vv.gameMgr.curSelectLv>g_DataMgr.gameInfo.gkCompelet[""+cc.vv.gameMgr.curChapeterId]){g_DataMgr.gameInfo.gkCompelet[""+cc.vv.gameMgr.curChapeterId]=cc.vv.gameMgr.curSelectLv;var r=e.loseAward;this._stAwardData=JSON.parse(JSON.stringify(r))}cc.vv.gameMgr.curSelectLv>=g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo.length&&(cc.vv.gameMgr.curChapeterId++,cc.vv.gameMgr.curChapeterId>=g_chapter.length&&(cc.vv.gameMgr.curChapeterId=g_chapter.length-1),g_DataMgr.gameInfo.gkNum<cc.vv.gameMgr.curChapeterId&&(g_DataMgr.gameInfo.gkNum=cc.vv.gameMgr.curChapeterId)),g_DataMgr.saveGameData()}null!=this._stAwardData&&this.showPropAward(this._stAwardData,1),this.showPropAward(this._awardData)}else this.tips.active=!0},showAni:function(){var t=this;if(this._isWin?this._spine=this._winNode.getChildByName("winspine").getComponent(sp.Skeleton):this._spine=this._loseNode.getChildByName("losespine").getComponent(sp.Skeleton),3!=cc.vv.gameMgr.gameModel&&2!=cc.vv.gameMgr.gameModel||(this._spine=this._overNode.getChildByName("winspine").getComponent(sp.Skeleton)),null!=this._spine&&(this._spine.setAnimation(0,"appear",!1),this._spine.setCompleteListener(function(e){if("appear"===(e.animation?e.animation.name:"")){if(t._spine.setAnimation(0,"loop",!0),t._isWin){var a=t._winNode.getChildByName("btn_true");if(1==cc.vv.gameMgr.gameModel){var i=t._winNode.getChildByName("btn_video");g_moveAct(.5,cc.v2(-140,a.y),a),g_moveAct(.5,cc.v2(140,i.y),i)}}else{var r=t._loseNode.getChildByName("btn_back");if(1==cc.vv.gameMgr.gameModel){var n=t._loseNode.getChildByName("btn_retry");g_moveAct(.5,cc.v2(-140,r.y),r),g_moveAct(.5,cc.v2(140,n.y),n)}}if(3==cc.vv.gameMgr.gameModel){var s=t._overNode.getChildByName("btn_true"),o=t._overNode.getChildByName("btn_video");g_gameContol._winNum>0?(g_moveAct(.5,cc.v2(-140,s.y),s),g_moveAct(.5,cc.v2(140,o.y),o)):g_moveAct(.5,cc.v2(0,s.y),s)}}})),2==cc.vv.gameMgr.gameModel){var e=this._sloverNode.getChildByName("btn_true"),a=this._sloverNode.getChildByName("btn_video");g_gameContol._winNum>0?(g_moveAct(.5,cc.v2(-140,e.y),e),g_moveAct(.5,cc.v2(140,a.y),a)):g_moveAct(.5,cc.v2(0,e.y),e)}},showFPPropAward:function(){for(var t=this.slawardContent,e=g_gameContol._gkfpAward,a=g_getAtlas(g_skinAtlas.prop),i=g_getAtlas(g_skinAtlas.head),r=[],n=0;n<e.length;++n){var s=e[n],o=s.propType,l=s.getNum,g="prop_"+o,c=s.zbID,h=cc.instantiate(this.propItem);if(t.addChild(h),h._type=0==o?c:o,o>50&&o<60){var _=o-50;_>5&&(_=5),g="s_"+o,h.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame("zb_"+_)}else if(o>60&&o<80)g="skill_"+(o-60);else if(o>100){var u=o-100;g="head_"+u;var d=g_getDataInArr(u,cc.vv.gameMgr.generalList);h.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame("zb_"+d.quality),0==g_getDataInArr(u,g_DataMgr.generalSaveArr).getType&&this._newGeneralArr.push(u)}if(0==o){var f=g_getDataInArr(c,cc.vv.gameMgr.equipList),p="zb_"+f.quality;h.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame(p),h.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+f.icon)}else h.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o>100?i.getSpriteFrame(g):o>60&&o<80?this.skillAtlas.getSpriteFrame(g):a.getSpriteFrame(g);h.getChildByName("num").getComponent(cc.Label).string=l,r.push(h)}},showPropAward:function(t,e){var a=this._winNode.getChildByName("awardNode");0==e?a=this.awardContent:2==e&&(a=this.slawardContent);for(var i=t.propArr,r=g_getAtlas(g_skinAtlas.prop),n=g_getAtlas(g_skinAtlas.head),s=0;s<i.length;++s){var o=i[s],l=o[0],g=o[2];o.length<3&&(g=0);var c=g_getRandom(0,g),h=o[1]+c,_="prop_"+l,u=cc.instantiate(this.propItem);if(a.addChild(u),l>50&&l<60){var d=l-50;d>5&&(d=5),_="s_"+l,u.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame("zb_"+d)}else if(l>60&&l<80)_="skill_"+(l-60);else if(l>100){var f=l-100;_="head_"+f;var p=g_getDataInArr(f,cc.vv.gameMgr.generalList);u.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame("zb_"+p.quality),0==g_getDataInArr(f,g_DataMgr.generalSaveArr).getType&&this._newGeneralArr.push(f)}u.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=l>100?n.getSpriteFrame(_):l>60&&l<80?this.skillAtlas.getSpriteFrame(_):r.getSpriteFrame(_),u.getChildByName("num").getComponent(cc.Label).string=h,u.getChildByName("st").active=1==e;var m={propType:l,getNum:h,zbID:0};this._awardArr.push(m)}1!=e&&(this.getAwardBy(1),this.showNewWJ())},getAwardBy:function(t){for(var e=this._awardArr,a=0;a<e.length;++a){var i=e[a].propType,r=e[a].getNum;if(i==G_PROPMENUE.COIN)g_DataMgr.pinfo.coin+=r*t;else if(i==G_PROPMENUE.DIAMOND)g_DataMgr.pinfo.yxCoin+=r*t;else if(i==G_PROPMENUE.BRICK)g_DataMgr.pinfo.ztCoin+=r*t;else if(i==G_PROPMENUE.POWER)g_DataMgr.pinfo.strengNum+=r*t;else if(i==G_PROPMENUE.JINGJSTONE)g_DataMgr.pinfo.jjCoin+=r*t;else if(i>50&&i<60){var n=i-50;g_DataMgr.pinfo.jxStone[n]+=r*t}else if(i>60&&i<80){var s=i-60;g_DataMgr.pinfo.skillStone[s]+=r*t}else if(i>100){var o=g_getDataInArr(i-100,g_DataMgr.generalSaveArr);1==o.getType?o.chipNum+=r*t:o.getType=1,g_DataMgr.saveGeneralData(o)}else if(0==i)for(var l=g_getDataInArr(e[a].zbID,cc.vv.gameMgr.equipList),g=r,c=0;c<g;++c){var h={gType:i,gID:l.ID,glv:0,gNum:0};g_getGoodFun(h)}}g_DataMgr.savePinfo()},showNewWJ:function(){if(0!=this._newGeneralArr.length&&!(this._ngIndex>=this._newGeneralArr.length)){var t=this._newGeneralArr,e=G_createPrefab(g_loadPrefab.getGeneral);null!=e&&(this.node.parent.addChild(e),e.getComponent("getGeneral").initGetGeneral(t[this._ngIndex],this.node),this._ngIndex++)}},onShowVideo:function(){1==this._videoNum&&(this.getAwardBy(1),this.toHall()),2==this._videoNum&&(g_gameContol.restartGame(),this.destroyFun()),this._videoNum=0},onBtnClick:function(t){var e=this;if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_true"==t.target.name)this.toHall();else if("btn_video"==t.target.name)G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(this._videoNum=1,this.onShowVideo());else if("btn_back"==t.target.name)this.toHall();else if("btn_retry"==t.target.name)G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=2,e.onShowVideo())})):(this._videoNum=2,this.onShowVideo());else if("btn_continue"==t.target.name){if(0==cc.vv.gameMgr.curActivityLv)return void this.toHall();g_gameContol.restartGame(),this.destroyFun()}else"btn_heroup"==t.target.name?(g_DataMgr.g_showUI=1,this.toHall()):"btn_cj"==t.target.name&&(g_DataMgr.g_showUI=3,this.toHall())},toHall:function(){this.node.getChildByName("loadingBlock").active=!0,cc.vv.sceneMgr.openScene("Hall",function(){cc.log("-------Hall------")})},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],gameSet:[function(t,e){"use strict";cc._RF.push(e,"22f45Mg0wZLy4K+f+oIx8dK","gameSet"),cc.Class({extends:cc.Component,properties:{checkMusic:cc.Node,checkSound:cc.Node},onLoad:function(){this.checkMusic.getComponent("CheckBtn").check(!cc.vv.gameMgr.musicValue),this.checkSound.getComponent("CheckBtn").check(!cc.vv.gameMgr.soundValue)},onBtnClick:function(t){if("checkmusic"==t.target.name){var e=t.target.getComponent(cc.Toggle);cc.vv.gameMgr.setMusic(!e.isChecked)}else if("checksound"==t.target.name){var a=t.target.getComponent(cc.Toggle);cc.vv.gameMgr.setSound(!a.isChecked)}else"close"==t.target.name&&this.node.destroy()}}),cc._RF.pop()},{}],game:[function(t,e){"use strict";cc._RF.push(e,"4f6c88YvfJDEJFCMJ9WIz3s","game");var a=720,i=[cc.v2(-280,0),cc.v2(1e3,0)],r=[cc.v2(-284,0),cc.v2(-142,0),cc.v2(0,0),cc.v2(142,0),cc.v2(284,0)];cc.Class({extends:cc.Component,properties:{uitime:cc.Label,uiLevel:cc.Label,uiYbLabel:cc.Label,btnPause:cc.Node,moveCarmera:cc.Node,bodyNode:cc.Node,layerNode:cc.Node,proNode:cc.Node,generalItem:cc.Prefab,tbiaoPre:cc.Prefab,gskillPre:cc.Prefab,skillAniNode:cc.Node,bossAni:cc.Node,_guideObj:null,_curSkillID:0,_curHero:null,_HeroID:null,_herodata:null,_startTouchPos:null,_curSkillData:null,_curESkillData:null,_xhAddSpeed:5,_exhAddSpeed:5,_startJGtime:0,_contTime:0,_curTime:0,_levelData:null,_myTower:null,_enemyTower:null,_ybNum:0,_eybNum:0,_enemySZArr:null,_generalArr:[],_monsterArr:[],_carmeraTarget:null,_isOver:!1,_isGamePause:!1,_pauseArr:[],_zyTime:0,_zyTNum:0,_zsbuffArr:null,_zsSkillLv:null,_zsYJData:null,_ezyTime:0,_eHeroData:null,_curEHero:null,_winNum:0,_resumNum:0,_bossComing:0,_gkfpAward:null},onDestroy:function(){g_gameContol=null},onLoad:function(){if(g_gameContol=this,g_CheckIpad(this.node),G_gameEvent.init(),cc.vv.gameMgr.gameMusic=g_audios.gameBg,3==cc.vv.gameMgr.gameModel&&(cc.vv.gameMgr.gameMusic=g_audios.gamejjBg),cc.vv.gameMgr.playBGMusic(1),cc.vv.configMgr.isShowTip=!1,this._gkfpAward=[],this._mlist=[],this._zsbuffArr=[],this._resumNum=0,this._waveNum=0,this._countMonsterNum=0,this._ybNum=0,this._eybNum=0,this.sBuffData={},this._skillAtlas=g_getAtlas(g_skinAtlas.skill),this.uiControl=this.node.getChildByName("uiControl"),this.heroUi=this.uiControl.getChildByName("bottom").getChildByName("hero"),this.heroPro=this.heroUi.getChildByName("pro"),this.ybNode=this.uiControl.getChildByName("bottom").getChildByName("yb"),this.skillNode=this.uiControl.getChildByName("bottom").getChildByName("btn_skill"),this.wjCardList=this.uiControl.getChildByName("bottom").getChildByName("card"),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this._HeroID=g_DataMgr.pinfo.hasZBData.pf,this._herodata=g_getDataInArr(this._HeroID,G_zgHero),null!=this._herodata&&(this._herodata._zycount=0),1==cc.vv.gameMgr.gameModel)this._levelData=g_chapter[cc.vv.gameMgr.curChapeterId].lvInfo[cc.vv.gameMgr.curSelectLv];else if(2==cc.vv.gameMgr.gameModel)this._winNum=0,this._levelData=cc.vv.gameMgr.activeLvInfo[cc.vv.gameMgr.curActivityLv],this._isOver=!0;else if(3==cc.vv.gameMgr.gameModel){this._winNum=0,this._levelData=cc.vv.gameMgr.playerArr[g_DataMgr.rankSaveData.rankNum][g_DataMgr.rankSaveData.rankStar-1],this._exhAddSpeed=this._levelData.jlAddSpeed,this._startJGtime=this._levelData.time,this._enemySZArr=[];for(var t=this._levelData.zx,e=0;e<t.length;++e){var i=g_getDataInArr(t[e][0],cc.vv.gameMgr.enemyArr);null!=i&&(i.cd=0,i.lv=t[e][1],i.generalData=g_getDataInArr(i.skinID,cc.vv.gameMgr.generalList),this._enemySZArr.push(i))}this._isOver=!0,this._eHeroData=g_getDataInArr(this._levelData.zgID[0],cc.vv.gameMgr.enemyArr),null!=this._eHeroData&&(this._eHeroData.lv=this._levelData.zgID[1],this._eHeroData._zycount=0)}var r=G_createPrefab(g_loadPrefab.bgground);null!=r&&(this.node.getChildByName("bg").addChild(r),1==cc.vv.gameMgr.gameModel?r.getChildByName("bg_"+cc.vv.gameMgr.curChapeterId).active=!0:3==cc.vv.gameMgr.gameModel?r.getChildByName("bg_jjc").active=!0:2==cc.vv.gameMgr.gameModel?r.getChildByName("bg_sl").active=!0:r.getChildByName("bg_1").active=!0);var n=null!=g_DataMgr.gameInfo.gkCompelet[3]&&g_DataMgr.gameInfo.gkCompelet[3]>=5;this.heroUi.active=n,this._curSkillID=g_DataMgr.towerInfo.skillID,this.initShowUI(),this.createJD(),-1==g_DataMgr.g_guideNum?(this.btnPause.active=!0,this.showSZGeneral(),this.showHero(),this.setEHero(),this.showGameBj(),9==g_DataMgr.g_guideTaskNum&&(this.setPause(!0),this.showGuideTask(!0)),g_DataMgr.g_tgCount>0&&(g_DataMgr.g_tgCount--,0==g_DataMgr.g_tgCount&&(g_DataMgr.isCanXslb=!0,g_DataMgr.g_xslbTime=600)),0==g_DataMgr.gameInfo.gkCompelet[2]&&g_DataMgr.isNewUser&&2==cc.vv.gameMgr.curChapeterId&&1==this._levelData.ID&&(g_DataMgr.isNewUser=!1,g_DataMgr.isCanXslb=!0,g_DataMgr.g_xslbTime=600)):18==g_DataMgr.g_guideNum?(this.showSZGeneral(),this.showGuide(!0),this.setPause(!0)):(this.moveCarmera.x=a,this.uiYbLabel.node.parent.active=!1,this.showGuide(!0))},restartGame:function(){this.node.stopAllActions(),this.unschedule(this.updataZSYJ);for(var t=0;t<this._generalArr.length;++t)this._generalArr[t].destroy(),this._generalArr.splice(t,1),t--;for(var e=0;e<this._monsterArr.length;++e)this._monsterArr[e].destroy(),this._monsterArr.splice(e,1),e--;for(var a=this.proNode.children,i=[],r=2;r<a.length;++r)i.push(a[r]);for(var n=0;n<i.length;++n)i[n].destroy(),i.splice(n,1),n--;this._curHero=null,this._curEHero=null,this._herodata._zycount=0,this.moveCarmera.x=0,this._waveNum=0,this._countMonsterNum=0,this._curTime=0,this._ybNum=0,this._eybNum=0,this._xhAddSpeed=5,this.initShowUI(),this.createJD(),this.showSZGeneral(),this.showHero(),this.setEHero(),3==cc.vv.gameMgr.gameModel||2==cc.vv.gameMgr.gameModel?2==cc.vv.gameMgr.gameModel&&cc.vv.gameMgr.curActivityLv%2==0?this.showGameFP():this.showGameBj():this._isOver=!1},showGameBj:function(){if(3==cc.vv.gameMgr.gameModel||2==cc.vv.gameMgr.gameModel){var t=G_createPrefab(g_loadPrefab.gameBj);null!=t&&this.node.addChild(t)}},showGameFP:function(){if(2==cc.vv.gameMgr.gameModel){var t=G_createPrefab(g_loadPrefab.gkCard);null!=t&&this.node.addChild(t)}},getZS:function(){for(var t=0;t<this._zsbuffArr.length;++t){if(1==this._zsbuffArr[t].type&&null!=this._myTower){var e=this._myTower.getComponent("tower");if(null!=e){var a=e._maxHP+Math.ceil(e._maxHP*this._zsbuffArr[t].value/100);e.setOpenHD(a)}}if(2==this._zsbuffArr[t].type)for(var i=this.wjCardList.children,r=0;r<i.length;++r)i[r].getComponent("gItem").setCD(this._zsbuffArr[t]);if(6==this._zsbuffArr[t].type&&(this._xhAddSpeed+=Math.ceil(this._xhAddSpeed*this._zsbuffArr[t].value/100)),8==this._zsbuffArr[t].type&&(this._zsSkillLv=this._zsbuffArr[t].value),9==this._zsbuffArr[t].type&&(this._zsYJData=this._zsbuffArr[t],this.unschedule(this.updataZSYJ),this.schedule(this.updataZSYJ,this._zsYJData.time)),10==this._zsbuffArr[t].type&&(this._ybNum=this._zsbuffArr[t].value),11==this._zsbuffArr[t].type&&this.skillNode.getComponent("skillCD").setbuffCD(this._zsbuffArr[t]),12==this._zsbuffArr[t].type&&null!=this._myTower){var n=this._myTower.getComponent("tower");null!=n&&n.setZS(this._zsbuffArr[t])}}this._isOver=!1,2==cc.vv.gameMgr.gameModel&&this.showWaveMonster()},updataZSYJ:function(){this.createGeneral(this._zsYJData.yjInfo[0],this._zsYJData.yjInfo[1],1)},initShowUI:function(){this.uitime.string=G_time(this._curTime);var t="\u7b2c"+cc.vv.gameMgr.curChapeterId+"-"+this._levelData.ID+"\u5173";2==cc.vv.gameMgr.gameModel&&(t="\u7b2c"+this._levelData.ID+"\u5c42"),3==cc.vv.gameMgr.gameModel&&(t="\u7b2c"+this._levelData.ID+"\u540d "+this._levelData.name),this.uiLevel.string=t,this.uiYbLabel.string=this._ybNum,0!=this._curSkillID&&(this._curSkillData=g_getDataInArr(this._curSkillID,cc.vv.gameMgr.zSkillList),this.skillNode.active=!0,this.skillNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("skill_"+this._curSkillData.ID),-1==g_DataMgr.g_guideNum&&this.skillNode.getComponent("skillCD").setCD(this._curSkillData)),3==cc.vv.gameMgr.gameModel&&0!=this._levelData.skill[0]&&(this._curESkillData=g_getDataInArr(this._levelData.skill[0],cc.vv.gameMgr.zSkillList))},createJD:function(){this._myTower=G_createPrefab(g_loadPrefab.tower),null!=this._myTower&&(this.bodyNode.addChild(this._myTower),this._myTower.position=i[0],this._myTower.getComponent("tower").initMyTower(),this._generalArr.push(this._myTower)),this._enemyTower=G_createPrefab(g_loadPrefab.tower),null!=this._enemyTower&&(this.bodyNode.addChild(this._enemyTower),this._enemyTower.position=i[1],this._enemyTower.getComponent("tower").initETower(this._levelData.towerID),this._monsterArr.push(this._enemyTower))},showAni:function(t,e,a){this.scheduleOnce(function(){g_moveAct(.05,cc.v2(t.x,e.y),t,null,1)},a)},showSZGeneral:function(){for(var t=g_DataMgr.pinfo.curSZArr,e=0;e<t.length;++e){var a=cc.instantiate(this.generalItem);this.wjCardList.addChild(a),a.position=r[e],a.y=-1e3,a.getComponent("gItem").initGItem(t[e]);var i=.1+.1*e;this.showAni(a,r[e],i)}1==cc.vv.gameMgr.gameModel&&this.showWaveMonster()},showWaveMonster:function(){if(3!=cc.vv.gameMgr.gameModel){this._countMonsterNum=0,this._mlist=this._levelData.lvArr[this._waveNum],2==cc.vv.gameMgr.gameModel&&2==this._waveNum&&this.showBossComing();for(var t=0;t<this._mlist.length;++t)this.createMonster(this._mlist[t])}},showBossComing:function(){var t=this;cc.vv.gameMgr.playEffect(g_audios.warning),console.log("==============showBossComing==========="),this.bossAni.active=!0;var e=this.bossAni.getComponent(sp.Skeleton),a="t1";2==cc.vv.gameMgr.gameModel&&(a="t2"),e.setSkin(a),e.setAnimation(0,"animation",!1),e.setCompleteListener(function(e){e.animation&&e.animation.name,t.bossAni.active=!1}),this._bossComing=0},createMonster:function(t,e){var a=this,i=t[2];1==e&&(i=0),t[0]>1e4&&this.showBossComing(),Util.delayFun(this.node,function(){if(!a._isOver){var e=g_loadPrefab.monster;t[0]>5e3&&t[0]<1e4&&(e=g_loadPrefab.mboss),t[0]>1e4&&(e=g_loadPrefab.boss);var i=G_createPrefab(e);if(null!=i){a.bodyNode.addChild(i);var r=g_getRandom(-200,200);i.position=cc.v2(1e3,r),t[0]>1e4?i.getComponent("boss").initBoss(t[0],t[1]):i.getComponent("monster").initMonster(t[0],t[1]),a._monsterArr.push(i)}a._countMonsterNum++,a._countMonsterNum>=a._mlist.length&&a._waveNum<a._levelData.lvArr.length-1&&(a._waveNum++,a.showWaveMonster())}},i)},createGeneral:function(t,e,a){this.uiYbLabel.string=this._ybNum;var i=G_createPrefab(g_loadPrefab.general);if(null!=i){this.bodyNode.addChild(i);var r=g_getRandom(-200,200);i.position=cc.v2(-280,r),i.getComponent("general").initGenneral(t,e,a),this._generalArr.push(i)}},createHero:function(t){if(1==t){if(null!=this._curEHero||null==this._eHeroData)return;if(this._curEHero=G_createPrefab(g_loadPrefab.ehero),null!=this._curEHero){this.bodyNode.addChild(this._curEHero);var e=g_getRandom(-200,200);this._curEHero.position=cc.v2(1e3,e),this._curEHero.getComponent("ehero").initEHero(this._eHeroData.ID,this._eHeroData.lv),this._monsterArr.push(this._curEHero)}}else{if(null!=this._curHero)return;if(this._curHero=G_createPrefab(g_loadPrefab.hero),null!=this._curHero){this.bodyNode.addChild(this._curHero);var a=g_getRandom(-200,200);this._curHero.position=cc.v2(-280,a),this._curHero.getComponent("hero").initHero(),this._generalArr.push(this._curHero)}}},setEHero:function(){null!=this._eHeroData&&(this._ezyTime=this._eHeroData.dTime+10*this._eHeroData._zycount,this._eHeroData._zycount++)},showHero:function(){if(this.heroUi.active){var t=g_getAtlas(g_skinAtlas.zbicon);this.heroUi.getChildByName("hbg").getChildByName("head").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame("zb_"+this._HeroID),this.heroPro.active=!0,this.heroUi.getChildByName("fighting").active=!1,this._zyTime=this._herodata.dTime+10*this._herodata._zycount,this._zyTNum=60*this._zyTime,this.heroPro.getChildByName("bar").getComponent(cc.Sprite).fillRange=this._zyTNum/(60*(this._herodata.dTime+10*this._herodata._zycount)),this.heroPro.getChildByName("time").getComponent(cc.Label).string=this._zyTime+"\u79d2\u540e\u53ef\u652f\u63f4",this._herodata._zycount++}},checkGeneral:function(){for(var t=0;t<this._generalArr.length;++t)null!=this._generalArr[t]&&null!=this._generalArr[t].parent||(this._generalArr.splice(t,1),--t)},checkMonster:function(){for(var t=0;t<this._monsterArr.length;++t)null!=this._monsterArr[t]&&null!=this._monsterArr[t].parent||(this._monsterArr.splice(t,1),--t)},setGameOver:function(t,e){var a=this;this._isOver||(this._isOver=!0,1==e&&(this._resumNum=1),this.scheduleOnce(function(){if(3==cc.vv.gameMgr.gameModel){if(t){if(a._winNum++,g_DataMgr.rankSaveData.rankStar--,0==g_DataMgr.rankSaveData.rankStar)return g_DataMgr.rankSaveData.rankNum++,g_DataMgr.rankCount++,g_DataMgr.rankSaveData.rankNum>=cc.vv.gameMgr.playerArr.length&&(g_DataMgr.rankSaveData.rankNum=cc.vv.gameMgr.playerArr.length-1,g_DataMgr.rankCount=0),g_DataMgr.rankSaveData.rankStar=10,g_DataMgr.saveRankData(),void a.showOver(t);g_DataMgr.saveRankData(),a._levelData=cc.vv.gameMgr.playerArr[g_DataMgr.rankSaveData.rankNum][g_DataMgr.rankSaveData.rankStar-1],a._exhAddSpeed=a._levelData.jlAddSpeed,a._startJGtime=a._levelData.time,a._enemySZArr=[];for(var e=a._levelData.zx,i=0;i<e.length;++i){var r=g_getDataInArr(e[i][0],cc.vv.gameMgr.enemyArr);null!=r&&(r.cd=0,r.lv=e[i][1],r.generalData=g_getDataInArr(r.skinID,cc.vv.gameMgr.generalList),a._enemySZArr.push(r))}return a._eHeroData=g_getDataInArr(a._levelData.zgID[0],cc.vv.gameMgr.enemyArr),null!=a._eHeroData&&(a._eHeroData.lv=a._levelData.zgID[1],a._eHeroData._zycount=0),void a.restartGame()}}else if(2==cc.vv.gameMgr.gameModel&&t)return a._winNum++,cc.vv.gameMgr.curActivityLv++,g_DataMgr.yjslSaveData.historyNum<cc.vv.gameMgr.curActivityLv&&(g_DataMgr.yjslSaveData.historyNum=cc.vv.gameMgr.curActivityLv,g_DataMgr.saveYJSLData()),cc.vv.gameMgr.curActivityLv>=cc.vv.gameMgr.activeLvInfo.length?(g_DataMgr.yjslSaveData.slLevel=0,g_DataMgr.saveYJSLData(),void a.showOver(t)):(g_DataMgr.yjslSaveData.slLevel<cc.vv.gameMgr.curActivityLv&&(g_DataMgr.yjslSaveData.slLevel=cc.vv.gameMgr.curActivityLv,g_DataMgr.saveYJSLData()),a._levelData=cc.vv.gameMgr.activeLvInfo[cc.vv.gameMgr.curActivityLv],void a.restartGame());if(console.log("======showOver===1="),3==cc.vv.gameMgr.gameModel&&!t&&0==a._resumNum){var n=G_createPrefab(g_loadPrefab.resum);return null!=n&&a.node.addChild(n),void a._resumNum++}console.log("======showOver===2="),a.showOver(t)},1))},showOver:function(t){var e=G_createPrefab(g_loadPrefab.gameOver);null!=e&&(this.node.addChild(e),e.getComponent("gameOver").initGameOver(t))},checkAddBuff:function(t,e,a){var i=g_getDataInArr(e,cc.vv.gameMgr.skillList),r=g_gameContol._monsterArr;1==a&&(r=this._generalArr);for(var n=0;n<r.length;++n)if(g_checkLen(t.position,r[n].position)<=i.distance){var s=r[n].getComponent("monster");null==s&&(s=r[n].getComponent("boss")),null==s&&(s=r[n].getComponent("general")),null==s&&(s=r[n].getComponent("hero")),null==s&&(s=r[n].getComponent("enemy")),null==s&&(s=r[n].getComponent("ehero")),null!=s&&s.setSkillBuff(e)}},checkJians:function(t,e,a,i){if(19==e||503==e){var r=g_getDataInArr(e,cc.vv.gameMgr.skillList),n=this._monsterArr;1==i&&(n=this._generalArr);for(var s=0;s<n.length;++s)if(!n[s]._isjs&&g_checkLen(t.position,n[s].position)<=r.distance){var o=n[s].getComponent("monster");null==o&&(o=n[s].getComponent("boss")),null==o&&(o=n[s].getComponent("general")),null==o&&(o=n[s].getComponent("hero")),null==o&&(o=n[s].getComponent("enemy")),null==o&&(o=n[s].getComponent("ehero")),null!=o&&o.setJiansAttack(a)}}},checkAttack:function(t,e){var a=g_getDataInArr(e,cc.vv.gameMgr.skillList),i=null,r=t.getComponent("general");if(null==r&&(r=t.getComponent("hero")),null!=r?i=this._monsterArr:(null==(r=t.getComponent("monster"))&&(r=t.getComponent("boss")),null==r&&(r=t.getComponent("enemy")),null==r&&(r=t.getComponent("ehero")),null!=r&&(i=this._generalArr)),null==r&&null!=(r=t.getComponent("bullet"))&&(i=r._isMy?this._monsterArr:this._generalArr),null!=r){var n=0,s=0;1009!=e&&1014!=e&&6!=e&&7!=e&&35!=e||(n=1);for(var o=0;o<i.length;++o){var l=!0;9!=e&&22!=e&&25!=e&&33!=e&&35!=e&&41!=e||(l=i[o].y>=t.y-70&&i[o].y<=t.y+70),1014!=e&&1019!=e||(l=i[o].y>=t.y-50&&i[o].y<=t.y+100);var g=g_checkLen(t.position,i[o].position),c=a.distance;if(38==e&&(c=a.cdistance),g<=c&&l){var h=i[o].getComponent("monster");if(null==h&&(h=i[o].getComponent("hero")),null==h&&(h=i[o].getComponent("general")),null==h&&(h=i[o].getComponent("tower")),null==h&&(h=i[o].getComponent("boss")),null==h&&(h=i[o].getComponent("enemy")),null==h&&(h=i[o].getComponent("ehero")),null!=h){if(38==e&&null!=i[o].getComponent("tower"))continue;h.byAttack(t,e,n),38==e&&h.setSkillBuff(e)}if(0==++s)break}}}},checkHX:function(t,e){var a=this._generalArr;1==e&&(a=this._monsterArr);for(var i=0;i<a.length;++i){var r=a[i].getComponent("general");null==r&&(r=a[i].getComponent("hero")),null==r&&(r=a[i].getComponent("boss")),null==r&&(r=a[i].getComponent("monster")),null==r&&(r=a[i].getComponent("enemy")),null==r&&(r=a[i].getComponent("ehero")),null!=r&&r.setAddHP(t)}},showGSkillAni:function(t,e){if(9!=e){var a=cc.instantiate(this.gskillPre);if(null!=a){this.skillAniNode.addChild(a),a.x=-1e3;var i=g_getAtlas(g_skinAtlas.head),r="head_"+t;a.getChildByName("head").getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame(r);var n=g_getDataInArr(e,cc.vv.gameMgr.stringList.skillStr);a.getChildByName("lb").getComponent(cc.Label).string=n.strName,cc.tween(a).to(.5,{position:cc.v2(0,a.y)},{easing:"sineInOut"}).delay(1).call(function(){a.destroy()}).start()}}},showSkill:function(t){var e=this,a=1==t?this.node.getChildByName("skillAttack"):this.node.getChildByName("skillAttack1");a.active=!0,1==t&&(a.x=this.moveCarmera.x,8==this._curSkillData.ID&&(a.x+=100));var i=g_getEffect(this._curSkillData.effectID,g_effects);if(null!=i){var r=a.getComponent(sp.Skeleton);null!=r&&cc.vv.configMgr.loadSpine(i,function(t){r.skeletonData=t,r.loop=!1,r.animation="",r.timeScale=1,r.setSkin("default"),e.onAniCompleted(r,a),r.setAnimation(0,"animation",!1)})}},onAniCompleted:function(t,e){var a=this,i=e;t.setStartListener(function(e){e.animation&&e.animation.name,t.setTrackEventListener(e,function(t,e){"hit"==e.data.name&&a.showSkillAttack(i),"hit2"==e.data.name&&a.showSkillAttack(i,e.data.name)})}),t.setCompleteListener(function(t){"animation"==(t.animation?t.animation.name:"")&&(i.active=!1)})},showSkillAttack:function(t,e){var a=g_DataMgr.towerInfo.skillLvMap[""+this._curSkillData.ID];a=null==a?0:a,null!=this._zsSkillLv&&(a=this._zsSkillLv);var i=this._monsterArr;if(2==this._curSkillData.ID||6==this._curSkillData.ID||8==this._curSkillData.ID){var r={attack:this._curSkillData.attack[a],crit:0,hurtSub:0};"hit2"==e&&(r.attack=Math.round(10*this._curSkillData.attack[a]/100));for(var n=0;n<i.length;++n)if(g_checkLen(t.position,i[n].position)<=this._curSkillData.distance){var s=i[n].getComponent("monster");null==s&&(s=i[n].getComponent("boss")),null==s&&(s=i[n].getComponent("enemy")),null==s&&(s=i[n].getComponent("ehero")),null!=s&&(t._sxData=r,8==this._curSkillData.ID&&(i[n]._dsTimeLv=a),s.byAttack(t,this._curSkillData,10))}}if(4==this._curSkillData.ID){for(var o={attack:this._curSkillData.attack[a],crit:0,hurtSub:0},l=this.moveCarmera,g=null,c=null,h=0;h<i.length;++h)if(g_checkLen(l.position,i[h].position)<=this._curSkillData.cdistance){var _=i[h].getComponent("monster");if(null==_&&(_=i[h].getComponent("boss")),null==_&&(_=i[h].getComponent("enemy")),null==_&&(_=i[h].getComponent("ehero")),null!=_){if(null==g){g=_._curHP,c=h;continue}g<_._curHP&&(g=_._curHP,c=h)}}if(null==c)return!1;var u=i[c].getComponent("monster");if(null==u&&(u=i[c].getComponent("boss")),null==u&&(u=i[c].getComponent("enemy")),null==u&&(u=i[c].getComponent("ehero")),null!=u){l._sxData=o,i[c]._stopDJ=!0,u.byAttack(l,this._curSkillData,10),cc.vv.gameMgr.playEffect(g_audios.dalei);for(var d=0;d<i.length;++d)if(c!=d&&g_checkLen(i[c].position,i[d].position)<=this._curSkillData.distance){var f=i[d].getComponent("monster");null==f&&(f=i[d].getComponent("boss")),null==f&&(f=i[d].getComponent("enemy")),null==f&&(f=i[d].getComponent("ehero")),null!=f&&f.byAttack(l,this._curSkillData,10)}}}if(5==this._curSkillData.ID){this._ybNum+=Math.round(this._ybNum*this._curSkillData.supplyNum[a]/100);for(var p=this.wjCardList.children,m=0;m<p.length;++m)p[m].getComponent("gItem").setCD(null,1)}if(7==this._curSkillData.ID){this.sBuffData.attackBuff=this._curSkillData.buffid[a];for(var v=this._generalArr,D=0;D<v.length;++D){var C=v[D].getComponent("general");null==C&&(C=v[D].getComponent("hero")),null!=C&&(C.showHitEffect(this._curSkillData.effectID),C._buffArr.push(this.sBuffData.attackBuff),C.setBuffCD(this.sBuffData.attackBuff))}}return!0},onBtnClick:function(t){var e=this;if("btn_pause"==t.target.name){this.setPause(!0);var a=G_createPrefab(g_loadPrefab.set);null!=a&&(this.node.addChild(a),a.getComponent("set").initSet(this.node))}else if("btn_skill"==t.target.name){if(!t.target.getChildByName("cdok").active)return void cc.vv.configMgr.addTips("\u6280\u80fd\u8fd8\u5728\u51b7\u5374\u4e2d\uff0c\u4e0d\u53ef\u91ca\u653e!");var i=g_DataMgr.towerInfo.skillLvMap[""+this._curSkillData.ID];if(i=null==i?0:i,null!=this._zsSkillLv&&(i=this._zsSkillLv),1==this._curSkillData.ID&&(this.sBuffData.xhAddSpeed=Math.round(this._xhAddSpeed*this._curSkillData.buffid[i][0]/100),this.showSkill(),this.ybNode.getChildByName("sani").active=!0,this.scheduleOnce(function(){e.sBuffData.xhAddSpeed=0,e.ybNode.getChildByName("sani").active=!1},this._curSkillData.buffid[i][1])),2!=this._curSkillData.ID&&6!=this._curSkillData.ID&&8!=this._curSkillData.ID||this.showSkill(1),4==this._curSkillData.ID||5==this._curSkillData.ID||7==this._curSkillData.ID){if(!this.showSkillAttack())return}else if(3==this._curSkillData.ID)for(var r=this._curSkillData.summonID[i],n=this._curSkillData.summonLv[i],s=this._curSkillData.summonNum[i],o=0;o<s;++o){var l=G_createPrefab(g_loadPrefab.general);if(null!=l){this.bodyNode.addChild(l);var g=g_getRandom(-100,100);l.position=cc.v2(this.moveCarmera.x-280,g),l.getComponent("general").initGenneral(r,n,1),this._generalArr.push(l)}}t.target.getComponent("skillCD").setCD(this._curSkillData);var c=this.uiControl.getChildByName("bottom").getChildByName("skillani"),h=G_createPrefab(g_loadPrefab.uieffect);null!=h&&(c.addChild(h),h.getComponent("effect").initSkillEffect(this._curSkillData.ID))}},onTouchStart:function(t){this.moveCarmera.stopAllActions();var e=t.getLocation(),a=this.node.convertToNodeSpaceAR(e);this._startTouchPos=a},onTouchMove:function(t){var e=t.getLocation(),i=this.node.convertToNodeSpaceAR(e),r=this._startTouchPos.x-i.x;this.moveCarmera.x+=r,this.moveCarmera.x<=0&&(this.moveCarmera.x=0),this.moveCarmera.x>=a&&(this.moveCarmera.x=a),this._startTouchPos=i},onTouchEnd:function(){var t=this;cc.tween(this.moveCarmera).delay(1).call(function(){t._startTouchPos=null}).start()},findMinlen:function(t,e,a){for(var i=null,r=-1,n=-1,s=0;s<t.length;++s)if(!(0==a&&e.x>t[s].x||1==a&&e.x<t[s].x)){var o=g_checkLen(t[s].position,e.position);0!=s?o<r&&(r=o,n=s):(r=o,n=s)}return-1!=r?i=t[n]:i},checkTarget:function(){var t=this.findMinlen(this._generalArr,this._enemyTower,1);return null!=t&&null==t.getComponent("tower")||null==(t=this.findMinlen(this._monsterArr,this._myTower,0)).getComponent("tower")?t:null},setPause:function(t){this._isGamePause=t,t?this.node.pauseAllActions():this.node.resumeAllActions()},carmeraMove:function(){null==this._startTouchPos&&(this._carmeraTarget=this.checkTarget(),null!=this._carmeraTarget&&(this._carmeraTarget.x<this.moveCarmera.x?this._carmeraTarget.x>0&&this._carmeraTarget.x<a?(this.moveCarmera.x-=5,this._carmeraTarget.x>=this.moveCarmera.x&&(this.moveCarmera.x=this._carmeraTarget.x)):(this.moveCarmera.x-=5,this.moveCarmera.x<=0&&(this.moveCarmera.x=0)):this._carmeraTarget.x>this.moveCarmera.x?this._carmeraTarget.x>0&&this._carmeraTarget.x<a?(this.moveCarmera.x+=5,this._carmeraTarget.x<=this.moveCarmera.x&&(this.moveCarmera.x=this._carmeraTarget.x)):(this.moveCarmera.x+=5,this.moveCarmera.x>=a&&(this.moveCarmera.x=a)):this.moveCarmera.x=this._carmeraTarget.x))},showESkillAttack:function(t,e){var a=this._levelData.skill[1],i=this._generalArr;if(2==this._curESkillData.ID||6==this._curESkillData.ID||8==this._curESkillData.ID){var r={attack:this._curESkillData.attack[a],crit:0,hurtSub:0};"hit2"==e&&(r.attack=Math.round(10*this._curESkillData.attack[a]/100));for(var n=0;n<i.length;++n)if(g_checkLen(t.position,i[n].position)<=this._curESkillData.distance){var s=i[n].getComponent("general");null==s&&(s=i[n].getComponent("hero")),null!=s&&(t._sxData=r,8==this._curESkillData.ID&&(i[n]._dsTimeLv=a),s.byAttack(t,this._curESkillData,10))}}if(4==this._curESkillData.ID){for(var o={attack:this._curESkillData.attack[a],crit:0,hurtSub:0},l=this.moveCarmera,g=null,c=null,h=0;h<i.length;++h)if(g_checkLen(l.position,i[h].position)<=this._curESkillData.cdistance){var _=i[h].getComponent("general");if(null==_&&(_=i[h].getComponent("hero")),null!=_){if(null==g){g=_._curHP,c=h;continue}g<_._curHP&&(g=_._curHP,c=h)}}if(null==c)return!1;var u=i[c].getComponent("general");if(null==u&&(u=i[c].getComponent("hero")),null!=u){l._sxData=o,i[c]._stopDJ=!0,u.byAttack(l,this._curESkillData,10),cc.vv.gameMgr.playEffect(g_audios.dalei);for(var d=0;d<i.length;++d)if(c!=d&&g_checkLen(i[c].position,i[d].position)<=this._curSkillData.distance){var f=i[d].getComponent("general");null==f&&(f=i[d].getComponent("hero")),null!=f&&f.byAttack(l,this._curSkillData,10)}}}if(5==this._curESkillData.ID){this._eybNum+=Math.round(this._eybNum*this._curESkillData.supplyNum[a]/100);for(var p=0;p<this._enemySZArr.length;++p)this._enemySZArr[p].cd>0&&(this._enemySZArr[p].cd=0)}if(7==this._curESkillData.ID){this.sBuffData.attackBuff=this._curESkillData.buffid[a];for(var m=this._monsterArr,v=!1,D=0;D<m.length;++D){var C=m[D].getComponent("enemy");null==C&&(C=m[D].getComponent("ehero")),null!=C&&(C.showHitEffect(this._curESkillData.effectID),C._buffArr.push(this.sBuffData.attackBuff),C.setBuffCD(this.sBuffData.attackBuff),v=!0)}if(!v)return!1}return!0},onAniECompleted:function(t,e){var a=this,i=e;t.setStartListener(function(e){e.animation&&e.animation.name,t.setTrackEventListener(e,function(t,e){"hit"==e.data.name&&a.showESkillAttack(i),"hit2"==e.data.name&&a.showESkillAttack(i,e.data.name)})}),t.setCompleteListener(function(t){"animation"==(t.animation?t.animation.name:"")&&(i.active=!1)})},checkEheroSkill:function(){var t=this;if(3==cc.vv.gameMgr.gameModel&&null!=this._curESkillData&&(null==this._curESkillData.cdTime&&(this._curESkillData.cdTime=this._curESkillData.CD),!(this._curESkillData.cdTime>0))){var e=this._levelData.skill[1];if(1==this._curESkillData.ID)this.sBuffData.exhAddSpeed=Math.round(this._exhAddSpeed*this._curESkillData.buffid[e][0]/100),this.scheduleOnce(function(){t.sBuffData.exhAddSpeed=0},this._curESkillData.buffid[e][1]);else if(2==this._curESkillData.ID||6==this._curESkillData.ID||8==this._curESkillData.ID){var a=this.node.getChildByName("eskillAttack");a.active=!0,a.x=this.moveCarmera.x,8==this._curESkillData.ID&&(a.x-=100);var i=g_getEffect(this._curESkillData.effectID,g_effects);if(null==i)return;var r=a.getComponent(sp.Skeleton);null!=r&&cc.vv.configMgr.loadSpine(i,function(e){r.skeletonData=e,r.loop=!1,r.animation="",r.timeScale=1,r.setSkin("default"),t.onAniECompleted(r,a),r.setAnimation(0,"animation",!1)})}else if(4==this._curESkillData.ID||5==this._curESkillData.ID||7==this._curESkillData.ID){if(!this.showESkillAttack())return}else if(3==this._curESkillData.ID)for(var n=this._curESkillData.summonID[e],s=this._curESkillData.summonLv[e],o=this._curESkillData.summonNum[e],l=0;l<o;++l){var g=G_createPrefab(g_loadPrefab.enemy);if(null!=g){this.bodyNode.addChild(g);var c=g_getRandom(-100,100);g.position=cc.v2(this.moveCarmera.x+280,c),g.getComponent("enemy").initEnemy(n,s,1),this._monsterArr.push(g)}}this._curESkillData.cdTime=this._curESkillData.CD}},checkCreatEnemy:function(){if(3==cc.vv.gameMgr.gameModel){for(var t=[],e=0;e<this._enemySZArr.length;++e){var a=this._enemySZArr[e];0==a.cd&&a.generalData.zgcost<=this._eybNum&&t.push(a)}if(0!=t.length){var i=t[g_getRandom(0,t.length-1)],r=g_loadPrefab.enemy,n=G_createPrefab(r);if(null!=n){this.bodyNode.addChild(n);var s=g_getRandom(-200,200);n.position=cc.v2(1e3,s),n.getComponent("enemy").initEnemy(i.ID,i.lv),this._monsterArr.push(n),i.cd=i.generalData.cdtime,this._eybNum-=i.generalData.zgcost}}}},update:function(){if(G_countLineTime++,60==G_countLineTime&&(G_countLineTime=0,g_DataMgr.ncountLineTime++,300==g_DataMgr.ncountLineTime&&(g_DataMgr.ncountLineTime=0,g_DataMgr.pinfo.strengNum<MAX_STRENGTH&&(g_DataMgr.pinfo.strengNum++,g_DataMgr.savePowerUseLTime())),1==g_DataMgr.gjsyData.guidegj&&g_DataMgr.gjsyData.onLineTime<3600*g_DataMgr.gjMaxTime&&(g_DataMgr.gjsyData.onLineTime++,g_DataMgr.saveGjData()),g_DataMgr.g_xslbTime>0&&(g_DataMgr.g_xslbTime--,0==g_DataMgr.g_xslbTime&&(g_DataMgr.g_tgCount=5),g_DataMgr.tuisSaveData.tsTime=g_DataMgr.g_xslbTime,g_DataMgr.saveTuisData()),g_DataMgr.mhTime>0&&(g_DataMgr.mhTime--,g_DataMgr.tuisSaveData.mhTime=g_DataMgr.mhTime,g_DataMgr.saveTuisData())),!this._isGamePause&&!this._isOver){if(this._contTime++,60==this._contTime){this._contTime=0,this._curTime++,this._startJGtime>0&&this._startJGtime--,this.uitime.string=G_time(this._curTime),this.sBuffData.xhAddSpeed=null==this.sBuffData.xhAddSpeed?0:this.sBuffData.xhAddSpeed;var t=this._xhAddSpeed+this.sBuffData.xhAddSpeed;if(this._ybNum+=t,this.sBuffData.exhAddSpeed=null==this.sBuffData.exhAddSpeed?0:this.sBuffData.exhAddSpeed,this._eybNum+=this._exhAddSpeed+this.sBuffData.exhAddSpeed,this.uiYbLabel.string=this._ybNum,this._zyTime>0&&(this._zyTime--,this.heroPro.getChildByName("time").getComponent(cc.Label).string=this._zyTime+"\u79d2\u540e\u53ef\u652f\u63f4",0==this._zyTime&&(this.heroPro.active=!1,this.heroUi.getChildByName("fighting").active=!0,this.createHero())),this._ezyTime>0&&(this._ezyTime--,0==this._ezyTime&&this.createHero(1)),null!=this._curESkillData&&this._curESkillData.cdTime>0&&this._curESkillData.cdTime--,null!=this._enemySZArr)for(var e=0;e<this._enemySZArr.length;++e)this._enemySZArr[e].cd>0&&this._enemySZArr[e].cd--}this._zyTNum>0&&(this._zyTNum--,this.heroPro.getChildByName("bar").getComponent(cc.Sprite).fillRange=this._zyTNum/(60*(this._herodata.dTime+10*(this._herodata._zycount-1)))),G_refreshZindex(this.bodyNode.children),this.carmeraMove(),0==this._startJGtime&&this.checkCreatEnemy(),this.checkEheroSkill()}},showGuide:function(t){var e=this;if(t){if(null!=this._guideObj)return;this._guideObj=G_createPrefab(g_loadPrefab.guideGame),null!=this._guideObj&&this.node.addChild(this._guideObj)}else null!=this._guideObj&&(this._guideObj.destroy(),this._guideObj=null,g_DataMgr.g_guideNum++),4==g_DataMgr.g_guideNum&&(this.showSZGeneral(),this.scheduleOnce(function(){e.setPause(!0),e.showGuide(!0)},2)),5==g_DataMgr.g_guideNum&&(this.uiYbLabel.node.parent.active=!0,this.scheduleOnce(function(){e.showGuide(!0)},1)),6==g_DataMgr.g_guideNum&&this.scheduleOnce(function(){e.setPause(!0),e.showGuide(!0)},2),19==g_DataMgr.g_guideNum&&(0==g_DataMgr.towerInfo.skillID&&(g_DataMgr.towerInfo.skillID=2,g_DataMgr.towerInfo.skillLvMap[""+g_DataMgr.towerInfo.skillID]=0,g_DataMgr.saveTower()),this._curSkillID=g_DataMgr.towerInfo.skillID,this.scheduleOnce(function(){e.initShowUI(),e.setPause(!0),e.showGuide(!0)},5))},showGuideTask:function(t){if(t){if(null!=this._guideObj)return;this._guideObj=G_createPrefab(g_loadPrefab.guideTask),null!=this._guideObj&&this.node.addChild(this._guideObj)}else null!=this._guideObj&&(this._guideObj.destroy(),this._guideObj=null,g_DataMgr.g_guideTaskNum++)}}),cc._RF.pop()},{}],general:[function(t,e){"use strict";cc._RF.push(e,"eb111f3/J9GLKk8DwaT5GfZ","general"),cc.Class({extends:cc.Component,properties:{_index:0,_playID:0,_heroState:0,_generalData:null,_curHero:null,_heroSxData:null,_heroInitData:null,_buffArr:null,_maxHP:0,_curHP:0,_curAni:null,_isMove:!1,_target:null,_skillIndex:0,_skillID:0,_skillCDMap:null,_isAttack:!1,_isCanAttack:!0,_curHead:null,_hdNode:null,_gjEffect:null,_jgsEffect:null,_fyEffect:null,_isBqu:0,_linkTime:0,_linkEffect:null,_cfTime:0,_caofEffect:null,_xyEffect:null,_xyTime:0,_isJX:!1,_jxTime:0,_jxEffect:null,_jsEffect:null,_jsTime:0,_bingEffect:null,_zbingEffect:null,_duEffect:null,_count:0,_isMoveY:!1,_hxTime:null,_hxBuff:null},onLoad:function(){this._zyBuffData={},this._buffArr=[],this._skillCDMap={},this._hpPro=this.node.getChildByName("hp"),this._spine=this.node.getChildByName("body").getComponent(sp.Skeleton)},setFSSx:function(t){var e=this;this._target=t,this._curHero.skill[1]=-1,this._heroSxData.HP=.35*this._heroSxData.HP,this._heroSxData.attack=.35*this._heroSxData.attack,this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.scheduleOnce(function(){e._curHP=0,e._hpPro.active=!1,e.setChangeAnimate("die",!1)},10)},showYjEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.getComponent("effect").initEffectByAttack("textrue/skilleffect/zhaohuanyuanjun"))},getZS:function(){if(3==cc.vv.gameMgr.gameModel)for(var t=g_gameContol._zsbuffArr,e=0;e<t.length;++e)3==t[e].type&&(this._heroSxData.moveSpeed+=Math.round(this._generalData.moveSpeed*t[e].value/100)),4==t[e].type&&(this._heroSxData.HP+=Math.round(this._generalData.HP*t[e].value/100)),5==t[e].type&&(this._heroSxData.HP-=Math.round(this._generalData.intervalTime*t[e].value/100)),7==t[e].type&&(this._heroSxData.attack+=Math.round(this._generalData.attack*t[e].value/100))},initGenneral:function(t,e,a){var i,r=this;this._buffArr=[],this._skillCDMap={},this.starPos=this.node.position,this._curHero=g_getDataInArr(t,cc.vv.gameMgr.generalList),this._curSaveHero=g_getDataInArr(t,g_DataMgr.generalSaveArr),console.log("======initGenneral=======",this._curHero);var n=null==e?this._curSaveHero.level:e,s=this._curSaveHero.pzLevel,o=g_getDataInArr(this._curHero.sxArr,cc.vv.gameMgr.generaljjList);this._curHero.sxID=o.sxArr[s-this._curHero.quality][n],this._generalData=g_getDataInArr(this._curHero.sxID,cc.vv.gameMgr.generalSxList),this._heroSxData=g_getDataInArr(this._curHero.sxID,cc.vv.gameMgr.generalSxList);var l=cc.vv.gameMgr.zgList[g_DataMgr.pinfo.level-1];if(this._heroSxData.HP+=Math.round(this._generalData.HP*l.HP/100),this._heroSxData.attack+=Math.round(this._generalData.attack*l.attack/100),this.getZS(),this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._speed=this._heroSxData.moveSpeed,1==a&&this.showYjEffect(),0!=cc.vv.gameMgr.gameModel&&(this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP),null!=(i=g_getEffect(t,g_heroRes))){if(this._ID=t,cc.vv.configMgr.loadSpine(i,function(t){r._spine.skeletonData=t,r._spine.loop=!0,r._spine.animation="idle",r._spine.timeScale=1,r._spine.setSkin("default"),r.onAniCompleted()}),39==this._ID&&(this._hxTime=0,this._skillCDMap[39]=!0),4==this._ID||24==this._ID||36==this._ID){var g=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList).buffid[this._curSaveHero.skillLv];if(24==this._ID)this._buffArr.push(g[0]);else for(var c=0;c<g.length;++c)this._buffArr.push(g[c]);this.getZYBuffData()}this._isMove=!0,this._target=g_gameContol._enemyTower,this.showHead()}},showHead:function(){this._curHead=cc.instantiate(g_gameContol.tbiaoPre),g_gameContol.proNode.addChild(this._curHead),this._curHead.getChildByName("ld").active=!0,this._curHead.x=-200;var t=g_getAtlas(g_skinAtlas.head),e="shead_"+this._ID;this._curHead.getChildByName("head").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(e)},playSoundEffect:function(t){var e=t.split("_");"sound"==e[0]&&cc.vv.gameMgr.playEffect(g_audios[e[e.length-1]])},createBullet:function(){var t=this,e=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(e,function(e){var a=cc.instantiate(e);if(null!=a){t.node.parent.addChild(a);var i=a.getComponent("bullet");null!=i&&i.initGeneralBullet(t.node,t._skillID)}})},onAniCompleted:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){if(console.log("-------generalevent-----",a),"hit"==a.data.name&&(console.log("-------hit----------",a.data.name),null!=t._target&&null!=t._target.parent)){var i=t._target.getComponent("tower");if(null==i&&(i=t._target.getComponent("monster")),null==i&&(i=t._target.getComponent("boss")),null==i&&(i=t._target.getComponent("enemy")),null==i&&(i=t._target.getComponent("ehero")),null!=i)if(6==t._skillID||7==t._skillID||9==t._skillID||10==t._skillID||22==t._skillID||23==t._skillID||25==t._skillID||27==t._skillID||33==t._skillID||35==t._skillID||37==t._skillID||41==t._skillID)g_gameContol.checkAttack(t.node,t._skillID);else{var r=0;2==t._skillID&&(r=1),i.byAttack(t.node,t._skillID,r)}}"shoot"==a.data.name&&(console.log("-------shoot----------",a.data.name),t.createBullet()),"hit_fly"==a.data.name&&console.log("-------hit_fly----------",a.data.name),"hit_fall"==a.data.name&&console.log("-------hit_fall----------",a.data.name),"hit_over"==a.data.name&&console.log("-------hit_over----------",a.data.name),t.playSoundEffect(a.data.name)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";console.log("------general--------",a),"attack"!=a&&"skill"!=a||(8==t._skillID&&t.showFS(),t._isAttack=!1,t.setChangeAnimate("idle",!0),2==t._skillID&&(t._isMove=!0)),"die"==a&&(t.node.parent=null,g_gameContol.checkGeneral(),t._curHead.destroy(),t.node.destroy())})},showFS:function(){var t=G_createPrefab(g_loadPrefab.general);null!=t&&(g_gameContol.bodyNode.addChild(t),t.position=cc.v2(this.node.x+50,this.node.y-50),t.getComponent("general").initGenneral(this._ID),t.getComponent("general").setFSSx(this._target),g_gameContol._generalArr.push(t))},setChangeAnimate:function(t,e){this._curAni!=t&&(this._curAni=t,this._spine.setAnimation(0,t,e))},getZYBuffData:function(){for(var t=this._buffArr,e=[],a=0;a<t.length;++a)if(0!=t[a]){var i=g_getDataInArr(t[a],cc.vv.gameMgr.buffList);e.push(i)}this._zyBuffData.attackSpeed=0,this._zyBuffData.moveSpeed=0;for(var r=0;r<e.length;++r)"attackspeed"===e[r].type&&(this._zyBuffData.attackSpeed+=this._heroSxData.intervalTime*e[r].value/100),"sattackspeed"===e[r].type&&(this._zyBuffData.attackSpeed-=this._heroSxData.intervalTime*e[r].value/100),"movespeed"===e[r].type&&(this._zyBuffData.moveSpeed+=this._heroSxData.moveSpeed*e[r].value/100),"smovespeed"===e[r].type&&(this._zyBuffData.moveSpeed-=this._heroSxData.moveSpeed*e[r].value/100);this._heroSxData._buffArr=this._buffArr},setBuffCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.buffList);"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||(null==this._gjEffect&&(this._gjEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._gjEffect),this._gjEffect._buffCount=0,this._gjEffect.getComponent("effect").initGj()),null!=this._gjEffect&&this._gjEffect._buffCount++),"defence"===a.type&&(null==this._fyEffect&&(this._fyEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._fyEffect),this._fyEffect._buffCount=0,this._fyEffect.getComponent("effect").initFY()),null!=this._fyEffect&&this._fyEffect._buffCount++),this.scheduleOnce(function(){for(var i=0;i<e._buffArr.length;++i)if(e._buffArr[i]==t){e._buffArr.splice(i,1);break}e.getZYBuffData(),"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||null!=e._gjEffect&&(e._gjEffect._buffCount--,0==e._gjEffect._buffCount&&(e._gjEffect.destroy(),e._gjEffect=null)),"defence"===a.type&&null!=e._fyEffect&&(e._fyEffect._buffCount--,0==e._fyEffect._buffCount&&(e._fyEffect.destroy(),e._fyEffect=null))},a.time)},setSkillCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.skillList);if("buff"==a.effect_Type){for(var i=a.buffid[this._curSaveHero.skillLv],r=0;r<i.length;++r)this.setBuffCD(i[r]),this._buffArr.push(i[r]);this.getZYBuffData()}var n=a.CD;this.scheduleOnce(function(){e._skillCDMap[""+t]=!0},n)},setAttack:function(t){var e=this;if(this._isCanAttack&&!this._isAttack&&"behit"!==this._curAni){this._isAttack=!0,this._skillIndex=t,this._skillID=this._curHero.skill[this._skillIndex],this._skillCDMap[""+this._skillID]=!1,6!=this._skillID&&this.setSkillCD(this._skillID);var a=null;0==t?a="attack":(a="skill",console.log("=========\u6280\u80fd\u91ca\u653e==========",this._skillID)),this.setChangeAnimate(a,!1),this._skillID>=1&&this._skillID<=500&&g_gameContol.showGSkillAni(this._ID,this._skillID),this._isCanAttack=!1,this._zyBuffData.attackSpeed=null==this._zyBuffData.attackSpeed?0:this._zyBuffData.attackSpeed;var i=this._heroSxData.intervalTime-this._zyBuffData.attackSpeed;i=i<0?0:i,this.scheduleOnce(function(){e._isCanAttack=!0},i),5!=this._skillID&&13!=this._skillID&&14!=this._skillID&&15!=this._skillID&&23!=this._skillID&&28!=this._skillID&&32!=this._skillID&&34!=this._skillID&&38!=this._skillID||this.setSkill(this._skillID)}},setSkill:function(t){var e=this,a=g_getDataInArr(this._skillID,cc.vv.gameMgr.skillList),i=g_getDataInArr(a.buffid[this._curSaveHero.skillLv][0],cc.vv.gameMgr.buffList),r=this._heroSxData.attack*i.value/100;if(13==t&&this.scheduleOnce(function(){g_gameContol.checkHX(r)},.1),14==t&&this.scheduleOnce(function(){e.setOpenHD(r)},.1),15==t){var n=this._target.getComponent("monster");null==n&&(n=this._target.getComponent("boss")),null==n&&(n=this._target.getComponent("enemy")),null==n&&(n=this._target.getComponent("ehero")),null!=n&&n.setJiaoxie(i.time)}if(5==t||34==t)for(var s=g_gameContol._monsterArr,o=0;o<s.length;++o)if(g_checkLen(s[o].position,this.node.position)<=a.distance){var l=s[o].getComponent("monster");null==l&&(l=s[o].getComponent("boss")),null==l&&(l=s[o].getComponent("enemy")),null==l&&(l=s[o].getComponent("ehero")),null!=l&&(5==t&&l.setChaof(i.time,this.node),34==t&&l.setLink(i.time))}if(23==t){var g=g_getEffect(a.effectID,g_heroEffectRes);if(null==g)return;var c=G_createPrefab(g_loadPrefab.effect);null!=c&&(this.node.parent.addChild(c),c.position=cc.v2(this._target.x,this._target.y+100),c.getComponent("effect").initBoom(g,"a1")),"dfbuff"==a.effect_Type&&g_gameContol.checkAddBuff(this.node,t)}if(28==t&&"wfbuff"==a.effect_Type&&g_gameContol.checkAddBuff(this.node,t,1),32==t&&g_checkLen(this._target.position,this.node.position)<=a.distance){var h=this._target.getComponent("monster");null==h&&(h=this._target.getComponent("boss")),null==h&&(h=this._target.getComponent("enemy")),null==h&&(h=this._target.getComponent("ehero")),null!=h&&h.setChaof(i.time,this.node)}if(38==t){if(null==g_getEffect(a.effectID,g_heroEffectRes))return;var _=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(_,function(a){var i=cc.instantiate(a);if(null!=i){e.node.parent.addChild(i),i.position=cc.v2(e._target.x,e._target.y-50);var r=i.getComponent("bullet");null!=r&&r.initSkillBullet(e.node,t)}})}},setOpenHD:function(t){this._hdNode=G_createPrefab(g_loadPrefab.effect),null!=this._hdNode&&(this.node.addChild(this._hdNode),this._hdNode.getComponent("effect").initHD(t))},setAddHP:function(t){if(0!=this._curHP){var e=G_createPrefab(g_loadPrefab.effect);null!=e&&(this.node.addChild(e),e.getComponent("effect").initHX()),this._curHP+=t,this._curHP>=this._maxHP&&(this._curHP=this._maxHP),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.showAttackZi(t,!1,5)}},byAttack:function(t,e,a){var i=this,r=null,n=t.getComponent("bullet");if(10==a?r=(n=t)._sxData:null!=n?r=n._heroSxData:(null==(n=t.getComponent("monster"))&&(n=t.getComponent("boss")),null==n&&(n=t.getComponent("enemy")),null==n&&(n=t.getComponent("ehero")),null!=n&&(r=n._heroSxData)),null!=n){var s=null;if(10==a)s=e;else{if(0==n._curHP)return;if(this.setSkillBuff(e),2003==e||2004==e||2005==e)return;s=g_getDataInArr(e,cc.vv.gameMgr.skillList)}if(null==s)return;10==a&&(4==s.ID&&1==this.node._stopDJ&&(this.node._stopDJ=!1,this.showLDEffect(s,1)),8==s.ID&&this.setSkillBuff(s.ID,1)),18==s.ID&&this.showLDEffect(s),this._heroSxData._buffArr=this._buffArr;var o=cc.vv.gameMgr.getAttackNum(r,this._heroSxData,s);if(0!=o.xxNum&&null!=n._curHP){var l=Math.round(o.xxNum*o.rattack/100);n.setAddHP(l)}if(40==s.ID&&null!=n._curHP&&0!=o.rattack){var g=g_getDataInArr(e,g_DataMgr.generalSaveArr),c=s.buffid[g.skillLv][0],h=g_getDataInArr(c,cc.vv.gameMgr.buffList),_=Math.round(h.value*o.rattack/100);n.setAddHP(_)}if(0!=o.jsAttack){this.node._isjs=!0;var u=n._ID;g_gameContol.checkJians(this.node,u,o.jsAttack,1)}var d=o.rattack;if(0==d)return void n.showMissEffect();if(this.showHitEffect(s.hitEffectID),0!=d&&this.showAttackZi(d,o.bj,s.hitPZType),null!=this._hdNode?this._hdNode.getComponent("effect").setHDhp(d):0==this._isBqu&&(this._curHP-=d),this._curHP<=0&&0==this._isBqu&&(21==this._ID?(this._isBqu=1,this._curHP=1,this.setSkillBuff(this._ID)):(this._curHP=0,this.setChangeAnimate("die",!1))),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.checkHX(),0!=d&&this.showFTAttack(d,t),24==this._ID){for(var f=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList).buffid[this._curSaveHero.skillLv],p=!1,m=0;m<this._buffArr.length;++m)if(this._buffArr[m]==f[1]){p=!0;break}if(this._curHP/this._maxHP<.5&&!p){for(var v=0;v<this._buffArr.length;++v)if(this._buffArr[v]==f[0]){this._buffArr.splice(v,1),v--;break}this._buffArr.push(f[1]),this.getZYBuffData()}}if(26==this._ID&&0!=d){var D=1-this._curHP/this._maxHP;this._heroSxData.attack+=Math.round(this._generalData.attack*D),this._heroSxData.intervalTime-=this._generalData.intervalTime*D,this._heroSxData.intervalTime<0&&(this._heroSxData.intervalTime=0)}1012!=e&&1010!=e&&1003!=e&&1019!=e&&2007!=e&&2008!=e&&2009!=e||this.showXY(e),1013==o.xyID&&this.showXY(o.xyID),1016==e&&o.bj&&(a=1)}if(1==a){if(0==this._curHP)return;this.node.stopAllActions();var C=t.position;null!=t._firstPos&&(C=t._firstPos);var A=C.y>=this.node.y?1:-1,y=100,b=Math.abs(C.y-this.node.y)*y/Math.abs(C.x-this.node.x),w=this.node.y-b*A;1009==e&&(y=50,w=this.node.y),w>200&&(w=200),w<-200&&(w=-200);var k=this.node.x-1*y;k<-280&&(k=-280);var I=cc.v2(k,w);cc.tween(this.node).to(.5,{position:I}).call(function(){i.showXY(e),i._isMove=!0}).start()}},checkHX:function(){var t=this;if(39==this._ID&&0==this._hxTime&&0!=this._skillCDMap[39]&&this._curHP/this._maxHP<.3){var e=g_getDataInArr(this._ID,cc.vv.gameMgr.skillList),a=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),i=e.buffid[a.skillLv][0],r=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._hxBuff=r,this._hxTime=r.time,this._skillCDMap[39]=!1,this.scheduleOnce(function(){t._skillCDMap[39]=!0,null==t._hxTime&&(t._hxTime=0)},e.CD)}},showFTAttack:function(t,e){if(0!=t&&29==this._ID){var a=this._ID,i=g_getDataInArr(a,cc.vv.gameMgr.skillList),r=g_getDataInArr(this._ID,g_DataMgr.generalSaveArr),n=i.buffid[r.skillLv][0],s=g_getDataInArr(n,cc.vv.gameMgr.buffList),o=Math.ceil(t*s.value/100),l=e.getComponent("boss");null==l&&(l=e.getComponent("monster")),null==l&&(l=e.getComponent("enemy")),null==l&&(l=e.getComponent("ehero")),null!=l&&l.setJiansAttack(o,1)}},setJiansAttack:function(t,e){if(0!=this._curHP){var a=t;1!=e&&(this.showHitEffect(1),0!=a&&this.showAttackZi(a,!1)),this._curHP-=a,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.checkHX()}},showLDEffect:function(t,e){var a=g_getEffect(t.bSpineID,g_heroEffectRes),i=G_createPrefab(g_loadPrefab.effect);null!=i&&(this.node.addChild(i),i.position=cc.v2(0,0),i.getComponent("effect").initEffect(a),this.showXY(t.ID,e))},showXY:function(t,e){if(0!=this._curHP&&(2==t||6==t||18==t||35==t||2007==t||2008==t||2009==t||1003==t||1019==t||1012==t||1013==t||1010==t||2010==t||1==e)){var a=g_getDataInArr(t,cc.vv.gameMgr.skillList);1==e&&(a=g_getDataInArr(t,cc.vv.gameMgr.zSkillList));var i=a.buffid[0];if(2==t||6==t||18==t||35==t){var r=g_getDataInArr(t,g_DataMgr.generalSaveArr);i=a.buffid[r.skillLv][0]}var n=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._isAttack=!1,this.setChangeAnimate("idle",!0),null==this._xyEffect&&(this._xyEffect=G_createPrefab(g_loadPrefab.effect),null!=this._xyEffect&&(this.node.addChild(this._xyEffect),this._xyEffect.position=cc.v2(0,this._hpPro.y-10),this._xyEffect.getComponent("effect").initXuanyun())),this._xyTime+=60*n.time}},setJiaoxie:function(t){0!=this._curHP&&(this._isJX=!0,this._jxTime+=t,null==this._jxEffect&&(this._jxEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._jxEffect),this._jxEffect.position=cc.v2(0,110),this._jxEffect.getComponent("effect").initEffectByType("textrue/effect/buff_jiaoxie",1)))},setChaof:function(t,e){0!=this._curHP&&(this._cfTime+=t,this._target=e,null==this._caofEffect&&(this._caofEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._caofEffect),this._caofEffect.position=cc.v2(0,110),this._caofEffect.getComponent("effect").initEffectByType("textrue/effect/buff_beichaofeng",1)))},setLink:function(t){0!=this._curHP&&(this._linkTime+=t,null==this._linkEffect&&(this._linkEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._linkEffect),this._linkEffect.getComponent("effect").initEffectByType("textrue/effect/buff_037",1)))},setSkillBuff:function(t,e){var a=this;if(0!=this._curHP){var i=g_getDataInArr(t,cc.vv.gameMgr.skillList);if(1==e&&(i=g_getDataInArr(t,cc.vv.gameMgr.zSkillList)),16==t||21==t||38==t||2004==t||1008==t||1018==t||2003==t||2005==t||1==e){if(null!=this._jsEffect&&16==t)return;var r=i.buffid[0];if(16==t||21==t||38==t){var n=g_getDataInArr(t,g_DataMgr.generalSaveArr);if(r=i.buffid[n.skillLv][0],38==t&&-1!=this._buffArr.findIndex(function(t){return t==r}))return}if(this._buffArr.push(r),this.setBuffCD(r),1008==t||2003==t||2005==t)return;var s=g_getDataInArr(r,cc.vv.gameMgr.buffList);if(21==t)return void this.scheduleOnce(function(){a._isBqu=2,a._curHP=0,a.setChangeAnimate("die",!1),a._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=a._curHP/a._maxHP},s.time);if(1018==t)return null==this._duEffect?(this._duEffect=G_createPrefab(g_loadPrefab.effect),null!=this._duEffect&&(this.node.addChild(this._duEffect),this._duEffect.getComponent("effect").initDu(),this._duEffect._buffCount=1)):this._duEffect._buffCount++,void this.scheduleOnce(function(){null!=a._duEffect&&(a._duEffect._buffCount--,0==a._duEffect._buffCount&&(a._duEffect.destroy(),a._duEffect=null))},s.time);if(1==e&&8==t)return null==this._zbingEffect?(this._zbingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._zbingEffect&&(this.node.addChild(this._zbingEffect),this._zbingEffect.getComponent("effect").initzdBing(),this._zbingEffect._buffCount=1)):this._zbingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._zbingEffect&&(a._zbingEffect._buffCount--,0==a._zbingEffect._buffCount&&(a._zbingEffect.getComponent("effect").setPoBing(),a._zbingEffect=null))},s.time[this.node._dsTimeLv]);if(16==t){var o=this.node.getChildByName("body");return o.color=cc.Color.fromHEX(cc.color(0,0,0),"#3A7DFE"),null==this._bingEffect?(this._bingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._bingEffect&&(this.node.addChild(this._bingEffect),this._bingEffect.getComponent("effect").initBing(),this._bingEffect._buffCount=1)):this._bingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._bingEffect&&(a._bingEffect._buffCount--,0==a._bingEffect._buffCount&&(o.color=cc.Color.fromHEX(cc.color(0,0,0),"#FFFFFF"),a._bingEffect.destroy(),a._bingEffect=null))},s.time)}}if(23==t||28==t){for(var l=g_getDataInArr(t,g_DataMgr.generalSaveArr),g=i.buffid[l.skillLv],c=0;c<g.length;++c){var h=g[c];this._buffArr.push(h),this.setBuffCD(h)}if(28==t)return void this.getZYBuffData();var _=g_getDataInArr(g[0],cc.vv.gameMgr.buffList),u=G_createPrefab(g_loadPrefab.effect);if(null!=u){var d=g_getEffect(_.effect,g_heroEffectRes);if(null==d)return;this.node.addChild(u),u.y=200,u.getComponent("effect").initBuffEffect(d,_.time)}}}},showMissEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.position=cc.v2(0,50),t.getComponent("effect").initEffectByAttack("textrue/effect/eff_miss"))},showHitEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.addChild(a),a.position=cc.v2(0,50),a.getComponent("effect").initEffectByAttack(e))},showAttackZi:function(t,e,a){var i=this;cc.vv.configMgr.loadPrefab(g_prefabPath.piaozi,function(r){var n=cc.instantiate(r);i.node.addChild(n),n.x=0,n.y=50;var s=0;e?s=3:null!=a&&(s=a),n.getComponent("piaozi").showNumBytype(t,s,1)})},changeTarget:function(){null!=this._target&&null!=this._target.parent||(this._target=g_gameContol._enemyTower),null!=this._target.getComponent("tower")&&0!=g_gameContol._monsterArr.length&&(this._target=g_gameContol.findMinlen(g_gameContol._monsterArr,this.node,0))},checkAttack:function(){if(!this._isJX&&!this._isMove&&null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(null==this._target.parent||null==this._target)return this.changeTarget(),void(null!=this._target&&(this._isMove=!0));if(null==this._target.getComponent("tower")||0!=this._target.getComponent("tower")._curHP){for(var t=this._curHero.skill,e=[],a=0;a<t.length;++a)-1!=t[a]&&(e.push(a),null==this._skillCDMap[""+t[a]]&&(this._skillCDMap[""+t[a]]=!0));var i=[],r=g_checkLen(this.node.position,this._target.position);if(!(r>this._curHero.attackDistance)){for(var n=0;n<e.length;++n){var s=e[n];if(4!=t[s]&&21!=t[s]&&24!=t[s]&&26!=t[s]&&29!=t[s]&&36!=t[s]&&39!=t[s]&&(14!=t[s]||null==this._hdNode)){var o=g_getDataInArr(t[s],cc.vv.gameMgr.skillList);null!=this._target.getComponent("tower")&&null!=o&&"all"!=o.target_Type||0!=s&&this._skillCDMap[""+t[s]]&&r<=o.distance&&i.push(n)}}if(0==i.length)return r<=this._curHero.attackDistance&&-1!=t[0]?(this.setAttack(0),1):(this._isMove=!0,3);var l=e[i[g_getRandom(0,i.length-1)]];return this.setAttack(l),1}this._isMove=!0}}},setMove:function(){if(this._isMove&&!this._isAttack)if(null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(this.changeTarget(),null!=this._target){this.setChangeAnimate("run",!0);var t=this._target.x>=this.node.x?1:-1,e=this._target.y>=this.node.y?1:-1;this._zyBuffData.moveSpeed=null==this._zyBuffData.moveSpeed?0:this._zyBuffData.moveSpeed;var a=this._speed+this._zyBuffData.moveSpeed,i=Math.abs(this._target.y-this.node.y)*a/Math.abs(this._target.x-this.node.x);if(this._isMoveY?this.node.y+=a*e:(this.node.x+=a*t,this.node.y+=i*e),this._curHead.x=400*Math.abs(this.node.x+280)/1280-200,g_checkLen(this.node.position,this._target.position)<=this._curHero.attackDistance){var r=70;27!=this._ID&&9!=this._ID||(r=10),this.node.y>this._target.y+70||this.node.y<this._target.y-r?this._isMoveY=!0:(this._isMoveY=!1,this.setChangeAnimate("idle",!0),this._isMove=!1)}else this._isMoveY=!1}}else"run"===this._curAni&&this.setChangeAnimate("idle",!0)},update:function(){0==this._curHP||g_gameContol._isOver||g_gameContol._isGamePause?(g_gameContol._isOver||g_gameContol._isGamePause)&&"run"===this._curAni&&this.setChangeAnimate("idle",!0):(this.showBuffTime(),this.setMove(),this.checkAttack())},showBuffTime:function(){if(this._count++,60==this._count&&(this._count=0,this._jsTime>0&&(this._jsTime--,0==this._jsTime&&(this._jsEffect.destroy(),this._jsEffect=null)),this._jxTime>0&&(this._jxTime--,0==this._jxTime&&(this._jxEffect.destroy(),this._jxEffect=null,this._isJX=!1)),this._cfTime>0&&(this._cfTime--,0==this._cfTime&&(this._caofEffect.destroy(),this._caofEffect=null,this.changeTarget())),this._linkTime>0&&(this._linkTime--,0==this._linkTime&&(this._linkEffect.destroy(),this._linkEffect=null)),null!=this._hxTime&&this._hxTime>0)){this._hxTime--;var t=Math.round(this._hxBuff.value*this._maxHP/100);this.setAddHP(t),0==this._hxTime&&(this._hxTime=null,1==this._skillCDMap[39]&&(this._hxTime=0))}this._xyTime>0&&(this._xyTime--,0==this._xyTime&&(this._xyEffect.destroy(),this._xyEffect=null))}}),cc._RF.pop()},{}],getAward:[function(t,e){"use strict";cc._RF.push(e,"36d6coOM6xNC55lc3vtKBFO","getAward");var a=[[cc.v2(0,180),cc.v2(-180,-80),cc.v2(180,-80)],[cc.v2(-180,240),cc.v2(180,240),cc.v2(0,60),cc.v2(-180,-120),cc.v2(180,-120)]];cc.Class({extends:cc.Component,properties:{cardItem:cc.Prefab,propItem:cc.Prefab,awardNode:cc.Node,btnTrue:cc.Node,_awardArr:null,_ngIndex:0,_newGeneralArr:null,_videoNum:0},onLoad:function(){if(this._ngIndex=0,this._newGeneralArr=[],this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),this._bg=this.node.getChildByName("bg"),this._bgAani=this.node.getChildByName("bgAni"),9==g_DataMgr.g_guideNum){var t=this.btnTrue.getChildByName("finger"),e=cc.vv.gameMgr.stringList.guideStr[g_DataMgr.g_guideNum];t.getChildByName("talk").getChildByName("lb").getComponent(cc.Label).string=e.gstr,t.getChildByName("talk").active=!1,t.active=!0,this.node.getChildByName("blocklayer").active=!0}if(3==g_DataMgr.g_guideTaskNum||13==g_DataMgr.g_guideTaskNum){13==g_DataMgr.g_guideTaskNum&&g_DataMgr.g_guideTaskNum++;var a=this.btnTrue.getChildByName("finger"),i=cc.vv.gameMgr.stringList.guideTaskStr[g_DataMgr.g_guideTaskNum];a.getChildByName("talk").getChildByName("lb").getComponent(cc.Label).string=i.strMs,a.getChildByName("talk").active=!1,a.active=!0,3==g_DataMgr.g_guideTaskNum&&g_DataMgr.g_guideTaskNum++,this.node.getChildByName("blocklayer").active=!0}cc.vv.gameMgr.playEffect(g_audios.gxhd)},setAni:function(t,e){cc.tween(e).delay(t).to(.5,{scale:1},{easing:"backInOut"}).start()},showSJAni:function(t){var e=this,a=this._bg.getChildByName("effect").getComponent(sp.Skeleton);this.awardNode.scale=0,a.setCompleteListener(function(t){"open"==(t.animation?t.animation.name:"")&&a.setAnimation(0,"idle",!0)}),a.setAnimation(0,"open",!1),this.setAni(.2,this.awardNode);var i=this._bg.getChildByName("btn_true"),r=this._bg.getChildByName("btn_double");1==t?(r.active=!0,g_moveAct(.5,cc.v2(-150,i.y),i),g_moveAct(.5,cc.v2(150,r.y),r)):g_moveAct(.5,cc.v2(0,i.y),i),this.node.getChildByName("blocklayer").active&&this.scheduleOnce(function(){e.node.getChildByName("blocklayer").active=!1},1)},initAward:function(t,e){var a=this.getPosList(t,3),i=[];this._awardArr=t;for(var r=0;r<t.length;++r){var n=cc.instantiate(this.propItem);this.awardNode.addChild(n),n.position=a[r];var s=t[r].propType,o=t[r].getNum,l="prop_"+s;if(s>50&&s<60){var g=s-50;g>5&&(g=5),l="s_"+s,n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+g)}else if(s>60&&s<80)l="skill_"+(s-60),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(l);else if(s>100){var c=s-100;l="head_"+c;var h=g_getDataInArr(c,cc.vv.gameMgr.generalList);n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+h.quality),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(l),0!=g_getDataInArr(c,g_DataMgr.generalSaveArr).getType||this.checkYYNewwj(i,c)||i.push(c)}var _=null;0==s?(_=g_getDataInArr(t[r].zbID,cc.vv.gameMgr.equipList),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+_.icon),n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+_.quality)):s<60&&(n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(l)),n.getChildByName("num").getComponent(cc.Label).string=o}this._newGeneralArr=i,this.showNewWJ(),4==g_DataMgr.g_guideTaskNum&&0==i.length||this.getAwardBy(1),this.showSJAni(e)},initAwardBy:function(t,e){var a=this,i=this.getPosList(t,5);this._awardArr=t;for(var r=0;r<t.length;++r){var n=cc.instantiate(this.propItem);this.awardNode.addChild(n),n.position=i[r];var s=t[r].propType,o=t[r].getNum,l="prop_"+s;if(s>50&&s<60){var g=s-50;g>5&&(g=5),l="s_"+s,n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+g)}else if(s>60&&s<80)l="skill_"+(s-60),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(l);else if(s>100){var c=s-100;l="head_"+c;var h=g_getDataInArr(c,cc.vv.gameMgr.generalList);n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+h.quality),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(l)}var _=null;0==s?(_=g_getDataInArr(t[r].zbID,cc.vv.gameMgr.equipList),n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+_.icon),n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+_.quality)):s<60&&(n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(l)),n.getChildByName("num").getComponent(cc.Label).string=o}this.btnTrue.active=!1,this.getAwardBy(e),this.showSJAni(),Util.delayFun(this.node,function(){12==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!0),1!=g_DataMgr.g_guideJDNum&&4!=g_DataMgr.g_guideJDNum&&9!=g_DataMgr.g_guideJDNum||g_hallContol.showGuideJD(!0),a.destroyFun()},2)},showLBAni:function(t){var e=this;this._bgAani.active=!0;var a=this._bgAani.getComponent(sp.Skeleton),i="t1";1==t&&(i="t2"),2==t&&(i="t3"),a.setSkin(i),a.setAnimation(0,"open",!1),a.setCompleteListener(function(t){t.animation&&t.animation.name,e._bgAani.active=!1})},initGetCard:function(t,e){var i=this;this._awardArr=t;var r=[],n=3==t.length?a[0]:a[1];this._bg.active=!1,this.showLBAni(e),Util.delayFun(this.node,function(){i._bg.active=!0,i.showSJAni();for(var e=0,a=function(a){e+=.1*a,Util.delayFun(i.node,function(){var e=cc.instantiate(i.cardItem);i._bg.addChild(e),e.y=-320;var r=t[a].propType-100;i.showWJInfo(r,e),g_moveAct(.2,n[a],e)},e);var s=t[a].propType-100;0!=g_getDataInArr(s,g_DataMgr.generalSaveArr).getType||i.checkYYNewwj(r,s)||r.push(s)},s=0;s<t.length;++s)a(s);i._newGeneralArr=r,Util.delayFun(i.node,function(){i.showNewWJ()},e+.1),14==g_DataMgr.g_guideTaskNum&&0==r.length||i.getAwardBy(1)},2.1)},checkYYNewwj:function(t,e){for(var a=0;a<t.length;++a)if(t[a]==e)return!0;return!1},showNewWJ:function(){if(0!=this._newGeneralArr.length&&!(this._ngIndex>=this._newGeneralArr.length)){var t=this._newGeneralArr,e=G_createPrefab(g_loadPrefab.getGeneral);null!=e&&(this.node.parent.addChild(e),e.getComponent("getGeneral").initGetGeneral(t[this._ngIndex],this.node),this._ngIndex++)}},showWJInfo:function(t,e,a){1==a&&(e.y=200);var i=g_getDataInArr(t,cc.vv.gameMgr.generalList),r=i.quality;e.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("k_"+r),e.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame("head_"+t);var n=g_getDataInArr(i.name,cc.vv.gameMgr.stringList.heroNameStr);if(e.getChildByName("lb").getComponent(cc.Label).string=n.str,e.getChildByName("pzlb").getComponent(cc.Label).string=PZ_NameArr[r-1],e.getChildByName("pzlb").color=cc.Color.fromHEX(cc.color(0,0,0),PZ_ColorArr[r-1]),1==a){var s=e.getChildByName("info");s.active=!0;var o=g_getDataInArr(i.sxArr,cc.vv.gameMgr.generaljjList);i.sxID=o.sxArr[0][0];var l=g_getDataInArr(i.sxID,cc.vv.gameMgr.generalSxList),g=s.getChildByName("sx");g.getChildByName("xl").getChildByName("lb").getComponent(cc.Label).string=l.HP,g.getChildByName("gj").getChildByName("lb").getComponent(cc.Label).string=l.attack;var c=i.skill[1];if(-1!=c){var h=g_getDataInArr(c,cc.vv.gameMgr.skillList),_=g_getDataInArr(h.string,cc.vv.gameMgr.stringList.skillStr),u=s.getChildByName("skill");u.getChildByName("bt").getComponent(cc.Label).string=_.strName,u.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame("gskill_"+c),u.getChildByName("ms").getComponent(cc.Label).string=_.strMs}}},getNewCardTS:function(){},getAwardBy:function(t){for(var e=this._awardArr,a=0;a<e.length;++a){var i=e[a].propType,r=e[a].getNum;if(i==G_PROPMENUE.COIN)g_DataMgr.pinfo.coin+=r*t;else if(i==G_PROPMENUE.DIAMOND)g_DataMgr.pinfo.yxCoin+=r*t;else if(i==G_PROPMENUE.BRICK)g_DataMgr.pinfo.ztCoin+=r*t;else if(i==G_PROPMENUE.POWER)g_DataMgr.pinfo.strengNum+=r*t;else if(i==G_PROPMENUE.JINGJSTONE)g_DataMgr.pinfo.jjCoin+=r*t;else if(i>50&&i<60){var n=i-50;g_DataMgr.pinfo.jxStone[n]+=r*t}else if(i>60&&i<80){var s=i-60;g_DataMgr.pinfo.skillStone[s]+=r*t}else if(i>100){var o=g_getDataInArr(i-100,g_DataMgr.generalSaveArr);1==o.getType?o.chipNum+=r*t:o.getType=1,g_DataMgr.saveGeneralData(o)}else if(0==i)for(var l=g_getDataInArr(e[a].zbID,cc.vv.gameMgr.equipList),g=r,c=0;c<g;++c){var h={gType:i,gID:l.ID,glv:0,gNum:0};g_getGoodFun(h)}}g_DataMgr.savePinfo(),null!=g_hallContol&&g_hallContol.updataInfo()},getPosList:function(t,e){for(var a=[],i=e,r=t.length,n=Math.ceil(r/i),s=1==n&&t.length<i?t.length:i,o=0;o<n;++o)for(var l=0+(n-1)/2*131-131*o,g=0;g<s;++g){var c=0-(s-1)/2*131+131*g,h=cc.v2(c,l);a.push(h)}return a},onShowVideo:function(){1==this._videoNum&&(this.getAwardBy(1),this.destroyFun()),this._videoNum=0},onBtnClick:function(t){var e=this;Util.isRunFast(.5)||(cc.vv.gameMgr.playEffect(g_audios.click),"btn_true"==t.target.name?this.destroyFun():"btn_double"==t.target.name&&(G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=1,this.onShowVideo())))},destroyFun:function(){10==g_DataMgr.g_guideNum&&g_hallContol.showGuide(!0),4!=g_DataMgr.g_guideTaskNum&&14!=g_DataMgr.g_guideTaskNum||g_hallContol.showGuideTask(!0),this.node.destroy()}}),cc._RF.pop()},{}],getGeneral:[function(t,e){"use strict";cc._RF.push(e,"aebce7mLE5CBLBRKoEiClIx","getGeneral"),cc.Class({extends:cc.Component,properties:{roleNode:cc.Node,ylAtlas:cc.SpriteAtlas,_pointParent:null,_gdata:null},onLoad:function(){this._bg=this.node.getChildByName("bg"),this.closeBtn=this.node.getChildByName("btn_close"),this.intro=this._bg.getChildByName("intro"),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this.skillAtlas=g_getAtlas(g_skinAtlas.skill)},initGetGeneral:function(t,e,a){this._pointParent=e,1==a&&(this._bg.getChildByName("effect").active=!1,this.closeBtn.active=!0),this.intro.getComponent(cc.Sprite).spriteFrame=this.ylAtlas.getSpriteFrame("g_"+t),this._gdata=g_getDataInArr(t,cc.vv.gameMgr.generalList);var i=this._gdata.quality,r=g_getDataInArr(this._gdata.name,cc.vv.gameMgr.stringList.heroNameStr);this._bg.getChildByName("name").getComponent(cc.Label).string=r.str+"("+PZ_NameArr[i-1]+")",this._bg.getChildByName("name").color=cc.Color.fromHEX(cc.color(0,0,0),PZ_ColorArr[i-1]);var n=this._bg.getChildByName("sc");n.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("sx_"+this._gdata.profession),n.getChildByName("lb").getComponent(cc.Label).string=r.sx;var s=this._bg.getChildByName("jin");s.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("sc_"+this._gdata.attackType),s.getChildByName("lb").getComponent(cc.Label).string=r.yj,this.updataGeneral(t);var o=g_getDataInArr(this._gdata.sxArr,cc.vv.gameMgr.generaljjList);this._gdata.sxID=o.sxArr[0][0];var l=g_getDataInArr(this._gdata.sxID,cc.vv.gameMgr.generalSxList),g=this._bg.getChildByName("sx");g.getChildByName("xl").getChildByName("lb").getComponent(cc.Label).string=l.HP,g.getChildByName("gj").getChildByName("lb").getComponent(cc.Label).string=l.attack;var c=this._gdata.skill[1];if(-1!=c){var h=g_getDataInArr(c,cc.vv.gameMgr.skillList),_=g_getDataInArr(h.string,cc.vv.gameMgr.stringList.skillStr),u=this._bg.getChildByName("skill");u.getChildByName("bt").getComponent(cc.Label).string=_.strName,u.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame("gskill_"+c),u.getChildByName("ms").getComponent(cc.Label).string=_.strMs}1!=a&&(null!=g_hallContol&&g_hallContol.checkChjs(),this.showAni())},updataGeneral:function(t){var e=this.roleNode.getComponent(sp.Skeleton),a=g_getEffect(t,g_heroRes);cc.vv.configMgr.loadSpine(a,function(t){e.skeletonData=t,e.loop=!0,e.animation="idle",e.timeScale=1,e.setSkin("default")})},showAni:function(){var t=this;this.node.scale=0,cc.tween(this.node).to(.25,{scale:1.1},{easing:"sineInOut"}).to(.05,{scale:1},{easing:"sineInOut"}).delay(2).call(function(){var e=t._pointParent;if(null!=e.parent&&null!=e){var a=e.getComponent("getAward");null==a&&(a=e.getComponent("gameOver")),null!=a&&a.showNewWJ()}t.destroyFun()}).start()},showGetAni:function(){var t=this._bg.getChildByName("effect").getComponent(sp.Skeleton);this.awardNode.scale=0,t.setCompleteListener(function(e){"open"==(e.animation?e.animation.name:"")&&t.setAnimation(0,"idle",!0)}),t.setAnimation(0,"open",!1)},onBtnClick:function(t){cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||"btn_close"==t.target.name&&this.destroyFun()},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],getts:[function(t,e,a){"use strict";cc._RF.push(e,"aa19dr/qHNHrpnsGUa4jMKy","getts");var i,r=a,n=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),s=function(t,e,a,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,i);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(s=(n<3?r(s):n>3?r(e,a,s):r(e,a))||s);return n>3&&s&&Object.defineProperty(e,a,s),s};Object.defineProperty(r,"__esModule",{value:!0});var o=cc._decorator,l=o.ccclass,g=o.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titlelabel=null,e.mslabel=null,e.timelabel=null,e.numNode=null,e.powerts=null,e.iconSprite=null,e.iconFrames=[],e._type=null,e._ptype=null,e._awardData=null,e._curTime=null,e._maxTime=null,e._videoNum=0,e}return n(e,t),e.prototype.start=function(){this._videoNum=0,cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},e.prototype.initGetTS=function(t){this._ptype=t,this._type=t-1,this._awardData=window.G_boxAwardArr[this._type],this.iconSprite.spriteFrame=this.iconFrames[this._type];var e=window.g_getDataInArr(this._awardData.msStr,cc.vv.gameMgr.stringList.boxGetStr);if(this.titlelabel.string=e.strName,this.mslabel.string=e.strMs,this._maxTime=this._awardData.maxTime,this._curTime=window.g_DataMgr.signData.bjNum,2==this._ptype&&(this._curTime=window.g_DataMgr.signData.bjzsNum),3==this._ptype&&(this._curTime=window.g_DataMgr.signData.jdBoxNum),4==this._ptype&&(this.powerts.active=!0,this.mslabel.node.active=!1,this._curTime=window.g_DataMgr.signData.powerNum),5==this._ptype&&(this._curTime=window.g_DataMgr.signData.zbBoxNum),this.timelabel.string=this._curTime,this._ptype<5){this.numNode.active=!0;var a=this._maxTime-this._curTime;a>=this._maxTime&&(a=0),this.numNode.getComponent(cc.Label).string="x"+this._awardData.awardArr[a]}else this.numNode.active=!1},e.prototype.showGetAward=function(){var t=[];if(this._ptype<5){var e=this._maxTime-this._curTime,a={propType:this._awardData.protype,getNum:this._awardData.awardArr[e],zbID:0};t.push(a)}else{if(5!=this._ptype)return;for(var i=cc.vv.gameMgr.shopList[3],r=i.times_2,n=0;n<r;++n){var s=window.g_getIndexByQZArr(i.weights_2),o=window.g_getDataInArr(i.dropGroup_2[s],cc.vv.gameMgr.dropList),l=window.g_getIndexByQZArr(o.weights),g={propType:o.type,getNum:o.num[l],zbID:o.dropitem[l]};t.push(g)}}var c=window.G_createPrefab(window.g_loadPrefab.getAward);if(null!=c&&(this.node.parent.addChild(c),c.getComponent("getAward").initAward(t,0)),this._curTime--,this.timelabel.string=this._curTime,1==this._ptype&&(window.g_DataMgr.signData.bjNum=this._curTime),2==this._ptype&&(window.g_DataMgr.signData.bjzsNum=this._curTime),3==this._ptype&&(window.g_DataMgr.signData.jdBoxNum=this._curTime),4==this._ptype&&(window.g_DataMgr.signData.powerNum=this._curTime),5==this._ptype&&(window.g_DataMgr.signData.zbBoxNum=this._curTime),this._ptype<5){var h=this._maxTime-this._curTime;h>=this._maxTime&&(h=0),this.numNode.getComponent(cc.Label).string="x"+this._awardData.awardArr[h]}window.g_DataMgr.saveSignData()},e.prototype.onShowVideo=function(){1==this._videoNum&&this.showGetAward(),this._videoNum=0},e.prototype.checkMdStr=function(){var t=window.g_RecordCount.video_coinbjGet;return 1==this._ptype&&(t=window.g_RecordCount.video_coinbjGet),2==this._ptype&&(t=window.g_RecordCount.video_jybjGet),3==this._ptype&&(t=window.g_RecordCount.video_jdGet),4==this._ptype&&(t=window.g_RecordCount.video_powerGet),5==this._ptype&&(t=window.g_RecordCount.video_zbGet),t},e.prototype.onBtnClick=function(t){var e=this;if(cc.vv.gameMgr.playEffect(window.g_audios.click),"btn_close"==t.target.name)this.destroyFun();else if("btn_videolq"==t.target.name){if(0==this._curTime)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");window.G_isMobile?(this._videoNum=0,window.g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(this._videoNum=1,this.onShowVideo())}},e.prototype.destroyFun=function(){this.node.destroy()},s([g(cc.Label)],e.prototype,"titlelabel",void 0),s([g(cc.Label)],e.prototype,"mslabel",void 0),s([g(cc.Label)],e.prototype,"timelabel",void 0),s([g(cc.Node)],e.prototype,"numNode",void 0),s([g(cc.Node)],e.prototype,"powerts",void 0),s([g(cc.Sprite)],e.prototype,"iconSprite",void 0),s([g([cc.SpriteFrame])],e.prototype,"iconFrames",void 0),s([l],e)}(cc.Component);r.default=c,cc._RF.pop()},{}],gkCard:[function(t,e){"use strict";cc._RF.push(e,"e40a9T1fbZA048Q5A/2Vpd6","gkCard"),cc.Class({extends:cc.Component,properties:{fpNodes:[cc.Node],btnContinue:cc.Node,tsLabel:cc.Label,_awardData:null,_getIndex:0,_getDataArr:null},onLoad:function(){this._getIndex=0,this._getDataArr=[],this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),this.initGkAward(),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},initGkAward:function(){var t=g_getRandom(0,cc.vv.gameMgr.fpList.length-1);this._awardData=cc.vv.gameMgr.fpList[t],this.tsLabel.string=this._awardData.intro},showfpAward:function(t,e){var a=this,i=e[1],r=0,n=this.fpNodes[t].getChildByName("fanka"),s=e[0],o="prop_"+s,l="zb_1",g="\u91d1\u5e01";if(2==s)g="\u5996\u9e21\u7389";else if(3==s)g="\u7816\u5934";else if(s>50&&s<=60){var c=s-50;c>5&&(c=5),g="\u89c9\u9192\u77f3"+c+"\u9636",o="s_"+s,l="zb_"+c}else if(s>60&&s<80)g="\u6280\u80fd\u5f3a\u5316\u77f3",o="skill_"+(s-60),n.getChildByName("kamian").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame(o);else if(s>100){var h=s-100;o="head_"+h;var _=g_getDataInArr(h,cc.vv.gameMgr.generalList);g=g_getDataInArr(_.name,cc.vv.gameMgr.stringList.heroNameStr).str+"("+PZ_NameArr[_.quality-1]+")",l="zb_"+_.quality,n.getChildByName("kamian").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame(o)}var u=null;0==s?(r=e[1],g=(u=g_getDataInArr(r,cc.vv.gameMgr.equipList)).name,l="zb_"+u.quality,i=e[3],n.getChildByName("kamian").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+u.icon)):s<60&&(n.getChildByName("kamian").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(o)),n.getChildByName("kamian").getChildByName("numlabel").getComponent(cc.Label).string="x"+i,n.getChildByName("kamian").getChildByName("pz").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame(l),n.getChildByName("kamian").getChildByName("name").getComponent(cc.Label).string=g;var d=e[2];n.getChildByName("kamian").getChildByName("name").color=cc.Color.fromHEX(cc.color(0,0,0),PZ_ColorArr[d-1]);var f={propType:e[0],getNum:i,zbID:r};this.getFkAward(f),n.getComponent(cc.Animation).play(),this.scheduleOnce(function(){n.getChildByName("kamian").getChildByName("kabei").active=!1,a.getFpAward(f,1),a.btnContinue.active=a._getIndex>0},.47)},getFkAward:function(t){var e=g_gameContol._gkfpAward.findIndex(function(e){return 0!=e.propType?e.propType==t.propType:e.zbID==t.zbID});-1!=e?g_gameContol._gkfpAward[e].getNum+=t.getNum:g_gameContol._gkfpAward.push(t)},clickFreeBtn:function(t){var e;e="btn_free1"==t.name?1:"btn_free2"==t.name?2:0;for(var a=0;a<this.fpNodes.length;++a)this.fpNodes[a].getChildByName("btn_free"+a).active=!1,a!=e&&(this.fpNodes[a].getChildByName("btn_video"+a).active=!0);this.showFpAwardBy(e)},showFpAwardBy:function(t){this.showfpAward(t,this._awardData.dropitem[this._getIndex]),this._getIndex++},clickVideoBtn:function(t){var e,a=this;e="btn_video1"==t.name?1:"btn_video2"==t.name?2:0,G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(a.fpNodes[e].getChildByName("btn_video"+e).active=!1,a.showFpAwardBy(e))})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this.fpNodes[e].getChildByName("btn_video"+e).active=!1,this.showFpAwardBy(e))},getFpAward:function(t,e){var a=t.propType,i=t.getNum;if(a==G_PROPMENUE.COIN)g_DataMgr.pinfo.coin+=i*e;else if(a==G_PROPMENUE.DIAMOND)g_DataMgr.pinfo.yxCoin+=i*e;else if(a==G_PROPMENUE.BRICK)g_DataMgr.pinfo.ztCoin+=i*e;else if(a==G_PROPMENUE.POWER)g_DataMgr.pinfo.strengNum+=i*e;else if(a==G_PROPMENUE.JINGJSTONE)g_DataMgr.pinfo.jjCoin+=i*e;else if(a>50&&a<=60){var r=a-50;g_DataMgr.pinfo.jxStone[r]+=i*e}else if(a>60&&a<80){var n=a-60;g_DataMgr.pinfo.skillStone[n]+=i*e}else if(a>100){var s=g_getDataInArr(a-100,g_DataMgr.generalSaveArr);1==s.getType?s.chipNum+=i*e:s.getType=1,g_DataMgr.saveGeneralData(s)}else if(0==a)for(var o=g_getDataInArr(t.zbID,cc.vv.gameMgr.equipList),l=i,g=0;g<l;++g){var c={gType:a,gID:o.ID,glv:0,gNum:0};g_getGoodFun(c)}g_DataMgr.savePinfo()},showAllCard:function(){for(var t=this,e=function(e){t.fpNodes[e].getChildByName("btn_free"+e).active=!1;var a=.5*e;t.scheduleOnce(function(){t.showFpAwardBy(e)},a)},a=0;a<this.fpNodes.length;++a)e(a);this.btnAll.active=!1,this.btnlq.active=!0,this.btnDouble.active=!0},onBtnClick:function(t){cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||("btn_close"==t.target.name?this.destroyFun():"btn_free0"==t.target.name||"btn_free1"==t.target.name||"btn_free2"==t.target.name?this.clickFreeBtn(t.target):"btn_video0"==t.target.name||"btn_video1"==t.target.name||"btn_video2"==t.target.name?this.clickVideoBtn(t.target):"btn_continue"==t.target.name&&(g_gameContol.getZS(),this.destroyFun()))},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],guideGame:[function(t,e){"use strict";cc._RF.push(e,"2dfced7AaRNyrHUa60ZjVT0","guideGame"),cc.Class({extends:cc.Component,properties:{block:cc.Node,btnTalk:cc.Node,_isClick:!1},onLoad:function(){if(0==g_DataMgr.g_guideNum||1==g_DataMgr.g_guideNum||2==g_DataMgr.g_guideNum){this.node.getChildByName("zz_talk").active=!0;var t=cc.vv.gameMgr.stringList.guideStr[g_DataMgr.g_guideNum];this.btnTalk.getChildByName("lb").getComponent(cc.Label).string=t.strMs,g_moveAct(.5,cc.v2(0,this.btnTalk.y),this.btnTalk);var e=this.node.getChildByName("btn_guide"+g_DataMgr.g_guideNum);Util.delayFun(this.node,function(){e.active=!0},.6)}else{this.node.getChildByName("zz_"+g_DataMgr.g_guideNum).active=!0;var a=this.node.getChildByName("btn_guide"+g_DataMgr.g_guideNum),i=cc.vv.gameMgr.stringList.guideStr[g_DataMgr.g_guideNum];this.btnTalk.getChildByName("lb").getComponent(cc.Label).string=i.strMs,3==g_DataMgr.g_guideNum&&(this.btnTalk.y=a.y-200),5==g_DataMgr.g_guideNum&&(this.btnTalk.y=a.y+200),g_moveAct(.5,cc.v2(0,this.btnTalk.y),this.btnTalk),Util.delayFun(this.node,function(){a.active=!0},.6),5==g_DataMgr.g_guideNum&&g_gameContol.setPause(!0)}},showTalk:function(){var t=this;cc.tween(this.node).delay(2).call(function(){if(t.btnTalk.x=-800,g_DataMgr.g_guideNum++,1==g_DataMgr.g_guideNum)g_DataMgr.g_guideNum=3,g_gameContol._guideObj=null,g_gameContol.showGuide(!0),t.node.destroy();else{var e=cc.vv.gameMgr.stringList.guideStr[g_DataMgr.g_guideNum];t.btnTalk.getChildByName("lb").getComponent(cc.Label).string=e.strMs,g_moveAct(.5,cc.v2(0,t.btnTalk.y),t.btnTalk),t.showTalk()}}).start()},onBtnClick:function(t){cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||this._isClick||(this._isClick=!0,"btn_guide0"==t.target.name&&(g_DataMgr.g_guideNum=3,g_gameContol._guideObj=null,g_gameContol.showGuide(!0),this.node.destroy()),"btn_guide3"==t.target.name&&g_gameContol.showGuide(!1),"btn_guide4"==t.target.name&&(g_gameContol.createGeneral(g_DataMgr.pinfo.curSZArr[0]),g_gameContol.setPause(!1),g_gameContol.showGuide(!1)),"btn_guide5"==t.target.name&&(g_gameContol.setPause(!1),g_gameContol.showGuide(!1)),"btn_guide6"==t.target.name&&(g_gameContol.createGeneral(g_DataMgr.pinfo.curSZArr[0]),g_gameContol.setPause(!1),g_gameContol.showGuide(!1)),"btn_guide18"==t.target.name&&(g_gameContol.createGeneral(g_DataMgr.pinfo.curSZArr[1]),g_gameContol.setPause(!1),g_gameContol.showGuide(!1)),"btn_guide19"==t.target.name&&(g_gameContol.setPause(!1),g_gameContol.showSkill(1),g_gameContol.skillNode.getComponent("skillCD").setCD(g_gameContol._curSkillData),g_DataMgr.g_guideNum=-1,g_gameContol._guideObj=null,this.node.destroy()))}}),cc._RF.pop()},{}],guideHall:[function(t,e){"use strict";cc._RF.push(e,"ef5e5xmy2hEg58uYMiSDhLf","guideHall"),cc.Class({extends:cc.Component,properties:{block:cc.Node,btnTalk:cc.Node,_isClick:!1},onLoad:function(){if(7==g_DataMgr.g_guideNum){this.node.getChildByName("zz_talk").active=!0;var t=cc.vv.gameMgr.stringList.guideStr[g_DataMgr.g_guideNum];this.btnTalk.getChildByName("lb").getComponent(cc.Label).string=t.strMs,g_moveAct(.5,cc.v2(0,this.btnTalk.y),this.btnTalk);var e=this.node.getChildByName("btn_guide"+g_DataMgr.g_guideNum);Util.delayFun(this.node,function(){e.active=!0},.6)}else{11!=g_DataMgr.g_guideNum&&12!=g_DataMgr.g_guideNum&&14!=g_DataMgr.g_guideNum&&15!=g_DataMgr.g_guideNum||(this.block.active=!1),this.node.getChildByName("zz_"+g_DataMgr.g_guideNum).active=!0;var a=this.node.getChildByName("btn_guide"+g_DataMgr.g_guideNum),i=cc.vv.gameMgr.stringList.guideStr[g_DataMgr.g_guideNum];this.btnTalk.getChildByName("lb").getComponent(cc.Label).string=i.strMs,9==g_DataMgr.g_guideNum&&(this.btnTalk.y=330),11!=g_DataMgr.g_guideNum&&12!=g_DataMgr.g_guideNum&&14!=g_DataMgr.g_guideNum||(this.btnTalk.y=a.y+200),13!=g_DataMgr.g_guideNum&&15!=g_DataMgr.g_guideNum||(this.btnTalk.y=a.y-200),17!=g_DataMgr.g_guideNum&&g_moveAct(.5,cc.v2(0,this.btnTalk.y),this.btnTalk),13==g_DataMgr.g_guideNum&&(a._generalID=1,a._szIndex=0),Util.delayFun(this.node,function(){a.active=!0},.6)}},changeBtn:function(t){for(var e=g_hallContol._bottom.children,a=0;a<e.length;++a)e[a].getChildByName("bg").active=!0,e[a].getChildByName("select").active=!1,e[a].name===t&&(e[a].getChildByName("bg").active=!1,e[a].getChildByName("select").active=!0);"btn_shop"===t?(g_hallContol.zsNode.active=!0,g_hallContol.powerNode.active=!1):(g_hallContol.zsNode.active=!1,g_hallContol.powerNode.active=!0)},showCardAward:function(){for(var t=[],e=0;e<3;++e){var a=101;2==e&&(a=114);var i={propType:a,getNum:1,zbID:0};t.push(i)}var r=G_createPrefab(g_loadPrefab.getAward);null!=r&&(this.node.parent.addChild(r),r.getComponent("getAward").initGetCard(t,0))},onBtnClick:function(t){if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5)&&!this._isClick){if(this._isClick=!0,"btn_guide7"==t.target.name&&g_hallContol.showGuide(!1),"btn_guide8"==t.target.name){var e=g_hallContol._bottom.getChildByName("btn_shop");g_hallContol.closeUI(e),g_hallContol.shopNode.active=!0,g_hallContol.showGuide(!1)}if("btn_guide9"==t.target.name&&(this.showCardAward(),g_hallContol.showGuide(!1)),"btn_guide10"==t.target.name){var a=g_hallContol._bottom.getChildByName("btn_wj");g_hallContol.closeUI(a),g_hallContol.generNode.active=!0,g_hallContol.showGuide(!1)}if("btn_guide13"==t.target.name){if(g_DataMgr.g_guideNum++,g_hallContol._guideObj=null,null!=g_hallContol.generNode.getChildByName("UIgeneral")){var i=g_hallContol.generNode.getChildByName("UIgeneral").getComponent("UIgeneral");null!=i&&i.onClickSZwj(t)}this.node.destroy()}if("btn_guide16"==t.target.name){var r=g_hallContol._bottom.getChildByName("btn_fight");g_hallContol.closeUI(r),g_hallContol.fightNode.active=!0,g_hallContol.showGuide(!1)}"btn_guide17"==t.target.name&&(g_DataMgr.g_guideNum++,cc.vv.gameMgr.gameModel=1,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")}))}}}),cc._RF.pop()},{}],guideJD:[function(t,e){"use strict";cc._RF.push(e,"d8f37sFdepBXYvgKSldOyT2","guideJD"),cc.Class({extends:cc.Component,properties:{block:cc.Node,btnTalk:cc.Node,_isClick:!1},onLoad:function(){2!=g_DataMgr.g_guideJDNum&&3!=g_DataMgr.g_guideJDNum&&7!=g_DataMgr.g_guideJDNum&&8!=g_DataMgr.g_guideJDNum&&12!=g_DataMgr.g_guideJDNum&&15!=g_DataMgr.g_guideJDNum&&16!=g_DataMgr.g_guideJDNum&&19!=g_DataMgr.g_guideJDNum||(this.block.active=!1);var t=g_DataMgr.g_guideJDNum;4!=t&&9!=t&&13!=t||(t=1),8==t&&(t=3),10==t&&(t=5),11==t&&(t=6),21==t&&(t=18);var e=this.node.getChildByName("zz_"+t);e.active=!0;var a=this.node.getChildByName("btn_guide"+t),i=cc.vv.gameMgr.stringList.guideJDstr[g_DataMgr.g_guideJDNum];this.btnTalk.getChildByName("lb").getComponent(cc.Label).string=i.strMs,2!=t&&7!=t&&12!=t&&15!=t||(this.btnTalk.y=a.y+200),14!=t&&17!=t||(this.btnTalk.y=a.y-200),12==t&&1!=g_DataMgr.towerInfo.skillID&&(e.x=150,a.x=150),3!=t&&6!=t&&16!=t&&19!=t&&20!=t&&g_moveAct(.5,cc.v2(0,this.btnTalk.y),this.btnTalk),Util.delayFun(this.node,function(){a.active=!0},.6)},changeBtn:function(t){for(var e=g_hallContol._bottom.children,a=0;a<e.length;++a)e[a].getChildByName("bg").active=!0,e[a].getChildByName("select").active=!1,e[a].name===t&&(e[a].getChildByName("bg").active=!1,e[a].getChildByName("select").active=!0);"btn_shop"===t?(g_hallContol.zsNode.active=!0,g_hallContol.powerNode.active=!1):(g_hallContol.zsNode.active=!1,g_hallContol.powerNode.active=!0)},onBtnClick:function(t){if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5)&&!this._isClick){if(this._isClick=!0,"btn_guide1"==t.target.name){var e=g_hallContol._bottom.getChildByName("btn_juying");g_hallContol.closeUI(e),g_hallContol.junyNode.active=!0,g_hallContol.showGuideJD(!1)}if("btn_guide5"==t.target.name){if(null==g_hallContol.junyNode.getChildByName("UIbarrack"))return;var a=g_hallContol.junyNode.getChildByName("UIbarrack").getComponent("UIbarrack");null!=a&&(a.jnbagNode.active=!0,a.showSkill()),g_hallContol.showGuideJD(!1)}if("btn_guide6"==t.target.name){var i=g_hallContol.junyNode.getChildByName("UIbarrack");if(null==i)return;var r=i.getComponent("UIbarrack");if(null!=r){var n=r.skillList.children[0],s=G_createPrefab(g_loadPrefab.skillUp);null!=s&&(g_hallContol.node.addChild(s),s.getComponent("skillUp").initSkill(n,i))}g_hallContol.showGuideJD(!1)}if("btn_guide14"==t.target.name){if(null==g_hallContol.junyNode.getChildByName("UIbarrack"))return;var o=g_hallContol.junyNode.getChildByName("UIbarrack").getComponent("UIbarrack");null!=o&&(o.chbagNode.active=!0,o.showCHList()),g_hallContol.showGuideJD(!1)}"btn_guide17"==t.target.name&&(g_hallContol.showProfeb(g_loadPrefab.UIguaji),g_hallContol.showGuideJD(!1)),"btn_guide18"==t.target.name&&(g_hallContol.showProfeb(g_loadPrefab.UIyjzl),g_hallContol.showGuideJD(!1)),"btn_guide20"==t.target.name&&(g_DataMgr.g_guideJDNum=0,g_hallContol._guideObj=null,g_DataMgr.gjsyData.guideYJZL=1,g_DataMgr.saveGjData(),g_DataMgr.rankSaveData.jjtzTime>0&&(g_DataMgr.rankSaveData.jjtzTime--,g_DataMgr.saveRankData()),cc.vv.gameMgr.gameModel=3,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")}),this.node.destroy()),"btn_guide22"==t.target.name&&(g_DataMgr.g_guideJDNum=0,g_hallContol._guideObj=null,g_DataMgr.gjsyData.guideYJSL=1,g_DataMgr.saveGjData(),g_DataMgr.rankSaveData.sltzTime>0&&(g_DataMgr.rankSaveData.sltzTime--,g_DataMgr.saveRankData()),cc.vv.gameMgr.gameModel=2,cc.vv.gameMgr.curActivityLv=g_DataMgr.yjslSaveData.slLevel,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")}),this.node.destroy())}}}),cc._RF.pop()},{}],guideTask:[function(t,e){"use strict";cc._RF.push(e,"ec32ajIrtdPR5EqoqqdYnYV","guideTask"),cc.Class({extends:cc.Component,properties:{block:cc.Node,btnTalk:cc.Node,_isClick:!1},onLoad:function(){if(17==g_DataMgr.g_guideTaskNum||18==g_DataMgr.g_guideTaskNum){this.node.getChildByName("zz_talk").active=!0;var t=cc.vv.gameMgr.stringList.guideTaskStr[g_DataMgr.g_guideTaskNum];this.btnTalk.getChildByName("lb").getComponent(cc.Label).string=t.strMs,g_moveAct(.5,cc.v2(0,this.btnTalk.y),this.btnTalk);var e=g_DataMgr.g_guideTaskNum;18==e&&(e=17);var a=this.node.getChildByName("btn_guide"+e);Util.delayFun(this.node,function(){a.active=!0},.6)}else{5!=g_DataMgr.g_guideTaskNum&&6!=g_DataMgr.g_guideTaskNum&&15!=g_DataMgr.g_guideTaskNum&&16!=g_DataMgr.g_guideTaskNum&&30!=g_DataMgr.g_guideTaskNum&&32!=g_DataMgr.g_guideTaskNum&&33!=g_DataMgr.g_guideTaskNum&&36!=g_DataMgr.g_guideTaskNum&&26!=g_DataMgr.g_guideTaskNum&&27!=g_DataMgr.g_guideTaskNum&&28!=g_DataMgr.g_guideTaskNum||(this.block.active=!1);var i=g_DataMgr.g_guideTaskNum;10==i&&(i=1),11==i&&(i=2),14!=i&&25!=i||(i=4),16==i&&(i=6),19==i&&(i=7),26==i&&(i=5),this.node.getChildByName("zz_"+i).active=!0;var r=this.node.getChildByName("btn_guide"+i),n=cc.vv.gameMgr.stringList.guideTaskStr[g_DataMgr.g_guideTaskNum];this.btnTalk.getChildByName("lb").getComponent(cc.Label).string=n.strMs,5!=i&&6!=i&&8!=i&&9!=i&&12!=i&&15!=i&&30!=i&&31!=i&&32!=i&&34!=i&&35!=i&&36!=i&&28!=i||(this.btnTalk.y=r.y+200),2==i&&(this.btnTalk.y=r.y-200),13==i&&(this.btnTalk.y=330),3!=i&&7!=i&&30!=i&&31!=i&&32!=i&&33!=i&&34!=i&&36!=i&&26!=g_DataMgr.g_guideTaskNum&&27!=g_DataMgr.g_guideTaskNum&&g_moveAct(.5,cc.v2(0,this.btnTalk.y),this.btnTalk),Util.delayFun(this.node,function(){r.active=!0},.6)}},showTalk:function(){var t=this;cc.tween(this.node).delay(2).call(function(){if(t.btnTalk.x=-800,g_DataMgr.g_guideTaskNum++,19==g_DataMgr.g_guideTaskNum)g_hallContol._guideObj=null,g_hallContol.showGuideTask(!0),t.node.destroy();else{var e=cc.vv.gameMgr.stringList.guideTaskStr[g_DataMgr.g_guideTaskNum];t.btnTalk.getChildByName("lb").getComponent(cc.Label).string=e.strMs,g_moveAct(.5,cc.v2(0,t.btnTalk.y),t.btnTalk),t.showTalk()}}).start()},changeBtn:function(t){for(var e=g_hallContol._bottom.children,a=0;a<e.length;++a)e[a].getChildByName("bg").active=!0,e[a].getChildByName("select").active=!1,e[a].name===t&&(e[a].getChildByName("bg").active=!1,e[a].getChildByName("select").active=!0);"btn_shop"===t?(g_hallContol.zsNode.active=!0,g_hallContol.powerNode.active=!1):(g_hallContol.zsNode.active=!1,g_hallContol.powerNode.active=!0)},getAward:function(){var t=null;if(null!=g_hallContol.layerNode.getChildByName("UItask")){var e=g_hallContol.layerNode.getChildByName("UItask").getComponent("UItask");null!=e&&(t=e._awardArr)}if(null!=t){var a=G_createPrefab(g_loadPrefab.getAward);null!=a&&(g_hallContol.node.addChild(a),12==g_DataMgr.g_guideTaskNum?a.getComponent("getAward").initAwardBy(t,1):a.getComponent("getAward").initAward(t,1)),g_DataMgr.taskData.taskID+=1,g_DataMgr.taskData.taskKillNum=0,12==g_DataMgr.g_guideTaskNum&&g_DataMgr.saveTaskData(),cc.vv.gameMgr.curTaskData=g_getDataInArr(g_DataMgr.taskData.taskID,cc.vv.gameMgr.taskList),G_gameEvent.emit(G_gameEvent.freshTaskEvent)}},showCardAward:function(){for(var t=[],e=0;e<5;++e){var a=101;2!=e&&3!=e||(a=114),4==e&&(a=103);var i={propType:a,getNum:1,zbID:0};t.push(i)}0==g_getDataInArr(3,g_DataMgr.generalSaveArr).getType&&(g_DataMgr.pinfo.yxCoin-=300);var r=G_createPrefab(g_loadPrefab.getAward);null!=r&&(this.node.parent.addChild(r),r.getComponent("getAward").initGetCard(t,1))},onBtnClick:function(t){if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5)&&!this._isClick){if(this._isClick=!0,"btn_guide1"==t.target.name&&(g_hallContol.showProfeb(g_loadPrefab.UItask),g_hallContol.showGuideTask(!1)),"btn_guide2"==t.target.name){g_DataMgr.g_guideTaskNum++,this.getAward();var e=g_hallContol.layerNode.getChildByName("UItask");null!=e&&e.destroy(),g_hallContol._guideObj=null,this.node.destroy()}if("btn_guide4"==t.target.name){var a=g_hallContol._bottom.getChildByName("btn_wj");g_hallContol.closeUI(a),g_hallContol.generNode.active=!0,g_hallContol.showGuideTask(!1)}if("btn_guide7"==t.target.name){var i=g_hallContol._bottom.getChildByName("btn_fight");g_hallContol.closeUI(i),g_hallContol.fightNode.active=!0,19==g_DataMgr.g_guideTaskNum&&g_hallContol.showProfeb(g_loadPrefab.UIsign),g_hallContol.showGuideTask(!1)}if("btn_guide8"==t.target.name&&(g_DataMgr.g_guideTaskNum++,cc.vv.gameMgr.gameModel=1,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")})),"btn_guide9"==t.target.name&&(g_DataMgr.g_guideTaskNum=0,g_gameContol.createGeneral(g_DataMgr.pinfo.curSZArr[2]),g_gameContol.setPause(!1),g_gameContol.showGuideTask(!1)),"btn_guide12"==t.target.name){var r=g_hallContol._bottom.getChildByName("btn_shop");g_hallContol.closeUI(r),g_hallContol.shopNode.active=!0,g_hallContol.showGuideTask(!1)}if("btn_guide13"==t.target.name&&(this.showCardAward(),g_hallContol._guideObj=null,this.node.destroy()),"btn_guide17"==t.target.name&&(g_DataMgr.g_guideTaskNum++,g_hallContol._guideObj=null,g_hallContol.showGuideTask(!0),this.node.destroy()),"btn_guide29"==t.target.name){var n=g_hallContol._bottom.getChildByName("btn_zg");g_hallContol.closeUI(n),g_hallContol.zhugNode.active=!0,g_hallContol.showGuideTask(!1)}if("btn_guide31"==t.target.name){if(t.target._goodData=g_DataMgr.pinfo.knapsack[0],t.target._goodData.gNum=1,null!=g_hallContol.zggzNode.getChildByName("UIzb")){var s=g_hallContol.zggzNode.getChildByName("UIzb").getComponent("UIzb");null!=s&&s.showZBup(t.target)}g_hallContol.showGuideTask(!1)}if("btn_guide34"==t.target.name){if(-1==g_DataMgr.pinfo.knapsack.findIndex(function(t){return 107==t.gID})&&g_getGoodFun({gType:0,gID:107,glv:0,gNum:0}),null!=g_hallContol.zggzNode.getChildByName("UIzb")){var o=g_hallContol.zggzNode.getChildByName("UIzb").getComponent("UIzb");null!=o&&(t.target.name="btn_wq",o.onSelectClick(t))}g_hallContol.showGuideTask(!1)}if("btn_guide35"==t.target.name){if(t.target._goodData=g_DataMgr.pinfo.knapsack[1],null!=g_hallContol.zggzNode.getChildByName("UIzb")){var l=g_hallContol.zggzNode.getChildByName("UIzb").getComponent("UIzb");null!=l&&l.showZBup(t.target)}g_hallContol.showGuideTask(!1)}}}}),cc._RF.pop()},{}],h5Mgr:[function(t,e){"use strict";cc._RF.push(e,"71f037wm1FBeJ5qGGQSQRDl","h5Mgr"),window.g_h5Mgr={isVideoReady:function(){null!=window.h5api&&window.h5api.canPlayAd(function(t){console.log("\u662f\u5426\u53ef\u64ad\u653e\u5e7f\u544a",t.canPlayAd,"\u5269\u4f59\u6b21\u6570",t.remain)})},showRewardVideoAd:function(t){null!=window.h5api&&(cc.audioEngine.pause(CURAUDIOID),window.h5api.playAd(function(e){console.log("\u4ee3\u7801:"+e.code+",\u6d88\u606f:"+e.message),1e4===e.code?console.log("\u5f00\u59cb\u64ad\u653e"):10001===e.code?(console.log("\u64ad\u653e\u7ed3\u675f"),t(!0),cc.audioEngine.resume(CURAUDIOID)):(console.log("\u5e7f\u544a\u5f02\u5e38"),t(!1),cc.audioEngine.resume(CURAUDIOID))}))}},cc._RF.pop()},{}],headInfo:[function(t,e){"use strict";cc._RF.push(e,"27cf42WJ+dPSr2SHMRzwUPL","headInfo"),cc.Class({extends:cc.Component,properties:{zgName:cc.Label,lvNum:cc.Label,lvpro:cc.Sprite,expPro:cc.Sprite,sxNode:cc.Node,changeNode:cc.Node,editBox:cc.EditBox},onLoad:function(){var t=g_DataMgr.pinfo,e=cc.vv.gameMgr.zgList[t.level-1],a=e.exp;this.lvpro.fillRange=t.expNum/a,this.lvNum.string=t.level,this.expPro.fillRange=t.expNum/a,this.zgName.string=t.nickname,this.sxNode.getChildByName("life").getComponent(cc.Label).string="+"+e.HP+"%",this.sxNode.getChildByName("gj").getComponent(cc.Label).string="+"+e.attack+"%",cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},onBtnClick:function(t){if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5))if("btn_close"==t.target.name)this.destroyFun();else if("zgName"==t.target.name)this.changeNode.active=!0;else if("btn_closeChange"==t.target.name)this.changeNode.active=!1;else if("btn_true"==t.target.name){var e=this.editBox.string;if(e.length>8||e.length<2)return void cc.vv.configMgr.addTips("\u540d\u5b57\u7684\u957f\u5ea62-8\u4e2a\u5b57!");g_DataMgr.pinfo.nickname=e,g_DataMgr.savePinfo(),null!=g_hallContol&&g_hallContol.updataInfo(),this.zgName.string=g_DataMgr.pinfo.nickname,this.destroyFun()}},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],hero:[function(t,e){"use strict";cc._RF.push(e,"f1712tHTxhC8KJ6jtMhO70c","hero"),cc.Class({extends:cc.Component,properties:{_index:0,_playID:0,_heroState:0,_curHero:null,_heroSxData:null,_heroInitData:null,_buffArr:null,_maxHP:0,_curHP:0,_curAni:null,_isMove:!1,_target:null,_skillIndex:0,_skillID:0,_skillCDMap:null,_isAttack:!1,_isCanAttack:!0,_curHead:null,_hdNode:null,_wqData:null,_gjEffect:null,_jgsEffect:null,_fyEffect:null,_linkTime:0,_linkEffect:null,_cfTime:0,_caofEffect:null,_xyEffect:null,_xyTime:0,_isJX:!1,_jxTime:0,_jxEffect:null,_jsEffect:null,_jsTime:0,_bingEffect:null,_zbingEffect:null,_count:0},getGoodData:function(t){for(var e=g_DataMgr.pinfo.knapsack,a=0;a<e.length;++a)if(t==e[a].gID)return e[a]},onLoad:function(){this._zyBuffData={},this._buffArr=[],this._skillCDMap={},this._hpPro=this.node.getChildByName("hp"),this._spine=this.node.getChildByName("body").getComponent(sp.Skeleton),this.zbPos=["pf","wuqi","xianglian","yanjing","pifeng"]},getZS:function(){if(3==cc.vv.gameMgr.gameModel)for(var t=g_gameContol._zsbuffArr,e=0;e<t.length;++e)3==t[e].type&&(this._heroSxData.moveSpeed+=Math.round(this._curHero.moveSpeed*t[e].value/100)),4==t[e].type&&(this._heroSxData.HP+=Math.round(this._curHero.HP*t[e].value/100)),5==t[e].type&&(this._heroSxData.HP-=Math.round(this._curHero.intervalTime*t[e].value/100)),7==t[e].type&&(this._heroSxData.attack+=Math.round(this._curHero.attack*t[e].value/100))},initHero:function(){var t,e=this;this._buffArr=[],this._skillCDMap={},this.starPos=this.node.position,this._ID=g_DataMgr.pinfo.hasZBData.pf,this._curHero=g_getDataInArr(this._ID,G_zgHero),this._heroSxData=g_getDataInArr(this._ID,G_zgHero);var a=cc.vv.gameMgr.zgList[g_DataMgr.pinfo.level-1];this._heroSxData.HP+=Math.round(this._curHero.HP*a.HP/100),this._heroSxData.attack+=Math.round(this._curHero.attack*a.attack/100),null!=(t=g_getEffect(this._ID,g_heroRes))&&cc.vv.configMgr.loadSpine(t,function(t){e._spine.skeletonData=t,e._spine.loop=!0,e._spine.animation="idle",e._spine.timeScale=1,e._spine.setSkin("default"),e.onAniCompleted(),e.updatazb()})},updatazb:function(){for(var t=0;t<this.zbPos.length;++t){var e=this.zbPos[t];if(null!=g_DataMgr.pinfo.hasZBData[e]){var a=this.getGoodData(g_DataMgr.pinfo.hasZBData[e]),i=g_getDataInArr(g_DataMgr.pinfo.hasZBData[e],cc.vv.gameMgr.equipList);null!=i.skill&&(this._curHero.skill=this._curHero.skill.concat(i.skill));var r=a.glv;null!=i.Attack&&(this._heroSxData.attack=this._heroSxData.attack+Math.round(this._curHero.attack*i.Attack[r]/100)),null!=i.HP&&(this._heroSxData.HP=this._heroSxData.HP+Math.round(this._curHero.HP*i.HP[r]/100)),"wuqi"===e&&(this._curHero.attackDistance=i.distance,this._wqData=i),"pf"!=e&&cc.vv.gameMgr.changePartialCloth(this._spine,i.location,i.skin,i.location)}}if(this.getZS(),this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._speed=this._heroSxData.moveSpeed,0!=cc.vv.gameMgr.gameModel&&(this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP),this._isMove=!0,this._target=g_gameContol._enemyTower,this.showHead(),null!=this._wqData&&(102==this._wqData.ID||105==this._wqData.ID||109==this._wqData.ID)){var n=this._wqData.skill[0],s=g_getDataInArr(n,cc.vv.gameMgr.skillList).buffid;this._buffArr.push(s[1]),this.getZYBuffData()}},showHead:function(){this._curHead=cc.instantiate(g_gameContol.tbiaoPre),g_gameContol.proNode.addChild(this._curHead),this._curHead.getChildByName("ld").active=!0,this._curHead.x=-200;var t=g_getAtlas(g_skinAtlas.head),e="shero_"+this._ID;this._curHead.getChildByName("head").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(e)},playSoundEffect:function(t){var e=t.split("_");"sound"==e[0]&&cc.vv.gameMgr.playEffect(g_audios[e[e.length-1]])},createBullet:function(){var t=this,e=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(e,function(e){var a=cc.instantiate(e);if(null!=a){t.node.parent.addChild(a);var i=a.getComponent("bullet");null!=i&&i.initGeneralBullet(t.node,t._skillID)}})},onAniCompleted:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){if(console.log("-------heroevent-----",a),"hit"==a.data.name&&(console.log("-------hit----------",a.data.name),null!=t._target&&null!=t._target.parent)){var i=t._target.getComponent("tower");if(null==i&&(i=t._target.getComponent("monster")),null==i&&(i=t._target.getComponent("boss")),null==i&&(i=t._target.getComponent("enemy")),null==i&&(i=t._target.getComponent("ehero")),null!=i)if(2004==t._skillID||2005==t._skillID||2003==t._skillID||2006==t._skillID||2008==t._skillID)g_gameContol.checkAttack(t.node,t._skillID);else{var r=0;2010==t._skillID&&(r=1),i.byAttack(t.node,t._skillID,r)}}"shoot"==a.data.name&&(console.log("-------shoot----------",a.data.name),t.createBullet()),"hit_fly"==a.data.name&&console.log("-------hit_fly----------",a.data.name),"hit_fall"==a.data.name&&console.log("-------hit_fall----------",a.data.name),"hit_over"==a.data.name&&console.log("-------hit_over----------",a.data.name),t.playSoundEffect(a.data.name)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";console.log("-------heroAni--------",a);var i=null!=t._wqData?t._wqData.skillAni:"skill";"attack"!=a&&"shoot"!=a&&a!=i||(t._isAttack=!1,t.setChangeAnimate("idle",!0)),"die"==a&&(t.node.parent=null,g_gameContol.checkGeneral(),g_gameContol._curHero=null,g_gameContol.showHero(),t._curHead.destroy(),t.node.destroy())})},setChangeAnimate:function(t,e){this._curAni!=t&&(this._curAni=t,this._spine.setAnimation(0,t,e))},getZYBuffData:function(){for(var t=this._buffArr,e=[],a=0;a<t.length;++a)if(0!=t[a]){var i=g_getDataInArr(t[a],cc.vv.gameMgr.buffList);e.push(i)}this._zyBuffData.attackSpeed=0,this._zyBuffData.moveSpeed=0;for(var r=0;r<e.length;++r)"attackspeed"===e[r].type&&(this._zyBuffData.attackSpeed+=this._heroSxData.intervalTime*e[r].value/100),"sattackspeed"===e[r].type&&(this._zyBuffData.attackSpeed-=this._heroSxData.intervalTime*e[r].value/100),"movespeed"===e[r].type&&(this._zyBuffData.moveSpeed+=this._heroSxData.moveSpeed*e[r].value/100),"smovespeed"===e[r].type&&(this._zyBuffData.moveSpeed-=this._heroSxData.moveSpeed*e[r].value/100);this._heroSxData._buffArr=this._buffArr},setBuffCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.buffList);"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||(null==this._gjEffect&&(this._gjEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._gjEffect),this._gjEffect._buffCount=0,this._gjEffect.getComponent("effect").initGj()),null!=this._gjEffect&&this._gjEffect._buffCount++),"defence"===a.type&&(null==this._fyEffect&&(this._fyEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._fyEffect),this._fyEffect._buffCount=0,this._fyEffect.getComponent("effect").initFY()),null!=this._fyEffect&&this._fyEffect._buffCount++),this.scheduleOnce(function(){for(var i=0;i<e._buffArr.length;++i)if(e._buffArr[i]==t){e._buffArr.splice(i,1);break}e.getZYBuffData(),"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||null!=e._gjEffect&&(e._gjEffect._buffCount--,0==e._gjEffect._buffCount&&(e._gjEffect.destroy(),e._gjEffect=null)),"defence"===a.type&&null!=e._fyEffect&&(e._fyEffect._buffCount--,0==e._fyEffect._buffCount&&(e._fyEffect.destroy(),e._fyEffect=null))},a.time)},setSkillCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.skillList);if("buff"==a.effect_Type){for(var i=a.buffid,r=0;r<i.length;++r)this.setBuffCD(i[r]),this._buffArr.push(i[r]);this.getZYBuffData()}var n=a.CD;this.scheduleOnce(function(){e._skillCDMap[""+t]=!0},n)},setAttack:function(t){var e=this;if(this._isCanAttack&&!this._isAttack&&"behit"!==this._curAni){this._isAttack=!0,this._skillIndex=t,this._skillID=this._curHero.skill[this._skillIndex],this._skillCDMap[""+this._skillID]=!1,6!=this._skillID&&this.setSkillCD(this._skillID);var a=null;0==t?(a="attack",null!=this._wqData&&103==this._wqData.ID&&(a="shoot")):(a=this._wqData.skillAni,console.log("=========\u6280\u80fd\u91ca\u653e==========",this._skillID)),this.setChangeAnimate(a,!1),this._isCanAttack=!1,this._zyBuffData.attackSpeed=null==this._zyBuffData.attackSpeed?0:this._zyBuffData.attackSpeed;var i=this._heroSxData.intervalTime-this._zyBuffData.attackSpeed;i=i<0?0:i,this.scheduleOnce(function(){e._isCanAttack=!0},i),2003!=this._skillID&&2004!=this._skillID&&2005!=this._skillID||this.setSkill(this._skillID)}},setSkill:function(t){var e=g_getDataInArr(this._skillID,cc.vv.gameMgr.skillList);g_getDataInArr(e.buffid[0],cc.vv.gameMgr.buffList),2003!=t&&2004!=t&&2005!=t||"dfbuff"==e.effect_Type&&g_gameContol.checkAddBuff(this.node,t)},setAddHP:function(t){if(0!=this._curHP){var e=G_createPrefab(g_loadPrefab.effect);null!=e&&(this.node.addChild(e),e.getComponent("effect").initHX()),this._curHP+=t,this._curHP>=this._maxHP&&(this._curHP=this._maxHP),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.showAttackZi(t,!1,5)}},byAttack:function(t,e,a){var i=this,r=null,n=t.getComponent("bullet");if(10==a?r=(n=t)._sxData:null!=n?r=n._heroSxData:(null==(n=t.getComponent("monster"))&&(n=t.getComponent("boss")),null==n&&(n=t.getComponent("enemy")),null==n&&(n=t.getComponent("ehero")),null!=n&&(r=n._heroSxData)),null!=n){var s=null;if(10==a)s=e;else{if(0==n._curHP)return;if(this.setSkillBuff(e),2003==e||2004==e||2005==e)return;s=g_getDataInArr(e,cc.vv.gameMgr.skillList)}if(null==s)return;10==a&&(4==s.ID&&1==this.node._stopDJ&&(this.node._stopDJ=!1,this.showLDEffect(s,1)),8==s.ID&&this.setSkillBuff(s.ID,1)),18==s.ID&&this.showLDEffect(s),this._heroSxData._buffArr=this._buffArr;var o=cc.vv.gameMgr.getAttackNum(r,this._heroSxData,s);if(console.log("===========",o),0!=o.xxNum&&null!=n._curHP){var l=Math.round(o.xxNum*o.rattack/100);n.setAddHP(l)}if(40==s.ID&&null!=n._curHP&&0!=o.rattack){var g=g_getDataInArr(e,g_DataMgr.generalSaveArr),c=s.buffid[g.skillLv][0],h=g_getDataInArr(c,cc.vv.gameMgr.buffList),_=Math.round(h.value*o.rattack/100);n.setAddHP(_)}if(0!=o.jsAttack){this.node._isjs=!0;var u=n._ID;g_gameContol.checkJians(this.node,u,o.jsAttack,1)}var d=o.rattack;if(0==d)return void n.showMissEffect();this.showHitEffect(s.hitEffectID),0!=d&&this.showAttackZi(d,o.bj,s.hitPZType),null!=this._hdNode?this._hdNode.getComponent("effect").setHDhp(d):this._curHP-=d,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,1012!=e&&1010!=e&&1003!=e&&1019!=e&&2007!=e&&2008!=e&&2009!=e||this.showXY(e),1013==o.xyID&&this.showXY(o.xyID),1016==e&&o.bj&&(a=1)}if(1==a){if(0==this._curHP)return;this.node.stopAllActions();var f=t.position;null!=t._firstPos&&(f=t._firstPos);var p=f.y>=this.node.y?1:-1,m=100,v=Math.abs(f.y-this.node.y)*m/Math.abs(f.x-this.node.x),D=this.node.y-v*p;1009==e&&(m=50,D=this.node.y),D>200&&(D=200),D<-200&&(D=-200);var C=this.node.x-1*m;C<-280&&(C=-280);var A=cc.v2(C,D);cc.tween(this.node).to(.5,{position:A}).call(function(){i.showXY(e),i._isMove=!0}).start()}},setJiansAttack:function(t,e){if(0!=this._curHP){var a=t;1!=e&&(this.showHitEffect(1),0!=a&&this.showAttackZi(a,!1)),this._curHP-=a,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP}},showLDEffect:function(t,e){var a=g_getEffect(t.bSpineID,g_heroEffectRes),i=G_createPrefab(g_loadPrefab.effect);null!=i&&(this.node.addChild(i),i.position=cc.v2(0,0),i.getComponent("effect").initEffect(a),this.showXY(t.ID,e))},showXY:function(t,e){if(0!=this._curHP&&(2==t||6==t||18==t||35==t||2007==t||2008==t||2009==t||1003==t||1019==t||1012==t||1013==t||1010==t||2010==t||1==e)){var a=g_getDataInArr(t,cc.vv.gameMgr.skillList);1==e&&(a=g_getDataInArr(t,cc.vv.gameMgr.zSkillList));var i=a.buffid[0];if(2==t||6==t||18==t||35==t){var r=g_getDataInArr(t,g_DataMgr.generalSaveArr);i=a.buffid[r.skillLv][0]}var n=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._isAttack=!1,this.setChangeAnimate("idle",!0),null==this._xyEffect&&(this._xyEffect=G_createPrefab(g_loadPrefab.effect),null!=this._xyEffect&&(this.node.addChild(this._xyEffect),this._xyEffect.position=cc.v2(0,this._hpPro.y-10),this._xyEffect.getComponent("effect").initXuanyun())),this._xyTime+=60*n.time}},setJiaoxie:function(t){0!=this._curHP&&(this._isJX=!0,this._jxTime+=t,null==this._jxEffect&&(this._jxEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._jxEffect),this._jxEffect.position=cc.v2(0,110),this._jxEffect.getComponent("effect").initEffectByType("textrue/effect/buff_jiaoxie",1)))},setChaof:function(t,e){0!=this._curHP&&(this._cfTime+=t,this._target=e,null==this._caofEffect&&(this._caofEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._caofEffect),this._caofEffect.position=cc.v2(0,110),this._caofEffect.getComponent("effect").initEffectByType("textrue/effect/buff_beichaofeng",1)))},setLink:function(t){0!=this._curHP&&(this._linkTime+=t,null==this._linkEffect&&(this._linkEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._linkEffect),this._linkEffect.getComponent("effect").initEffectByType("textrue/effect/buff_037",1)))},setSkillBuff:function(t,e){var a=this;if(0!=this._curHP){var i=g_getDataInArr(t,cc.vv.gameMgr.skillList);if(1==e&&(i=g_getDataInArr(t,cc.vv.gameMgr.zSkillList)),16==t||38==t||2004==t||1008==t||1018==t||2003==t||2005==t||1==e){if(null!=this._jsEffect&&16==t)return;var r=i.buffid[0];if(16==t||38==t){var n=g_getDataInArr(t,g_DataMgr.generalSaveArr);if(r=i.buffid[n.skillLv][0],38==t&&-1!=this._buffArr.findIndex(function(t){return t==r}))return}if(this._buffArr.push(r),this.setBuffCD(r),1008==t||2003==t||2005==t)return;var s=g_getDataInArr(r,cc.vv.gameMgr.buffList);if(1018==t)return null==this._duEffect?(this._duEffect=G_createPrefab(g_loadPrefab.effect),null!=this._duEffect&&(this.node.addChild(this._duEffect),this._duEffect.getComponent("effect").initDu(),this._duEffect._buffCount=1)):this._duEffect._buffCount++,void this.scheduleOnce(function(){null!=a._duEffect&&(a._duEffect._buffCount--,0==a._duEffect._buffCount&&(a._duEffect.destroy(),a._duEffect=null))},s.time);if(1==e&&8==t)return null==this._zbingEffect?(this._zbingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._zbingEffect&&(this.node.addChild(this._zbingEffect),this._zbingEffect.getComponent("effect").initzdBing(),this._zbingEffect._buffCount=1)):this._zbingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._zbingEffect&&(a._zbingEffect._buffCount--,0==a._zbingEffect._buffCount&&(a._zbingEffect.getComponent("effect").setPoBing(),a._zbingEffect=null))},s.time[this.node._dsTimeLv]);if(16==t){var o=this.node.getChildByName("body");return o.color=cc.Color.fromHEX(cc.color(0,0,0),"#3A7DFE"),null==this._bingEffect?(this._bingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._bingEffect&&(this.node.addChild(this._bingEffect),this._bingEffect.getComponent("effect").initBing(),this._bingEffect._buffCount=1)):this._bingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._bingEffect&&(a._bingEffect._buffCount--,0==a._bingEffect._buffCount&&(o.color=cc.Color.fromHEX(cc.color(0,0,0),"#FFFFFF"),a._bingEffect.destroy(),a._bingEffect=null))},s.time)}}if(23==t){for(var l=g_getDataInArr(t,g_DataMgr.generalSaveArr),g=i.buffid[l.skillLv],c=0;c<g.length;++c){var h=g[c];this._buffArr.push(h),this.setBuffCD(h)}var _=g_getDataInArr(g[0],cc.vv.gameMgr.buffList),u=G_createPrefab(g_loadPrefab.effect);if(null!=u){var d=g_getEffect(_.effect,g_heroEffectRes);if(null==d)return;this.node.addChild(u),u.y=200,u.getComponent("effect").initBuffEffect(d,_.time)}}}},showMissEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.position=cc.v2(0,50),t.getComponent("effect").initEffectByAttack("textrue/effect/eff_miss"))},showHitEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.addChild(a),a.position=cc.v2(0,50),a.getComponent("effect").initEffectByAttack(e))},showAttackZi:function(t,e,a){var i=this;cc.vv.configMgr.loadPrefab(g_prefabPath.piaozi,function(r){var n=cc.instantiate(r);i.node.addChild(n),n.x=0,n.y=50;var s=0;e?s=3:null!=a&&(s=a),n.getComponent("piaozi").showNumBytype(t,s,1)})},changeTarget:function(){null!=this._target&&null!=this._target.parent||(this._target=g_gameContol._enemyTower),null!=this._target.getComponent("tower")&&0!=g_gameContol._monsterArr.length&&(this._target=g_gameContol.findMinlen(g_gameContol._monsterArr,this.node,0))},checkAttack:function(){if(!this._isJX&&!this._isMove&&null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(null==this._target.parent||null==this._target)return this.changeTarget(),void(null!=this._target&&(this._isMove=!0));if(null==this._target.getComponent("tower")||0!=this._target.getComponent("tower")._curHP){for(var t=this._curHero.skill,e=[],a=0;a<t.length;++a)-1!=t[a]&&(e.push(a),null==this._skillCDMap[""+t[a]]&&(this._skillCDMap[""+t[a]]=!0));for(var i=[],r=g_checkLen(this.node.position,this._target.position),n=0;n<e.length;++n){var s=e[n];if(2002!=t[s]&&2005!=t[s]&&2009!=t[s]&&(14!=t[s]||null==this._hdNode)){var o=g_getDataInArr(t[s],cc.vv.gameMgr.skillList);null!=this._target.getComponent("tower")&&null!=o&&"all"!=o.target_Type||0!=s&&this._skillCDMap[""+t[s]]&&r<=o.distance&&i.push(n)}}if(0==i.length)return r<=this._curHero.attackDistance&&-1!=t[0]?(this.setAttack(0),1):(this._isMove=!0,3);var l=e[i[g_getRandom(0,i.length-1)]];return this.setAttack(l),1}}},setMove:function(){if(this._isMove&&!this._isAttack)if(null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(this.changeTarget(),null!=this._target){this.setChangeAnimate("run",!0);var t=this._target.x>=this.node.x?1:-1,e=this._target.y>=this.node.y?1:-1;this._zyBuffData.moveSpeed=null==this._zyBuffData.moveSpeed?0:this._zyBuffData.moveSpeed;var a=this._speed+this._zyBuffData.moveSpeed,i=Math.abs(this._target.y-this.node.y)*a/Math.abs(this._target.x-this.node.x);this.node.x+=a*t,this.node.y+=i*e,this._curHead.x=400*Math.abs(this.node.x+280)/1280-200,g_checkLen(this.node.position,this._target.position)<=this._curHero.attackDistance&&(this.setChangeAnimate("idle",!0),this._isMove=!1)}}else"run"===this._curAni&&this.setChangeAnimate("idle",!0)},update:function(){0==this._curHP||g_gameContol._isOver||g_gameContol._isGamePause?(g_gameContol._isOver||g_gameContol._isGamePause)&&"run"===this._curAni&&this.setChangeAnimate("idle",!0):(this.showBuffTime(),this.setMove(),this.checkAttack())},showBuffTime:function(){this._count++,60==this._count&&(this._count=0,this._jsTime>0&&(this._jsTime--,0==this._jsTime&&(this._jsEffect.destroy(),this._jsEffect=null)),this._jxTime>0&&(this._jxTime--,0==this._jxTime&&(this._jxEffect.destroy(),this._jxEffect=null,this._isJX=!1)),this._cfTime>0&&(this._cfTime--,0==this._cfTime&&(this._caofEffect.destroy(),this._caofEffect=null,this.changeTarget())),this._linkTime>0&&(this._linkTime--,0==this._linkTime&&(this._linkEffect.destroy(),this._linkEffect=null))),this._xyTime>0&&(this._xyTime--,0==this._xyTime&&(this._xyEffect.destroy(),this._xyEffect=null))}}),cc._RF.pop()},{}],jjIntro:[function(t,e){"use strict";cc._RF.push(e,"b8cdabamYxAV7kzfbtnU/R5","jjIntro"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.jjintro=this.node.getChildByName("bg").getChildByName("jjintro"),this.slintro=this.node.getChildByName("bg").getChildByName("slintro"),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},showIntro:function(t){1==t?this.slintro.active=!0:this.jjintro.active=!0},onBtnClick:function(t){cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||"btn_true"==t.target.name&&this.destroyFun()},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],jjshop:[function(t,e){"use strict";cc._RF.push(e,"4a9678EAKdNtoUQ4YIlXUIX","jjshop"),cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,jjbLbNode:cc.Node},onLoad:function(){this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg")),this.initShop()},initShop:function(){for(var t=cc.vv.gameMgr.jShopList,e=0;e<t.length;++e){var a=cc.instantiate(this.item);this.content.addChild(a);var i="prop_"+t[e].icon;if(t[e].icon>50&&t[e].icon<60){i="s_"+t[e].icon;var r=t[e].icon-50;r>5&&(r=5),a.getChildByName("k").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+r)}if(t[e].icon>=1001&&t[e].icon<=1005){i="kb_"+t[e].icon;var n=t[e].icon-1e3;a.getChildByName("k").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+n)}if(t[e].icon>100&&t[e].icon<500){var s=g_getAtlas(g_skinAtlas.head),o=t[e].icon-100;i="head_"+o,a.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=s.getSpriteFrame(i);var l=g_getDataInArr(o,cc.vv.gameMgr.generalList);a.getChildByName("k").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+l.quality)}else a.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame(i);a.getChildByName("num").getComponent(cc.Label).string="x"+t[e].getNum;var g=null==g_DataMgr.rankSaveData.buyTimeArr[""+t[e].ID]?0:g_DataMgr.rankSaveData.buyTimeArr[""+t[e].ID];a.getChildByName("xhnum").getComponent(cc.Label).string=g+"/"+t[e].buyTime,a.getChildByName("btn_buy").getChildByName("lb").getComponent(cc.Label).string=t[e].price,a._goodData=t[e],a.getChildByName("btn_buy").on(cc.Node.EventType.TOUCH_END,this.onBuyClick,this),a.getChildByName("k").on(cc.Node.EventType.TOUCH_END,this.onGoodTS,this),a.getChildByName("suo").getChildByName("lb").getComponent(cc.Label).string="\u7ade\u6280\u573a"+t[e].jslv+"\u89e3\u9501",a.getChildByName("suo").active=g_DataMgr.rankSaveData.rankNum<t[e].jslv-1,a.getChildByName("btn_buy").active=0!=g,a.getChildByName("btn_yw").active=0==g}this.updatajb()},updataItem:function(t){var e=t._goodData,a=null==g_DataMgr.rankSaveData.buyTimeArr[""+e.ID]?0:g_DataMgr.rankSaveData.buyTimeArr[""+e.ID];t.getChildByName("xhnum").getComponent(cc.Label).string=a+"/"+e.buyTime,t.getChildByName("btn_buy").active=0!=a,t.getChildByName("btn_yw").active=0==a},onGoodTS:function(t){var e=t.target.parent,a=e.position,i=e.parent.convertToWorldSpaceAR(a),r=this.node.parent.convertToNodeSpaceAR(i);this.node.getChildByName("btn_closets").active=!0;var n=this.node.getChildByName("btn_closets").getChildByName("talk");n.getChildByName("lb").getComponent(cc.Label).string=e._goodData.intro,n.position=cc.v2(r.x,r.y+100)},showAwardTS:function(t){var e=[],a={propType:t.icon,getNum:t.getNum,zbID:0};if(a.propType>=1001&&a.propType<=1006){var i=g_getDataInArr(a.propType,cc.vv.gameMgr.dropList),r=g_getIndexByQZArr(i.weights),n=i.dropitem[r];a.propType=n}e.push(a);var s=G_createPrefab(g_loadPrefab.getAward);null!=s&&(g_hallContol.node.addChild(s),s.getComponent("getAward").initAward(e,0))},updatajb:function(){this.jjbLbNode.getComponent(cc.Label).string=g_getBigNumAbb(g_DataMgr.pinfo.jjCoin)},onBuyClick:function(t){var e=t.target.parent,a=e._goodData;if(e.getChildByName("suo").active){var i="\u7ade\u6280\u573a"+a.jslv+"\u89e3\u9501";cc.vv.configMgr.addTips(i)}else 0!=g_DataMgr.rankSaveData.buyTimeArr[""+a.ID]?g_DataMgr.pinfo.jjCoin<a.price?cc.vv.configMgr.addTips("\u7ade\u6280\u77f3\u4e0d\u8db3"):(g_DataMgr.rankSaveData.buyTimeArr[""+a.ID]--,g_DataMgr.pinfo.jjCoin-=a.price,g_DataMgr.saveRankData(),g_DataMgr.savePinfo(),this.showAwardTS(a),this.updataItem(e),this.updatajb()):cc.vv.configMgr.addTips("\u8d2d\u4e70\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c")},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_back"==t.target.name){var e=g_hallContol.layerNode.getChildByName("UIyjzl");if(null!=e){var a=e.getComponent("UIyjzl");null!=a&&a.checkShopred()}this.destroFun()}else"btn_closets"==t.target.name&&(this.node.getChildByName("btn_closets").active=!1)},destroFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],list:[function(t,e){"use strict";cc._RF.push(e,"013df9dzixEbYzx6N7M/IYG","list"),window.G_zgHero=[{ID:501,HP:1e3,attack:200,intervalTime:1,crit:0,hurtSub:0,moveSpeed:3,cost:100,card:0,upgradeExp:0,zl:100,attackDistance:160,dTime:5,skill:[801]}],window.G_boxAwardArr=[{protype:1,msStr:1,maxTime:5,awardArr:[1e3,1e3,1500,1e3,2e3]},{protype:2,msStr:2,maxTime:5,awardArr:[100,100,150,100,200]},{protype:3,msStr:3,maxTime:5,awardArr:[100,100,150,100,200]},{protype:6,msStr:4,maxTime:5,awardArr:[10,10,20,20,50]},{protype:0,msStr:5,maxTime:5,awardArr:[[0,111,0]]}],window.G_tuisArr=[{ID:1,dropitem:[[2,200],[1,1e3]],card:[102,103,113,116,104,112,115]},{ID:2,dropitem:[[2,200],[3,100]],card:[102,103,113,116,104,112,115]},{ID:3,dropitem:[[2,200],[1,1e3]],card:[102,103,113,116,104,112,115]},{ID:4,dropitem:[[2,200],[3,100]],card:[102,103,113,116,104,112,115]},{ID:5,dropitem:[[2,200],[1,1e3]],card:[102,103,113,116,104,112,115]},{ID:6,dropitem:[[2,200],[3,100]],card:[102,103,113,116,104,112,115]},{ID:7,dropitem:[[2,200],[1,1e3]],card:[102,103,113,116,104,112,115]},{ID:8,dropitem:[[2,200],[3,100]],card:[102,103,113,116,104,112,115]},{ID:9,dropitem:[[2,200],[1,1e3]],card:[102,103,113,116,104,112,115]},{ID:10,dropitem:[[2,200],[3,100]],card:[102,103,113,116,104,112,115]}],window.G_AwardArr=[{ID:1,winAward:{exp:0,propArr:[[1,500,500],[7,10,5],[5,5,5]]},loseAward:{exp:0,propArr:[]},box1AwardArr:[[1,200,40,1e3],[5,15,5,200],[3,40,10,20],[4,80,20,20]],box2AwardArr:[[52,3,2,20],[53,3,2,20],[55,3,2,20],[0,151,1,20],[0,151,1,20],[0,151,1,20]]},{ID:101,winAward:{exp:0,propArr:[[1,60,3],[3,10,1]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:102,winAward:{exp:0,propArr:[[1,65,3],[3,10,1]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:103,winAward:{exp:0,propArr:[[1,70,3],[3,10,1]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:104,winAward:{exp:0,propArr:[[1,75,3],[3,10,1]]},loseAward:{exp:0,propArr:[[109,1,0],[2,10,0]]}},{ID:105,winAward:{exp:0,propArr:[[1,80,4],[3,10,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:201,winAward:{exp:0,propArr:[[1,85,4],[3,12,1]]},loseAward:{exp:0,propArr:[[105,1,0],[2,10,0]]}},{ID:202,winAward:{exp:0,propArr:[[1,90,4],[3,12,1]]},loseAward:{exp:0,propArr:[[105,1,0],[2,10,0]]}},{ID:203,winAward:{exp:0,propArr:[[1,95,4],[3,12,1]]},loseAward:{exp:0,propArr:[[109,1,0],[2,10,0]]}},{ID:204,winAward:{exp:0,propArr:[[1,100,5],[3,12,1]]},loseAward:{exp:0,propArr:[[105,1,0],[2,10,0]]}},{ID:205,winAward:{exp:0,propArr:[[1,105,5],[3,12,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:206,winAward:{exp:0,propArr:[[1,110,5],[3,14,1]]},loseAward:{exp:0,propArr:[[101,1,0],[2,10,0]]}},{ID:207,winAward:{exp:0,propArr:[[1,115,5],[3,14,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:301,winAward:{exp:0,propArr:[[1,120,6],[3,14,1]]},loseAward:{exp:0,propArr:[[109,1,0],[2,10,0]]}},{ID:302,winAward:{exp:0,propArr:[[1,125,6],[3,14,1]]},loseAward:{exp:0,propArr:[[109,1,0],[2,10,0]]}},{ID:303,winAward:{exp:0,propArr:[[1,130,6],[3,14,1]]},loseAward:{exp:0,propArr:[[109,1,0],[2,10,0]]}},{ID:304,winAward:{exp:0,propArr:[[1,135,6],[3,16,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:305,winAward:{exp:0,propArr:[[1,140,7],[3,16,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:306,winAward:{exp:0,propArr:[[1,145,7],[3,16,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:307,winAward:{exp:0,propArr:[[1,150,7],[3,16,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:401,winAward:{exp:0,propArr:[[1,155,7],[3,16,1]]},loseAward:{exp:0,propArr:[[105,1,0],[2,10,0]]}},{ID:402,winAward:{exp:0,propArr:[[1,160,8],[3,18,1]]},loseAward:{exp:0,propArr:[[103,1,0],[2,10,0]]}},{ID:403,winAward:{exp:0,propArr:[[1,165,8],[3,18,1]]},loseAward:{exp:0,propArr:[[114,1,0],[2,10,0]]}},{ID:404,winAward:{exp:0,propArr:[[1,170,8],[3,18,1]]},loseAward:{exp:0,propArr:[[105,1,0],[2,10,0]]}},{ID:405,winAward:{exp:0,propArr:[[1,175,8],[3,18,1]]},loseAward:{exp:0,propArr:[[115,1,0],[2,10,0]]}},{ID:406,winAward:{exp:0,propArr:[[1,180,9],[3,18,1]]},loseAward:{exp:0,propArr:[[105,1,0],[2,10,0]]}},{ID:407,winAward:{exp:0,propArr:[[1,185,9],[3,20,2]]},loseAward:{exp:0,propArr:[[103,1,0],[2,10,0]]}},{ID:408,winAward:{exp:0,propArr:[[1,190,9],[3,20,2]]},loseAward:{exp:0,propArr:[[101,1,0],[2,10,0]]}},{ID:409,winAward:{exp:0,propArr:[[1,195,9],[3,20,2]]},loseAward:{exp:0,propArr:[[109,1,0],[2,10,0]]}},{ID:410,winAward:{exp:0,propArr:[[1,200,10],[3,20,2]]},loseAward:{exp:0,propArr:[[108,1,0],[2,10,0]]}},{ID:501,winAward:{exp:0,propArr:[[1,205,10],[3,20,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:502,winAward:{exp:0,propArr:[[1,210,10],[3,22,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:503,winAward:{exp:0,propArr:[[1,215,10],[3,22,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:504,winAward:{exp:0,propArr:[[1,220,11],[3,22,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:505,winAward:{exp:0,propArr:[[1,225,11],[3,22,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:506,winAward:{exp:0,propArr:[[1,230,11],[3,22,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:507,winAward:{exp:0,propArr:[[1,235,11],[3,24,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:508,winAward:{exp:0,propArr:[[1,240,12],[3,24,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:509,winAward:{exp:0,propArr:[[1,245,12],[3,24,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:510,winAward:{exp:0,propArr:[[1,250,12],[3,24,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:601,winAward:{exp:0,propArr:[[1,255,12],[3,24,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:602,winAward:{exp:0,propArr:[[1,260,13],[3,26,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:603,winAward:{exp:0,propArr:[[1,265,13],[3,26,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:604,winAward:{exp:0,propArr:[[1,270,13],[3,26,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:605,winAward:{exp:0,propArr:[[1,275,13],[3,26,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:606,winAward:{exp:0,propArr:[[1,280,14],[3,26,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:607,winAward:{exp:0,propArr:[[1,285,14],[3,28,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:608,winAward:{exp:0,propArr:[[1,290,14],[3,28,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:609,winAward:{exp:0,propArr:[[1,295,14],[3,28,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:610,winAward:{exp:0,propArr:[[1,300,15],[3,28,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:701,winAward:{exp:0,propArr:[[1,305,15],[3,28,2]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:702,winAward:{exp:0,propArr:[[1,310,15],[3,30,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:703,winAward:{exp:0,propArr:[[1,315,15],[3,30,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:704,winAward:{exp:0,propArr:[[1,320,16],[3,30,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:705,winAward:{exp:0,propArr:[[1,325,16],[3,30,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:706,winAward:{exp:0,propArr:[[1,330,16],[3,30,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:707,winAward:{exp:0,propArr:[[1,335,16],[3,32,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:708,winAward:{exp:0,propArr:[[1,340,17],[3,32,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:709,winAward:{exp:0,propArr:[[1,345,17],[3,32,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:710,winAward:{exp:0,propArr:[[1,350,17],[3,32,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:801,winAward:{exp:0,propArr:[[1,355,17],[3,32,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:802,winAward:{exp:0,propArr:[[1,360,18],[3,34,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:803,winAward:{exp:0,propArr:[[1,365,18],[3,34,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:804,winAward:{exp:0,propArr:[[1,370,18],[3,34,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:805,winAward:{exp:0,propArr:[[1,375,18],[3,34,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:806,winAward:{exp:0,propArr:[[1,380,19],[3,34,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:807,winAward:{exp:0,propArr:[[1,385,19],[3,36,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:808,winAward:{exp:0,propArr:[[1,390,19],[3,36,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:809,winAward:{exp:0,propArr:[[1,395,19],[3,36,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:810,winAward:{exp:0,propArr:[[1,400,20],[3,36,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:901,winAward:{exp:0,propArr:[[1,405,20],[3,36,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:902,winAward:{exp:0,propArr:[[1,410,20],[3,38,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:903,winAward:{exp:0,propArr:[[1,415,20],[3,38,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:904,winAward:{exp:0,propArr:[[1,420,21],[3,38,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:905,winAward:{exp:0,propArr:[[1,425,21],[3,38,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:906,winAward:{exp:0,propArr:[[1,430,21],[3,38,3]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:907,winAward:{exp:0,propArr:[[1,435,21],[3,40,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:908,winAward:{exp:0,propArr:[[1,440,22],[3,40,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:909,winAward:{exp:0,propArr:[[1,445,22],[3,40,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:910,winAward:{exp:0,propArr:[[1,450,22],[3,40,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1001,winAward:{exp:0,propArr:[[1,455,22],[3,40,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1002,winAward:{exp:0,propArr:[[1,460,23],[3,42,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1003,winAward:{exp:0,propArr:[[1,465,23],[3,42,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1004,winAward:{exp:0,propArr:[[1,470,23],[3,42,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1005,winAward:{exp:0,propArr:[[1,475,23],[3,42,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1006,winAward:{exp:0,propArr:[[1,480,24],[3,42,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1007,winAward:{exp:0,propArr:[[1,485,24],[3,44,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1008,winAward:{exp:0,propArr:[[1,490,24],[3,44,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1009,winAward:{exp:0,propArr:[[1,495,24],[3,44,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:1010,winAward:{exp:0,propArr:[[1,500,25],[3,44,4]]},loseAward:{exp:0,propArr:[[2,10,0]]}},{ID:10001,winAward:{exp:0,propArr:[[1,50],[3,5]]},loseAward:{exp:0,propArr:[[]]}},{ID:10002,winAward:{exp:0,propArr:[[1,100],[3,10]]},loseAward:{exp:0,propArr:[[1,50],[3,5]]}},{ID:10003,winAward:{exp:0,propArr:[[1,150],[3,15]]},loseAward:{exp:0,propArr:[[1,100],[3,10]]}},{ID:10004,winAward:{exp:0,propArr:[[1,200],[3,20]]},loseAward:{exp:0,propArr:[[1,150],[3,15]]}},{ID:10005,winAward:{exp:0,propArr:[[1,250],[3,25],[6,5]]},loseAward:{exp:0,propArr:[[1,200],[3,20]]}},{ID:10006,winAward:{exp:0,propArr:[[1,300],[3,30],[6,5]]},loseAward:{exp:0,propArr:[[1,250],[3,25],[6,5]]}},{ID:10007,winAward:{exp:0,propArr:[[1,350],[3,35],[6,5]]},loseAward:{exp:0,propArr:[[1,300],[3,30],[6,5]]}},{ID:10008,winAward:{exp:0,propArr:[[1,400],[3,40],[6,5]]},loseAward:{exp:0,propArr:[[1,350],[3,35],[6,5]]}},{ID:10009,winAward:{exp:0,propArr:[[1,450],[3,45],[6,5]]},loseAward:{exp:0,propArr:[[1,400],[3,40],[6,5]]}},{ID:10010,winAward:{exp:0,propArr:[[1,525],[3,55],[6,5]]},loseAward:{exp:0,propArr:[[1,450],[3,45],[6,5]]}},{ID:10011,winAward:{exp:0,propArr:[[1,600],[3,65],[6,5]]},loseAward:{exp:0,propArr:[[1,525],[3,55],[6,5]]}},{ID:10012,winAward:{exp:0,propArr:[[1,675],[3,75],[6,5]]},loseAward:{exp:0,propArr:[[1,600],[3,65],[6,5]]}},{ID:10013,winAward:{exp:0,propArr:[[1,750],[3,85],[6,5]]},loseAward:{exp:0,propArr:[[1,675],[3,75],[6,5]]}},{ID:10014,winAward:{exp:0,propArr:[[1,825],[3,95],[6,5]]},loseAward:{exp:0,propArr:[[1,750],[3,85],[6,5]]}},{ID:10015,winAward:{exp:0,propArr:[[1,900],[3,105],[6,10]]},loseAward:{exp:0,propArr:[[1,825],[3,95],[6,5]]}},{ID:10016,winAward:{exp:0,propArr:[[1,975],[3,115],[6,10]]},loseAward:{exp:0,propArr:[[1,900],[3,105],[6,10]]}},{ID:10017,winAward:{exp:0,propArr:[[1,1050],[3,125],[6,10]]},loseAward:{exp:0,propArr:[[1,975],[3,115],[6,10]]}},{ID:10018,winAward:{exp:0,propArr:[[1,1125],[3,135],[6,10]]},loseAward:{exp:0,propArr:[[1,1050],[3,125],[6,10]]}},{ID:10019,winAward:{exp:0,propArr:[[1,1225],[3,150],[6,10]]},loseAward:{exp:0,propArr:[[1,1125],[3,135],[6,10]]}},{ID:10020,winAward:{exp:0,propArr:[[1,1325],[3,165],[6,10]]},loseAward:{exp:0,propArr:[[1,1225],[3,150],[6,10]]}},{ID:10021,winAward:{exp:0,propArr:[[1,1425],[3,180],[6,10]]},loseAward:{exp:0,propArr:[[1,1325],[3,165],[6,10]]}},{ID:10022,winAward:{exp:0,propArr:[[1,1525],[3,195],[6,10]]},loseAward:{exp:0,propArr:[[1,1425],[3,180],[6,10]]}},{ID:10023,winAward:{exp:0,propArr:[[1,1625],[3,210],[6,10]]},loseAward:{exp:0,propArr:[[1,1525],[3,195],[6,10]]}},{ID:10024,winAward:{exp:0,propArr:[[1,1725],[3,225],[6,10]]},loseAward:{exp:0,propArr:[[1,1625],[3,210],[6,10]]}},{ID:10025,winAward:{exp:0,propArr:[[1,1825],[3,240],[6,15]]},loseAward:{exp:0,propArr:[[1,1725],[3,225],[6,10]]}},{ID:10026,winAward:{exp:0,propArr:[[1,1925],[3,255],[6,15]]},loseAward:{exp:0,propArr:[[1,1825],[3,240],[6,15]]}},{ID:10027,winAward:{exp:0,propArr:[[1,2025],[3,270],[6,15]]},loseAward:{exp:0,propArr:[[1,1925],[3,255],[6,15]]}},{ID:10028,winAward:{exp:0,propArr:[[1,2150],[3,290],[6,15]]},loseAward:{exp:0,propArr:[[1,2025],[3,270],[6,15]]}},{ID:10029,winAward:{exp:0,propArr:[[1,2275],[3,310],[6,15]]},loseAward:{exp:0,propArr:[[1,2150],[3,290],[6,15]]}},{ID:10030,winAward:{exp:0,propArr:[[1,2400],[3,330],[6,15]]},loseAward:{exp:0,propArr:[[1,2275],[3,310],[6,15]]}},{ID:10031,winAward:{exp:0,propArr:[[1,2525],[3,350],[6,15]]},loseAward:{exp:0,propArr:[[1,2400],[3,330],[6,15]]}},{ID:10032,winAward:{exp:0,propArr:[[1,2650],[3,370],[6,15]]},loseAward:{exp:0,propArr:[[1,2525],[3,350],[6,15]]}},{ID:10033,winAward:{exp:0,propArr:[[1,2775],[3,390],[6,15]]},loseAward:{exp:0,propArr:[[1,2650],[3,370],[6,15]]}},{ID:10034,winAward:{exp:0,propArr:[[1,2900],[3,410],[6,15]]},loseAward:{exp:0,propArr:[[1,2775],[3,390],[6,15]]}},{ID:10035,winAward:{exp:0,propArr:[[1,3025],[3,430],[6,20]]},loseAward:{exp:0,propArr:[[1,2900],[3,410],[6,15]]}},{ID:10036,winAward:{exp:0,propArr:[[1,3150],[3,450],[6,20]]},loseAward:{exp:0,propArr:[[1,3025],[3,430],[6,20]]}},{ID:10037,winAward:{exp:0,propArr:[[1,3300],[3,475],[6,20]]},loseAward:{exp:0,propArr:[[1,3150],[3,450],[6,20]]}},{ID:10038,winAward:{exp:0,propArr:[[1,3450],[3,500],[6,20]]},loseAward:{exp:0,propArr:[[1,3300],[3,475],[6,20]]}},{ID:10039,winAward:{exp:0,propArr:[[1,3600],[3,525],[6,20]]},loseAward:{exp:0,propArr:[[1,3450],[3,500],[6,20]]}},{ID:10040,winAward:{exp:0,propArr:[[1,3750],[3,550],[6,20]]},loseAward:{exp:0,propArr:[[1,3600],[3,525],[6,20]]}},{ID:10041,winAward:{exp:0,propArr:[[1,3900],[3,575],[6,20]]},loseAward:{exp:0,propArr:[[1,3750],[3,550],[6,20]]}},{ID:10042,winAward:{exp:0,propArr:[[1,4050],[3,600],[6,20]]},loseAward:{exp:0,propArr:[[1,3900],[3,575],[6,20]]}},{ID:10043,winAward:{exp:0,propArr:[[1,4200],[3,625],[6,20]]},loseAward:{exp:0,propArr:[[1,4050],[3,600],[6,20]]}},{ID:10044,winAward:{exp:0,propArr:[[1,4350],[3,650],[6,20]]},loseAward:{exp:0,propArr:[[1,4200],[3,625],[6,20]]}},{ID:10045,winAward:{exp:0,propArr:[[1,4500],[3,675],[6,25]]},loseAward:{exp:0,propArr:[[1,4350],[3,650],[6,20]]}},{ID:10046,winAward:{exp:0,propArr:[[1,4675],[3,705],[6,25]]},loseAward:{exp:0,propArr:[[1,4500],[3,675],[6,25]]}},{ID:10047,winAward:{exp:0,propArr:[[1,4850],[3,735],[6,25]]},loseAward:{exp:0,propArr:[[1,4675],[3,705],[6,25]]}},{ID:10048,winAward:{exp:0,propArr:[[1,5025],[3,765],[6,25]]},loseAward:{exp:0,propArr:[[1,4850],[3,735],[6,25]]}},{ID:10049,winAward:{exp:0,propArr:[[1,5200],[3,795],[6,25]]},loseAward:{exp:0,propArr:[[1,5025],[3,765],[6,25]]}},{ID:10050,winAward:{exp:0,propArr:[[1,5375],[3,825],[6,25]]},loseAward:{exp:0,propArr:[[1,5200],[3,795],[6,25]]}},{ID:10051,winAward:{exp:0,propArr:[[1,5550],[3,855],[6,25]]},loseAward:{exp:0,propArr:[[1,5375],[3,825],[6,25]]}},{ID:10052,winAward:{exp:0,propArr:[[1,5725],[3,885],[6,25]]},loseAward:{exp:0,propArr:[[1,5550],[3,855],[6,25]]}},{ID:10053,winAward:{exp:0,propArr:[[1,5900],[3,915],[6,25]]},loseAward:{exp:0,propArr:[[1,5725],[3,885],[6,25]]}},{ID:10054,winAward:{exp:0,propArr:[[1,6075],[3,945],[6,25]]},loseAward:{exp:0,propArr:[[1,5900],[3,915],[6,25]]}},{ID:10055,winAward:{exp:0,propArr:[[1,6275],[3,980],[6,30]]},loseAward:{exp:0,propArr:[[1,6075],[3,945],[6,25]]}},{ID:10056,winAward:{exp:0,propArr:[[1,6475],[3,1015],[6,30]]},loseAward:{exp:0,propArr:[[1,6275],[3,980],[6,30]]}},{ID:10057,winAward:{exp:0,propArr:[[1,6675],[3,1050],[6,30]]},loseAward:{exp:0,propArr:[[1,6475],[3,1015],[6,30]]}},{ID:10058,winAward:{exp:0,propArr:[[1,6875],[3,1085],[6,30]]},loseAward:{exp:0,propArr:[[1,6675],[3,1050],[6,30]]}},{ID:10059,winAward:{exp:0,propArr:[[1,7075],[3,1120],[6,30]]},loseAward:{exp:0,propArr:[[1,6875],[3,1085],[6,30]]}},{ID:10060,winAward:{exp:0,propArr:[[1,7275],[3,1155],[6,30]]},loseAward:{exp:0,propArr:[[1,7075],[3,1120],[6,30]]}},{ID:10061,winAward:{exp:0,propArr:[[1,7475],[3,1190],[6,30]]},loseAward:{exp:0,propArr:[[1,7275],[3,1155],[6,30]]}},{ID:10062,winAward:{exp:0,propArr:[[1,7675],[3,1225],[6,30]]},loseAward:{exp:0,propArr:[[1,7475],[3,1190],[6,30]]}},{ID:10063,winAward:{exp:0,propArr:[[1,7875],[3,1260],[6,30]]},loseAward:{exp:0,propArr:[[1,7675],[3,1225],[6,30]]}},{ID:10064,winAward:{exp:0,propArr:[[1,8100],[3,1300],[6,30]]},loseAward:{exp:0,propArr:[[1,7875],[3,1260],[6,30]]}},{ID:10065,winAward:{exp:0,propArr:[[1,8325],[3,1340],[6,35]]},loseAward:{exp:0,propArr:[[1,8100],[3,1300],[6,30]]}},{ID:10066,winAward:{exp:0,propArr:[[1,8550],[3,1380],[6,35]]},loseAward:{exp:0,propArr:[[1,8325],[3,1340],[6,35]]}},{ID:10067,winAward:{exp:0,propArr:[[1,8775],[3,1420],[6,35]]},loseAward:{exp:0,propArr:[[1,8550],[3,1380],[6,35]]}},{ID:10068,winAward:{exp:0,propArr:[[1,9e3],[3,1460],[6,35]]},loseAward:{exp:0,propArr:[[1,8775],[3,1420],[6,35]]}},{ID:10069,winAward:{exp:0,propArr:[[1,9225],[3,1500],[6,35]]},loseAward:{exp:0,propArr:[[1,9e3],[3,1460],[6,35]]}},{ID:10070,winAward:{exp:0,propArr:[[1,9450],[3,1540],[6,35]]},loseAward:{exp:0,propArr:[[1,9225],[3,1500],[6,35]]}},{ID:10071,winAward:{exp:0,propArr:[[1,9675],[3,1580],[6,35]]},loseAward:{exp:0,propArr:[[1,9450],[3,1540],[6,35]]}},{ID:10072,winAward:{exp:0,propArr:[[1,9900],[3,1620],[6,35]]},loseAward:{exp:0,propArr:[[1,9675],[3,1580],[6,35]]}},{ID:10073,winAward:{exp:0,propArr:[[1,10150],[3,1665],[6,35]]},loseAward:{exp:0,propArr:[[1,9900],[3,1620],[6,35]]}},{ID:10074,winAward:{exp:0,propArr:[[1,10400],[3,1710],[6,35]]},loseAward:{exp:0,propArr:[[1,10150],[3,1665],[6,35]]}},{ID:10075,winAward:{exp:0,propArr:[[1,10650],[3,1755],[6,40]]},loseAward:{exp:0,propArr:[[1,10400],[3,1710],[6,35]]}},{ID:10076,winAward:{exp:0,propArr:[[1,10900],[3,1800],[6,40]]},loseAward:{exp:0,propArr:[[1,10650],[3,1755],[6,40]]}},{ID:10077,winAward:{exp:0,propArr:[[1,11150],[3,1845],[6,40]]},loseAward:{exp:0,propArr:[[1,10900],[3,1800],[6,40]]}},{ID:10078,winAward:{exp:0,propArr:[[1,11400],[3,1890],[6,40]]},loseAward:{exp:0,propArr:[[1,11150],[3,1845],[6,40]]}},{ID:10079,winAward:{exp:0,propArr:[[1,11650],[3,1935],[6,40]]},loseAward:{exp:0,propArr:[[1,11400],[3,1890],[6,40]]}},{ID:10080,winAward:{exp:0,propArr:[[1,11900],[3,1980],[6,40]]},loseAward:{exp:0,propArr:[[1,11650],[3,1935],[6,40]]}},{ID:10081,winAward:{exp:0,propArr:[[1,12150],[3,2025],[6,40]]},loseAward:{exp:0,propArr:[[1,11900],[3,1980],[6,40]]}},{ID:10082,winAward:{exp:0,propArr:[[1,12425],[3,2075],[6,40]]},loseAward:{exp:0,propArr:[[1,12150],[3,2025],[6,40]]}},{ID:10083,winAward:{exp:0,propArr:[[1,12700],[3,2125],[6,40]]},loseAward:{exp:0,propArr:[[1,12425],[3,2075],[6,40]]}},{ID:10084,winAward:{exp:0,propArr:[[1,12975],[3,2175],[6,40]]},loseAward:{exp:0,propArr:[[1,12700],[3,2125],[6,40]]}},{ID:10085,winAward:{exp:0,propArr:[[1,13250],[3,2225],[6,45]]},loseAward:{exp:0,propArr:[[1,12975],[3,2175],[6,40]]}},{ID:10086,winAward:{exp:0,propArr:[[1,13525],[3,2275],[6,45]]},loseAward:{exp:0,propArr:[[1,13250],[3,2225],[6,45]]}},{ID:10087,winAward:{exp:0,propArr:[[1,13800],[3,2325],[6,45]]},loseAward:{exp:0,propArr:[[1,13525],[3,2275],[6,45]]}},{ID:10088,winAward:{exp:0,propArr:[[1,14075],[3,2375],[6,45]]},loseAward:{exp:0,propArr:[[1,13800],[3,2325],[6,45]]}},{ID:10089,winAward:{exp:0,propArr:[[1,14350],[3,2425],[6,45]]},loseAward:{exp:0,propArr:[[1,14075],[3,2375],[6,45]]}},{ID:10090,winAward:{exp:0,propArr:[[1,14625],[3,2475],[6,45]]},loseAward:{exp:0,propArr:[[1,14350],[3,2425],[6,45]]}},{ID:10091,winAward:{exp:0,propArr:[[1,14925],[3,2530],[6,45]]},loseAward:{exp:0,propArr:[[1,14625],[3,2475],[6,45]]}},{ID:10092,winAward:{exp:0,propArr:[[1,15225],[3,2585],[6,45]]},loseAward:{exp:0,propArr:[[1,14925],[3,2530],[6,45]]}},{ID:10093,winAward:{exp:0,propArr:[[1,15525],[3,2640],[6,45]]},loseAward:{exp:0,propArr:[[1,15225],[3,2585],[6,45]]}},{ID:10094,winAward:{exp:0,propArr:[[1,15825],[3,2695],[6,45]]},loseAward:{exp:0,propArr:[[1,15525],[3,2640],[6,45]]}},{ID:10095,winAward:{exp:0,propArr:[[1,16125],[3,2750],[6,50]]},loseAward:{exp:0,propArr:[[1,15825],[3,2695],[6,45]]}},{ID:10096,winAward:{exp:0,propArr:[[1,16425],[3,2805],[6,50]]},loseAward:{exp:0,propArr:[[1,16125],[3,2750],[6,50]]}},{ID:10097,winAward:{exp:0,propArr:[[1,16725],[3,2860],[6,50]]},loseAward:{exp:0,propArr:[[1,16425],[3,2805],[6,50]]}},{ID:10098,winAward:{exp:0,propArr:[[1,17025],[3,2915],[6,50]]},loseAward:{exp:0,propArr:[[1,16725],[3,2860],[6,50]]}},{ID:10099,winAward:{exp:0,propArr:[[1,17325],[3,2970],[6,50]]},loseAward:{exp:0,propArr:[[1,17025],[3,2915],[6,50]]}},{ID:10100,winAward:{exp:0,propArr:[[1,17650],[3,3030],[6,50]]},loseAward:{exp:0,propArr:[[1,17325],[3,2970],[6,50]]}}],window.g_boxAwardArr=[{ID:10014,propArr:[[114,1]],chapter:1,gk:5},{ID:10022,propArr:[[1,100],[3,50]],chapter:2,gk:1},{ID:10024,propArr:[[1,200],[2,10]],chapter:2,gk:4},{ID:10026,propArr:[[2,15],[61,2],[103,1]],chapter:2,gk:7},{ID:10032,propArr:[[1,100],[3,50]],chapter:3,gk:1},{ID:10034,propArr:[[1,200],[2,10]],chapter:3,gk:4},{ID:10036,propArr:[[2,15],[63,2],[113,1]],chapter:3,gk:7},{ID:10042,propArr:[[1,100],[3,50]],chapter:4,gk:1},{ID:10046,propArr:[[1,200],[2,10]],chapter:4,gk:5},{ID:10049,propArr:[[2,15],[62,2],[116,1]],chapter:4,gk:10},{ID:10052,propArr:[[1,100],[3,50]],chapter:5,gk:1},{ID:10056,propArr:[[1,200],[2,10]],chapter:5,gk:5},{ID:10059,propArr:[[2,15],[61,2],[104,1]],chapter:5,gk:10},{ID:10062,propArr:[[1,100],[3,50]],chapter:6,gk:1},{ID:10066,propArr:[[1,200],[2,10]],chapter:6,gk:5},{ID:10069,propArr:[[2,15],[63,2],[115,1]],chapter:6,gk:10},{ID:10072,propArr:[[1,100],[3,50]],chapter:7,gk:1},{ID:10076,propArr:[[1,200],[2,10]],chapter:7,gk:5},{ID:10079,propArr:[[2,15],[62,2],[117,1]],chapter:7,gk:10},{ID:10082,propArr:[[1,100],[3,50]],chapter:8,gk:1},{ID:10086,propArr:[[1,200],[2,10]],chapter:8,gk:5},{ID:10089,propArr:[[2,15],[61,2],[118,1]],chapter:8,gk:10},{ID:10092,propArr:[[1,100],[3,50]],chapter:9,gk:1},{ID:10096,propArr:[[1,200],[2,10]],chapter:9,gk:5},{ID:10099,propArr:[[2,15],[63,2],[112,1]],chapter:9,gk:10},{ID:10102,propArr:[[1,100],[3,50]],chapter:10,gk:1},{ID:10106,propArr:[[1,200],[2,10]],chapter:10,gk:5},{ID:10109,propArr:[[2,15],[62,2],[108,1]],chapter:10,gk:10},{ID:10112,propArr:[[1,100],[3,50]],chapter:11,gk:1},{ID:10116,propArr:[[1,200],[2,10]],chapter:11,gk:5},{ID:10119,propArr:[[2,20],[3,50],[61,2]],chapter:11,gk:10},{ID:10122,propArr:[[1,100],[3,50]],chapter:12,gk:1},{ID:10126,propArr:[[1,200],[2,10]],chapter:12,gk:5},{ID:10129,propArr:[[2,20],[3,50],[63,2]],chapter:12,gk:10},{ID:10132,propArr:[[1,100],[3,50]],chapter:13,gk:1},{ID:10136,propArr:[[1,200],[2,10]],chapter:13,gk:5},{ID:10139,propArr:[[2,20],[3,50],[62,2]],chapter:13,gk:10},{ID:10142,propArr:[[1,100],[3,50]],chapter:14,gk:1},{ID:10146,propArr:[[1,200],[2,10]],chapter:14,gk:5},{ID:10149,propArr:[[2,20],[3,50],[61,2]],chapter:14,gk:10},{ID:10152,propArr:[[1,100],[3,50]],chapter:15,gk:1},{ID:10156,propArr:[[1,200],[2,10]],chapter:15,gk:5},{ID:10159,propArr:[[2,20],[3,50],[63,2]],chapter:15,gk:10},{ID:10162,propArr:[[1,100],[3,50]],chapter:16,gk:1},{ID:10166,propArr:[[1,200],[2,10]],chapter:16,gk:5},{ID:10169,propArr:[[2,20],[3,50],[64,2]],chapter:16,gk:10},{ID:10172,propArr:[[1,100],[3,50]],chapter:17,gk:1},{ID:10176,propArr:[[1,200],[2,10]],chapter:17,gk:5},{ID:10179,propArr:[[2,20],[3,50],[65,2]],chapter:17,gk:10}],window.G_activity={ID:1,name:1,intro:2,bossID:18,lvInfo:[{ID:1,towerID:101,tjzdl:1e3,awardID:101,lvArr:[[[101,1,1],[102,1,10]],[[103,1,1],[104,1,1.2],[105,1,1.4],[106,1,1.5]]]},{ID:2,towerID:102,tjzdl:1500,awardID:102,lvArr:[[[107,1,10],[108,1,17],[109,1,22],[110,1,25],[111,1,28],[112,1,29],[113,1,35],[114,1,40],[115,1,40]]]},{ID:3,towerID:103,tjzdl:2e3,awardID:103,lvArr:[[[116,1,1],[117,1,10],[1,1,17],[2,1,22],[2,1,25],[1,1,28],[1,1,29],[2,1,35],[1,1,40],[2,1,40]],[[3,1,4],[3,1,8],[2,1,10],[2,1,10]]]},{ID:4,towerID:104,tjzdl:2500,awardID:104,lvArr:[[[1,1,1],[1,1,2],[3,2,10],[2,1,13],[2,1,16],[3,2,19],[1,1,22],[2,1,25],[1,1,25],[1,1,30]],[[3,2,5],[3,2,5],[2,2,10],[1,2,10]]]},{ID:5,towerID:105,tjzdl:3e3,awardID:105,lvArr:[[[1,1,1],[1,1,2],[3,2,10],[2,1,13],[2,1,16],[3,2,19],[1,1,22],[2,1,25],[1,1,25],[1,1,30]],[[10001,1,1]],[[3,2,5],[3,2,5],[2,2,10],[1,2,10]]]}]},window.g_chapter=[{ID:0,name:1,intro:2,tjzdl:1e3,lvInfo:[{ID:1,lvArr:[[1,0,.5],[1,1,5],[2,0,10.5],[1,2,15.5],[2,1,20.5]]}]},{ID:1,name:1,intro:2,bossID:18,boxArr:[-1,-1,10014],lvInfo:[{ID:1,towerID:101,tjzdl:1e3,awardID:101,lvArr:[[[3,1,1],[1,1,10]]]},{ID:2,towerID:102,tjzdl:1500,awardID:102,lvArr:[[[3,1,1],[2,1,1.2],[2,1,1.4],[2,1,1.5],[2,1,10],[1,1,17],[1,1,22],[2,1,25],[3,1,28],[2,1,29],[3,1,35],[1,1,40],[2,1,40]]]},{ID:3,towerID:103,tjzdl:2e3,awardID:103,lvArr:[[[2,1,1],[2,1,1],[1,1,10],[1,1,17],[2,1,22],[2,1,25],[1,1,28],[1,1,29],[2,1,35],[1,1,40],[2,1,40]],[[3,1,4],[3,1,8],[2,1,10],[2,1,10]]]},{ID:4,towerID:104,tjzdl:2500,awardID:104,lvArr:[[[1,1,1],[1,1,2],[3,2,10],[2,1,13],[2,1,16],[3,2,19],[1,1,22],[2,1,25],[1,1,25],[1,1,30]],[[3,2,5],[3,2,5],[2,2,10],[1,2,10]]]},{ID:5,towerID:105,tjzdl:3e3,awardID:105,lvArr:[[[1,1,1],[1,1,2],[3,2,10],[2,1,13],[2,1,16],[3,2,19],[1,1,22],[2,1,25],[1,1,25],[1,1,30]],[[10001,1,1]],[[3,2,5],[3,2,5],[2,2,10],[1,2,10]]]}]},{ID:2,name:3,intro:4,bossID:4,boxArr:[10022,10024,10026],lvInfo:[{ID:1,towerID:201,tjzdl:3100,awardID:201,lvArr:[[[3,2,3],[1,2,8],[1,2,10],[4,2,15],[4,2,15],[2,2,20],[2,2,20],[1,2,25],[3,2,25],[1,2,28]],[[4,2,4],[2,2,7],[2,2,12],[3,2,12],[1,2,17],[2,2,17],[4,2,22],[1,2,22],[2,2,22]]]},{ID:2,towerID:202,tjzdl:3200,awardID:202,lvArr:[[[2,3,3],[1,3,8],[1,3,10],[3,3,15],[3,3,15],[2,3,20],[2,3,20],[1,3,25],[3,3,25],[1,3,28]],[[4,3,4],[2,3,7],[2,3,12],[3,3,12],[1,3,17],[2,3,17],[4,3,22],[1,3,22],[2,3,22]]]},{ID:3,towerID:203,tjzdl:3300,awardID:203,lvArr:[[[4,3,3],[4,3,8],[1,3,10],[2,3,15],[3,3,15],[1,3,20],[2,3,20],[1,3,25],[4,3,25],[1,3,28]],[[4,3,4],[3,3,7],[2,3,12],[1,3,12],[1,3,17],[2,3,17],[2,3,22],[4,3,22],[2,3,22]]]},{ID:4,towerID:204,tjzdl:3400,awardID:204,lvArr:[[[5,3,3],[5,3,8],[2,3,10],[4,3,15],[1,3,15],[5,3,20],[5,3,20],[3,3,25],[1,3,25],[2,3,28]],[[2,3,4],[1,3,7],[1,3,12],[3,3,12],[5,3,17],[5,3,17],[4,3,22],[1,3,22],[2,3,22]]]},{ID:5,towerID:205,tjzdl:3500,awardID:205,lvArr:[[[4,3,3],[1,3,8],[1,3,10],[3,3,15],[2,3,15],[2,3,20],[5,3,20],[3,3,25],[2,3,25],[2,3,28]],[[2,3,4],[1,3,7],[1,3,12],[3,3,12],[5,3,17],[5,3,17],[4,3,22],[1,3,22],[2,3,22]]]},{ID:6,towerID:206,tjzdl:3600,awardID:206,lvArr:[[[4,4,3],[1,4,8],[1,4,10],[3,4,15],[2,4,15],[2,4,20],[5,4,20],[3,4,25],[2,4,25],[2,4,28]],[[2,4,4],[1,4,7],[1,4,12],[3,4,12],[5,4,17],[5,4,17],[4,4,22],[1,4,22],[2,4,22]]]},{ID:7,towerID:207,tjzdl:3700,awardID:207,lvArr:[[[6,4,3],[1,4,8],[1,4,10],[3,4,15],[2,4,15],[2,4,20],[5,4,20],[1,4,25],[1,4,25],[6,4,28]],[[1,4,4],[2,4,7],[3,4,12],[1,4,12],[1,4,17]],[[10002,5,1]],[[4,4,17],[1,4,22],[1,4,22],[2,4,22]]]}]},{ID:3,name:5,intro:6,bossID:11,boxArr:[10032,10034,10036],lvInfo:[{ID:1,towerID:301,tjzdl:3800,awardID:301,lvArr:[[[7,5,3],[2,5,8],[2,5,10],[3,5,15],[1,5,15],[1,5,20],[4,5,20],[2,5,25],[2,5,25],[7,5,28]],[[1,5,4],[2,5,7],[3,5,12],[1,5,12],[1,5,17],[4,5,17],[1,5,22],[1,5,22],[2,5,22]]]},{ID:2,towerID:302,tjzdl:3900,awardID:302,lvArr:[[[8,6,3],[2,6,8],[2,6,10],[4,6,15],[1,6,15],[1,6,20],[5,6,20],[2,6,25],[2,6,25],[3,6,28]],[[1,6,4],[2,6,7],[8,6,12],[1,6,12],[2,6,17],[1,6,17],[1,6,22],[1,6,22],[4,6,22],[4,2,22]]]},{ID:3,towerID:303,tjzdl:4e3,awardID:303,lvArr:[[[1,7,3],[1,7,8],[7,7,10],[2,7,15],[2,7,15],[8,7,20],[4,7,20],[4,7,25],[3,7,25],[6,7,28]],[[6,7,4],[4,7,7],[3,7,12],[2,7,12],[2,7,17],[8,7,17],[1,7,22],[2,7,22],[3,7,22],[2,3,22]]]},{ID:4,towerID:304,tjzdl:4100,awardID:304,lvArr:[[[8,8,3],[1,8,8],[1,8,10],[8,8,15],[9,8,15],[2,8,20],[5,8,20],[2,8,25],[2,8,25],[1,8,28]],[[1,8,4],[6,8,7],[6,8,12],[2,8,12],[2,8,17],[1,8,17],[3,8,22],[1,8,22],[1,8,22],[6,4,22]]]},{ID:5,towerID:305,tjzdl:4200,awardID:305,lvArr:[[[2,9,8],[3,9,10],[9,9,15],[2,9,15],[2,9,20],[6,9,20],[6,9,25],[1,9,25],[2,9,28]],[[8,9,4],[9,9,7],[5,9,12],[9,9,12],[3,9,17],[9,9,17],[2,9,22],[2,9,22],[8,9,22],[6,5,22]]]},{ID:6,towerID:306,tjzdl:4300,awardID:306,lvArr:[[[4,10,3],[8,10,8],[2,10,10],[1,10,15],[7,10,15],[2,10,20],[9,10,20],[4,10,25],[1,10,25],[2,10,28]],[[5,10,4],[6,10,7],[6,10,12],[7,10,12],[1,10,17],[2,10,17],[9,10,22],[4,10,22],[7,10,22],[2,6,22]]]},{ID:7,towerID:307,tjzdl:4400,awardID:307,lvArr:[[[6,11,3],[2,11,8],[2,11,10],[7,11,15],[1,11,15],[9,11,20],[8,11,20],[4,11,25],[1,11,25],[2,11,28]],[[6,11,4],[6,11,7],[6,11,12],[8,11,12],[1,11,17]],[[10003,10,1]],[[2,11,17],[9,11,22],[4,11,22],[7,11,22],[2,7,22]]]}]},{ID:4,name:7,intro:8,bossID:14,boxArr:[10042,10046,10049],lvInfo:[{ID:1,towerID:401,tjzdl:4800,awardID:401,lvArr:[[[8,12,3],[6,12,8],[10,12,10],[7,12,15],[1,12,15],[2,12,20],[8,12,20],[4,12,25],[4,12,25],[7,12,28]],[[9,12,4],[2,12,7],[2,12,12],[6,12,12],[4,12,17],[4,12,17],[5,12,22],[2,12,22],[10,12,22],[9,8,22]]]},{ID:2,towerID:402,tjzdl:4900,awardID:402,lvArr:[[[6,13,3],[7,13,8],[2,13,10],[9,13,15],[8,13,15],[2,13,20],[2,13,20],[6,13,25],[4,13,25],[4,13,28]],[[9,13,4],[2,13,7],[2,13,12],[6,13,12],[4,13,17],[4,13,17],[5,13,22],[2,13,22],[10,13,22],[9,9,22]]]},{ID:3,towerID:403,tjzdl:5e3,awardID:403,lvArr:[[[8,14,3],[1,14,8],[1,14,10],[5,14,15],[2,14,15],[2,14,20],[8,14,20],[9,14,25],[1,14,25],[7,14,28]],[[10,14,4],[1,14,7],[9,14,12],[4,14,12],[6,14,17],[4,14,17],[8,14,22],[2,14,22],[2,14,22],[10,10,22]]]},{ID:4,towerID:404,tjzdl:5100,awardID:404,lvArr:[[[7,15,3],[2,15,8],[11,15,10],[8,15,15],[4,15,15],[9,15,20],[7,15,20],[1,15,25],[1,15,25],[1,15,28]],[[6,15,4],[6,15,7],[4,15,12],[8,15,12],[10,15,17],[11,15,17],[7,15,22],[1,15,22],[2,15,22],[4,11,22]]]},{ID:5,towerID:405,tjzdl:5200,awardID:405,lvArr:[[[9,16,3],[2,16,8],[10,16,10],[8,16,15],[4,16,15],[9,16,20],[7,16,20],[4,16,25],[1,16,25],[1,16,28]],[[6,16,4],[4,16,7],[5,16,12],[8,16,12],[11,16,17],[7,16,17],[14,16,22],[8,16,22],[2,16,22],[4,12,22]]]},{ID:6,towerID:406,tjzdl:5300,awardID:406,lvArr:[[[4,17,3],[2,17,8],[6,17,10],[11,17,15],[4,17,15],[9,17,20],[8,17,20],[10,17,25],[1,17,25],[1,17,28]],[[6,17,4],[7,17,7],[4,17,12],[5,17,12],[10,17,17],[6,17,17],[7,17,22],[11,17,22],[2,17,22],[4,13,22]]]},{ID:7,towerID:407,tjzdl:5400,awardID:407,lvArr:[[[7,18,3],[2,18,8],[11,18,10],[8,18,15],[10,18,15],[8,18,20],[7,18,20],[4,18,25],[1,18,25],[1,18,28]],[[6,18,4],[5,18,7],[4,18,12],[8,18,12],[10,18,17],[6,18,17],[7,18,22],[11,18,22],[2,18,22],[4,14,22]]]},{ID:8,towerID:408,tjzdl:5500,awardID:408,lvArr:[[[5,19,3],[4,19,8],[8,19,10],[11,19,15],[4,19,15],[9,19,20],[6,19,20],[5,19,25],[2,19,25],[1,19,28]],[[3,19,4],[6,19,7],[4,19,12],[8,19,12],[10,19,17],[1,19,17],[7,19,22],[11,19,22],[2,19,22],[4,15,22]]]},{ID:9,towerID:409,tjzdl:5600,awardID:409,lvArr:[[[6,20,3],[3,20,8],[10,20,10],[8,20,15],[4,20,15],[9,20,20],[7,20,20],[5,20,25],[3,20,25],[1,20,28]],[[4,20,4],[5,20,7],[4,20,12],[7,20,12],[10,20,17],[8,20,17],[7,20,22],[7,20,22],[2,20,22],[4,16,22]]]},{ID:10,towerID:410,tjzdl:5700,awardID:410,lvArr:[[[16,21,3],[1,21,8],[1,21,10],[5,21,15],[2,21,15],[16,21,20],[17,21,20],[9,21,25],[1,21,25],[7,21,28]],[[10,21,4],[1,21,7],[9,21,12],[4,21,12],[6,21,17]],[[10004,20,1]],[[4,21,17],[8,21,22],[2,21,22],[2,21,22],[10,17,22]]]}]},{ID:5,name:9,intro:10,bossID:19,boxArr:[10052,10056,10059],lvInfo:[{ID:1,towerID:501,tjzdl:5800,awardID:501,lvArr:[[[6,22,3],[2,22,8],[10,22,10],[8,22,15],[4,22,15],[5,22,20],[11,22,20],[10,22,25],[4,22,25],[3,22,28]],[[5,22,4],[3,22,7],[19,22,12],[6,22,12],[11,22,17],[9,22,17],[8,22,22],[4,22,22],[1,22,22],[10,18,22]]]},{ID:2,towerID:502,tjzdl:5900,awardID:502,lvArr:[[[8,23,3],[7,23,8],[5,23,10],[4,23,15],[3,23,15],[10,23,20],[5,23,20],[3,23,25],[1,23,25],[9,23,28]],[[5,23,4],[3,23,7],[7,23,12],[5,23,12],[19,23,17],[9,23,17],[11,23,22],[10,23,22],[4,23,22],[3,19,22]]]},{ID:3,towerID:503,tjzdl:6e3,awardID:503,lvArr:[[[5,24,3],[2,24,8],[7,24,10],[10,24,15],[4,24,15],[10,24,20],[7,24,20],[5,24,25],[3,24,25],[1,24,28]],[[5,24,4],[2,24,7],[8,24,12],[11,24,12],[9,24,17],[2,24,17],[3,24,22],[1,24,22],[2,24,22],[4,20,22]]]},{ID:4,towerID:504,tjzdl:6100,awardID:504,lvArr:[[[3,25,3],[2,25,8],[10,25,10],[9,25,15],[7,25,15],[11,25,20],[10,25,20],[9,25,25],[3,25,25],[1,25,28]],[[9,25,4],[1,25,7],[4,25,12],[8,25,12],[9,25,17],[10,25,17],[19,25,22],[11,25,22],[2,25,22],[4,21,22]]]},{ID:5,towerID:505,tjzdl:6200,awardID:505,lvArr:[[[5,26,3],[2,26,8],[6,26,10],[10,26,15],[9,26,15],[11,26,20],[6,26,20],[5,26,25],[2,26,25],[1,26,28]],[[7,26,4],[6,26,7],[4,26,12],[8,26,12],[14,26,17],[5,26,17],[7,26,22],[11,26,22],[2,26,22],[4,22,22]]]},{ID:6,towerID:506,tjzdl:6300,awardID:506,lvArr:[[[12,27,3],[12,27,8],[17,27,10],[8,27,15],[4,27,15],[9,27,20],[7,27,20],[5,27,25],[3,27,25],[1,27,28]],[[4,27,4],[5,27,7],[4,27,12],[17,27,12],[10,27,17],[8,27,17],[17,27,22],[19,27,22],[2,27,22],[4,23,22]]]},{ID:7,towerID:507,tjzdl:6400,awardID:507,lvArr:[[[7,28,3],[2,28,8],[11,28,10],[8,28,15],[10,28,15],[8,28,20],[7,28,20],[4,28,25],[1,28,25],[1,28,28]],[[6,28,4],[5,28,7],[4,28,12],[8,28,12],[10,28,17],[6,28,17],[7,28,22],[11,28,22],[2,28,22],[4,24,22]]]},{ID:8,towerID:508,tjzdl:6500,awardID:508,lvArr:[[[5,29,3],[4,29,8],[8,29,10],[10,29,15],[4,29,15],[9,29,20],[6,29,20],[5,29,25],[2,29,25],[1,29,28]],[[3,29,4],[6,29,7],[4,29,12],[8,29,12],[10,29,17],[11,29,17],[7,29,22],[11,29,22],[2,29,22],[4,25,22]]]},{ID:9,towerID:509,tjzdl:6600,awardID:509,lvArr:[[[6,30,3],[3,30,8],[10,30,10],[8,30,15],[4,30,15],[9,30,20],[7,30,20],[5,30,25],[3,30,25],[1,30,28]],[[4,30,4],[5,30,7],[4,30,12],[7,30,12],[10,30,17],[8,30,17],[7,30,22],[7,30,22],[2,30,22],[4,26,22]]]},{ID:10,towerID:510,tjzdl:6700,awardID:510,lvArr:[[[16,31,3],[16,31,8],[15,31,10],[5,31,15],[2,31,15],[2,31,20],[8,31,20],[9,31,25],[15,31,25],[7,31,28]],[[16,31,4],[15,31,7],[15,31,12],[4,31,12],[6,31,17]],[[10005,10,1]],[[17,31,17],[8,31,22],[11,31,22],[2,31,22],[10,27,22]]]}]},{ID:6,name:11,intro:12,bossID:22,boxArr:[10062,10066,10069],lvInfo:[{ID:1,towerID:601,tjzdl:6800,awardID:601,lvArr:[[[15,32,3],[15,32,8],[10,32,10],[8,32,15],[14,32,15],[5,32,20],[11,32,20],[15,32,25],[4,32,25],[3,32,28]],[[15,32,4],[3,32,7],[7,32,12],[6,32,12],[11,32,17],[19,32,17],[8,32,22],[14,32,22],[1,32,22],[10,28,22]]]},{ID:2,towerID:602,tjzdl:6900,awardID:602,lvArr:[[[16,33,3],[4,33,8],[16,33,10],[10,33,15],[17,33,15],[9,33,20],[6,33,20],[5,33,25],[9,33,25],[1,33,28]],[[3,33,4],[16,33,7],[4,33,12],[8,33,12],[10,33,17],[11,33,17],[17,33,22],[11,33,22],[9,33,22],[9,29,22]]]},{ID:3,towerID:603,tjzdl:7e3,awardID:603,lvArr:[[[12,34,3],[12,34,8],[16,34,10],[12,34,15],[15,34,15],[15,34,20],[9,34,20],[9,34,25],[9,34,25],[1,34,28]],[[4,34,4],[19,34,7],[4,34,12],[7,34,12],[19,34,17],[8,34,17],[7,34,22],[9,34,22],[9,34,22],[9,30,22]]]},{ID:4,towerID:604,tjzdl:7100,awardID:604,lvArr:[[[20,35,3],[20,35,8],[14,35,10],[15,35,15],[15,35,15],[10,35,20],[10,35,20],[9,35,25],[9,35,25],[9,35,28]],[[12,35,4],[17,35,7],[12,35,12],[15,35,12],[15,35,17],[15,35,17],[19,35,22],[9,35,22],[9,35,22],[10,31,22]]]},{ID:5,towerID:605,tjzdl:7200,awardID:605,lvArr:[[[16,36,3],[16,36,8],[15,36,10],[5,36,15],[2,36,15],[2,36,20],[8,36,20],[9,36,25],[15,36,25],[7,36,28]],[[16,36,4],[15,36,7],[15,36,12],[4,36,12],[6,36,17],[17,36,17],[8,36,22],[11,36,22],[2,36,22],[10,32,22]]]},{ID:6,towerID:606,tjzdl:7300,awardID:606,lvArr:[[[12,37,3],[12,37,8],[16,37,10],[12,37,15],[15,37,15],[15,37,20],[9,37,20],[9,37,25],[9,37,25],[1,37,28]],[[4,37,4],[19,37,7],[4,37,12],[7,37,12],[19,37,17],[8,37,17],[7,37,22],[9,37,22],[9,37,22],[9,33,22]]]},{ID:7,towerID:607,tjzdl:7400,awardID:607,lvArr:[[[15,38,3],[15,38,8],[10,38,10],[8,38,15],[14,38,15],[5,38,20],[11,38,20],[15,38,25],[4,38,25],[3,38,28]],[[15,38,4],[3,38,7],[7,38,12],[6,38,12],[11,38,17],[19,38,17],[8,38,22],[14,38,22],[1,38,22],[10,34,22]]]},{ID:8,towerID:608,tjzdl:7500,awardID:608,lvArr:[[[16,39,3],[16,39,8],[15,39,10],[5,39,15],[2,39,15],[2,39,20],[8,39,20],[9,39,25],[15,39,25],[7,39,28]],[[16,39,4],[15,39,7],[15,39,12],[4,39,12],[6,39,17],[17,39,17],[8,39,22],[11,39,22],[2,39,22],[10,35,22]]]},{ID:9,towerID:609,tjzdl:7600,awardID:609,lvArr:[[[12,40,3],[12,40,8],[16,40,10],[12,40,15],[15,40,15],[15,40,20],[9,40,20],[9,40,25],[9,40,25],[1,40,28]],[[4,40,4],[19,40,7],[4,40,12],[7,40,12],[19,40,17],[8,40,17],[7,40,22],[9,40,22],[9,40,22],[9,36,22]]]},{ID:10,towerID:610,tjzdl:7700,awardID:610,lvArr:[[[15,41,3],[15,41,8],[10,41,10],[8,41,15],[14,41,15],[5,41,20],[11,41,20],[15,41,25],[4,41,25],[3,41,28]],[[15,41,4],[3,41,7],[7,41,12],[6,41,12],[11,41,17]],[[10006,20,1]],[[19,41,17],[8,41,22],[14,41,22],[1,41,22],[10,37,22]]]}]},{ID:7,name:13,intro:14,bossID:21,boxArr:[10072,10076,10079],lvInfo:[{ID:1,towerID:701,tjzdl:7800,awardID:701,lvArr:[[[20,42,3],[20,42,8],[14,42,10],[15,42,15],[15,42,15],[10,42,20],[10,42,20],[9,42,25],[9,42,25],[9,42,28]],[[12,42,4],[17,42,7],[12,42,12],[15,42,12],[15,42,17],[15,42,17],[19,42,22],[9,42,22],[9,42,22],[10,38,22]]]},{ID:2,towerID:702,tjzdl:7900,awardID:702,lvArr:[[[16,43,3],[16,43,8],[15,43,10],[5,43,15],[2,43,15],[2,43,20],[8,43,20],[9,43,25],[15,43,25],[7,43,28]],[[16,43,4],[15,43,7],[15,43,12],[4,43,12],[6,43,17],[17,43,17],[8,43,22],[11,43,22],[2,43,22],[10,39,22]]]},{ID:3,towerID:703,tjzdl:8e3,awardID:703,lvArr:[[[20,44,3],[20,44,8],[14,44,10],[15,44,15],[15,44,15],[10,44,20],[10,44,20],[9,44,25],[9,44,25],[9,44,28]],[[12,44,4],[17,44,7],[12,44,12],[15,44,12],[15,44,17],[15,44,17],[19,44,22],[9,44,22],[9,44,22],[10,40,22]]]},{ID:4,towerID:704,tjzdl:8100,awardID:704,lvArr:[[[12,45,3],[12,45,8],[16,45,10],[12,45,15],[15,45,15],[15,45,20],[9,45,20],[9,45,25],[9,45,25],[1,45,28]],[[4,45,4],[19,45,7],[4,45,12],[7,45,12],[19,45,17],[8,45,17],[7,45,22],[9,45,22],[9,45,22],[9,41,22]]]},{ID:5,towerID:705,tjzdl:8200,awardID:705,lvArr:[[[16,46,3],[16,46,8],[15,46,10],[5,46,15],[2,46,15],[2,46,20],[8,46,20],[9,46,25],[15,46,25],[7,46,28]],[[16,46,4],[15,46,7],[15,46,12],[4,46,12],[6,46,17],[17,46,17],[8,46,22],[11,46,22],[2,46,22],[10,42,22]]]},{ID:6,towerID:706,tjzdl:8300,awardID:706,lvArr:[[[12,47,3],[12,47,8],[16,47,10],[12,47,15],[15,47,15],[15,47,20],[9,47,20],[9,47,25],[9,47,25],[1,47,28]],[[4,47,4],[19,47,7],[4,47,12],[7,47,12],[19,47,17],[8,47,17],[7,47,22],[9,47,22],[9,47,22],[9,43,22]]]},{ID:7,towerID:707,tjzdl:8400,awardID:707,lvArr:[[[20,48,3],[20,48,8],[14,48,10],[15,48,15],[15,48,15],[10,48,20],[10,48,20],[9,48,25],[9,48,25],[9,48,28]],[[12,48,4],[17,48,7],[12,48,12],[15,48,12],[15,48,17],[15,48,17],[19,48,22],[9,48,22],[9,48,22],[10,44,22]]]},{ID:8,towerID:708,tjzdl:8500,awardID:708,lvArr:[[[16,49,3],[16,49,8],[15,49,10],[5,49,15],[2,49,15],[2,49,20],[8,49,20],[9,49,25],[15,49,25],[7,49,28]],[[16,49,4],[15,49,7],[15,49,12],[4,49,12],[6,49,17],[17,49,17],[8,49,22],[11,49,22],[2,49,22],[10,49,22]]]},{ID:9,towerID:709,tjzdl:8600,awardID:709,lvArr:[[[16,50,3],[4,50,8],[16,50,10],[10,50,15],[17,50,15],[9,50,20],[6,50,20],[5,50,25],[9,50,25],[1,50,28]],[[3,50,4],[16,50,7],[4,50,12],[8,50,12],[10,50,17],[11,50,17],[17,50,22],[11,50,22],[9,50,22],[9,50,22]]]},{ID:10,towerID:710,tjzdl:8700,awardID:710,lvArr:[[[12,51,3],[12,51,8],[16,51,10],[12,51,15],[15,51,15],[15,51,20],[9,51,20],[9,51,25],[9,51,25],[1,51,28]],[[4,51,4],[19,51,7],[4,51,12],[7,51,12],[19,51,17]],[[10007,20,1]],[[8,51,17],[7,51,22],[9,51,22],[9,51,22],[9,51,22]]]}]},{ID:8,name:15,intro:16,bossID:7,boxArr:[10082,10086,10089],lvInfo:[{ID:1,towerID:801,tjzdl:8800,awardID:801,lvArr:[[[20,52,3],[20,52,8],[14,52,10],[15,52,15],[15,52,15],[10,52,20],[10,52,20],[9,52,25],[9,52,25],[9,52,28]],[[12,52,4],[17,52,7],[12,52,12],[15,52,12],[15,52,17],[15,52,17],[19,52,22],[9,52,22],[9,52,22],[10,52,22]]]},{ID:2,towerID:802,tjzdl:8900,awardID:802,lvArr:[[[16,53,3],[4,53,8],[16,53,10],[10,53,15],[17,53,15],[9,53,20],[6,53,20],[5,53,25],[9,53,25],[1,53,28]],[[3,53,4],[16,53,7],[4,53,12],[8,53,12],[10,53,17],[11,53,17],[17,53,22],[11,53,22],[9,53,22],[9,53,22]]]},{ID:3,towerID:803,tjzdl:9e3,awardID:803,lvArr:[[[16,54,3],[16,54,8],[15,54,10],[5,54,15],[2,54,15],[2,54,20],[8,54,20],[9,54,25],[15,54,25],[7,54,28]],[[16,54,4],[15,54,7],[15,54,12],[4,54,12],[6,54,17],[17,54,17],[8,54,22],[11,54,22],[2,54,22],[10,54,22]]]},{ID:4,towerID:804,tjzdl:9100,awardID:804,lvArr:[[[16,55,3],[4,55,8],[16,55,10],[10,55,15],[17,55,15],[9,55,20],[6,55,20],[5,55,25],[9,55,25],[1,55,28]],[[3,55,4],[16,55,7],[4,55,12],[8,55,12],[10,55,17],[11,55,17],[17,55,22],[11,55,22],[9,55,22],[9,55,22]]]},{ID:5,towerID:805,tjzdl:9200,awardID:805,lvArr:[[[20,56,3],[20,56,8],[14,56,10],[15,56,15],[15,56,15],[10,56,20],[10,56,20],[9,56,25],[9,56,25],[9,56,28]],[[12,56,4],[17,56,7],[12,56,12],[15,56,12],[15,56,17],[15,56,17],[19,56,22],[9,56,22],[9,56,22],[10,56,22]]]},{ID:6,towerID:806,tjzdl:9300,awardID:806,lvArr:[[[16,57,3],[16,57,8],[15,57,10],[5,57,15],[2,57,15],[2,57,20],[8,57,20],[9,57,25],[15,57,25],[7,57,28]],[[16,57,4],[15,57,7],[15,57,12],[4,57,12],[6,57,17],[17,57,17],[8,57,22],[11,57,22],[2,57,22],[10,57,22]]]},{ID:7,towerID:807,tjzdl:9400,awardID:807,lvArr:[[[16,58,3],[4,58,8],[16,58,10],[10,58,15],[17,58,15],[9,58,20],[6,58,20],[5,58,25],[9,58,25],[1,58,28]],[[3,58,4],[16,58,7],[4,58,12],[8,58,12],[10,58,17],[11,58,17],[17,58,22],[11,58,22],[9,58,22],[9,58,22]]]},{ID:8,towerID:808,tjzdl:9500,awardID:808,lvArr:[[[20,59,3],[20,59,8],[14,59,10],[15,59,15],[15,59,15],[10,59,20],[10,59,20],[9,59,25],[9,59,25],[9,59,28]],[[12,59,4],[17,59,7],[12,59,12],[15,59,12],[15,59,17],[15,59,17],[19,59,22],[9,59,22],[9,59,22],[10,59,22]]]},{ID:9,towerID:809,tjzdl:9600,awardID:809,lvArr:[[[16,60,3],[16,60,8],[15,60,10],[5,60,15],[2,60,15],[2,60,20],[8,60,20],[9,60,25],[15,60,25],[7,60,28]],[[16,60,4],[15,60,7],[15,60,12],[4,60,12],[6,60,17],[17,60,17],[8,60,22],[11,60,22],[2,60,22],[10,60,22]]]},{ID:10,towerID:810,tjzdl:9700,awardID:810,lvArr:[[[15,61,3],[15,61,8],[10,61,10],[8,61,15],[14,61,15],[5,61,20],[11,61,20],[15,61,25],[4,61,25],[3,61,28]],[[15,61,4],[3,61,7],[7,61,12],[6,61,12],[11,61,17]],[[10008,20,1]],[[19,61,17],[8,61,22],[14,61,22],[1,61,22],[10,61,22]]]}]},{ID:9,name:17,intro:18,bossID:15,boxArr:[10092,10096,10099],lvInfo:[{ID:1,towerID:901,tjzdl:9800,awardID:901,lvArr:[[[20,62,3],[20,62,8],[14,62,10],[15,62,15],[15,62,15],[10,62,20],[10,62,20],[9,62,25],[9,62,25],[9,62,28]],[[12,62,4],[17,62,7],[12,62,12],[15,62,12],[15,62,17],[15,62,17],[19,62,22],[9,62,22],[9,62,22],[10,62,22]]]},{ID:2,towerID:902,tjzdl:9900,awardID:902,lvArr:[[[12,63,3],[12,63,8],[16,63,10],[12,63,15],[15,63,15],[15,63,20],[9,63,20],[9,63,25],[9,63,25],[1,63,28]],[[4,63,4],[19,63,7],[4,63,12],[7,63,12],[19,63,17],[8,63,17],[7,63,22],[9,63,22],[9,63,22],[9,63,22]]]},{ID:3,towerID:903,tjzdl:1e4,awardID:903,lvArr:[[[16,64,3],[4,64,8],[16,64,10],[10,64,15],[17,64,15],[9,64,20],[6,64,20],[5,64,25],[9,64,25],[1,64,28]],[[3,64,4],[16,64,7],[4,64,12],[8,64,12],[10,64,17],[11,64,17],[17,64,22],[11,64,22],[9,64,22],[9,64,22]]]},{ID:4,towerID:904,tjzdl:10100,awardID:904,lvArr:[[[12,65,3],[12,65,8],[16,65,10],[12,65,15],[15,65,15],[15,65,20],[9,65,20],[9,65,25],[9,65,25],[1,65,28]],[[4,65,4],[19,65,7],[4,65,12],[7,65,12],[19,65,17],[8,65,17],[7,65,22],[9,65,22],[9,65,22],[9,65,22]]]},{ID:5,towerID:905,tjzdl:10200,awardID:905,lvArr:[[[15,66,3],[15,66,8],[10,66,10],[8,66,15],[14,66,15],[5,66,20],[11,66,20],[15,66,25],[4,66,25],[3,66,28]],[[15,66,4],[3,66,7],[7,66,12],[6,66,12],[11,66,17],[19,66,17],[8,66,22],[14,66,22],[1,66,22],[10,66,22]]]},{ID:6,towerID:906,tjzdl:10300,awardID:906,lvArr:[[[16,67,3],[16,67,8],[15,67,10],[5,67,15],[2,67,15],[2,67,20],[8,67,20],[9,67,25],[15,67,25],[7,67,28]],[[16,67,4],[15,67,7],[15,67,12],[4,67,12],[6,67,17],[17,67,17],[8,67,22],[11,67,22],[2,67,22],[10,67,22]]]},{ID:7,towerID:907,tjzdl:10400,awardID:907,lvArr:[[[20,68,3],[20,68,8],[14,68,10],[15,68,15],[15,68,15],[10,68,20],[10,68,20],[9,68,25],[9,68,25],[9,68,28]],[[12,68,4],[17,68,7],[12,68,12],[15,68,12],[15,68,17],[15,68,17],[19,68,22],[9,68,22],[9,68,22],[10,68,22]]]},{ID:8,towerID:908,tjzdl:10500,awardID:908,lvArr:[[[12,69,3],[12,69,8],[16,69,10],[12,69,15],[15,69,15],[15,69,20],[9,69,20],[9,69,25],[9,69,25],[1,69,28]],[[4,69,4],[19,69,7],[4,69,12],[7,69,12],[19,69,17],[8,69,17],[7,69,22],[9,69,22],[9,69,22],[9,69,22]]]},{ID:9,towerID:909,tjzdl:10600,awardID:909,lvArr:[[[15,70,3],[15,70,8],[10,70,10],[8,70,15],[14,70,15],[5,70,20],[11,70,20],[15,70,25],[4,70,25],[3,70,28]],[[15,70,4],[3,70,7],[7,70,12],[6,70,12],[11,70,17],[19,70,17],[8,70,22],[14,70,22],[1,70,22],[10,70,22]]]},{ID:10,towerID:910,tjzdl:10700,awardID:910,lvArr:[[[16,71,3],[16,71,8],[15,71,10],[5,71,15],[2,71,15],[2,71,20],[8,71,20],[9,71,25],[15,71,25],[7,71,28]],[[16,71,4],[15,71,7],[15,71,12],[4,71,12],[6,71,17]],[[10009,20,1]],[[17,71,17],[8,71,22],[11,71,22],[2,71,22],[10,71,22]]]}]},{ID:10,name:19,intro:20,bossID:23,boxArr:[10102,10106,10109],lvInfo:[{ID:1,towerID:1001,tjzdl:10800,awardID:1002,lvArr:[[[20,72,3],[20,72,8],[14,72,10],[15,72,15],[15,72,15],[10,72,20],[10,72,20],[9,72,25],[9,72,25],[9,72,28]],[[12,72,4],[17,72,7],[12,72,12],[15,72,12],[15,72,17],[15,72,17],[19,72,22],[9,72,22],[9,72,22],[10,72,22]]]},{ID:2,towerID:1002,tjzdl:10900,awardID:1002,lvArr:[[[16,73,3],[4,73,8],[16,73,10],[10,73,15],[17,73,15],[9,73,20],[6,73,20],[5,73,25],[9,73,25],[1,73,28]],[[3,73,4],[16,73,7],[4,73,12],[8,73,12],[10,73,17],[11,73,17],[17,73,22],[11,73,22],[9,73,22],[9,73,22]]]},{ID:3,towerID:1003,tjzdl:11e3,awardID:1003,lvArr:[[[12,74,3],[12,74,8],[16,74,10],[12,74,15],[15,74,15],[15,74,20],[9,74,20],[9,74,25],[9,74,25],[1,74,28]],[[4,74,4],[19,74,7],[4,74,12],[7,74,12],[19,74,17],[8,74,17],[7,74,22],[9,74,22],[9,74,22],[9,74,22]]]},{ID:4,towerID:1004,tjzdl:11100,awardID:1004,lvArr:[[[20,75,3],[20,75,8],[14,75,10],[15,75,15],[15,75,15],[10,75,20],[10,75,20],[9,75,25],[9,75,25],[9,75,28]],[[12,75,4],[17,75,7],[12,75,12],[15,75,12],[15,75,17],[15,75,17],[19,75,22],[9,75,22],[9,75,22],[10,75,22]]]},{ID:5,towerID:1005,tjzdl:11200,awardID:1005,lvArr:[[[16,76,3],[4,76,8],[16,76,10],[10,76,15],[17,76,15],[9,76,20],[6,76,20],[5,76,25],[9,76,25],[1,76,28]],[[3,76,4],[16,76,7],[4,76,12],[8,76,12],[10,76,17],[11,76,17],[17,76,22],[11,76,22],[9,76,22],[9,76,22]]]},{ID:6,towerID:1006,tjzdl:11300,awardID:1006,lvArr:[[[12,77,3],[12,77,8],[16,77,10],[12,77,15],[15,77,15],[15,77,20],[9,77,20],[9,77,25],[9,77,25],[1,77,28]],[[4,77,4],[19,77,7],[4,77,12],[7,77,12],[19,77,17],[8,77,17],[7,77,22],[9,77,22],[9,77,22],[9,77,22]]]},{ID:7,towerID:1007,tjzdl:11400,awardID:1007,lvArr:[[[15,78,3],[15,78,8],[10,78,10],[8,78,15],[14,78,15],[5,78,20],[11,78,20],[15,78,25],[4,78,25],[3,78,28]],[[15,78,4],[3,78,7],[7,78,12],[6,78,12],[11,78,17],[19,78,17],[8,78,22],[14,78,22],[1,78,22],[10,78,22]]]},{ID:8,towerID:1008,tjzdl:11500,awardID:1008,lvArr:[[[16,79,3],[4,79,8],[16,79,10],[10,79,15],[17,79,15],[9,79,20],[6,79,20],[5,79,25],[9,79,25],[1,79,28]],[[3,79,4],[16,79,7],[4,79,12],[8,79,12],[10,79,17],[11,79,17],[17,79,22],[11,79,22],[9,79,22],[9,79,22]]]},{ID:9,towerID:1009,tjzdl:11600,awardID:1009,lvArr:[[[12,80,3],[12,80,8],[16,80,10],[12,80,15],[15,80,15],[15,80,20],[9,80,20],[9,80,25],[9,80,25],[1,80,28]],[[4,80,4],[19,80,7],[4,80,12],[7,80,12],[19,80,17],[8,80,17],[7,80,22],[9,80,22],[9,80,22],[9,80,22]]]},{ID:10,towerID:1010,tjzdl:11700,awardID:1010,lvArr:[[[15,81,3],[15,81,8],[10,81,10],[8,81,15],[14,81,15],[5,81,20],[11,81,20],[15,81,25],[4,81,25],[3,81,28]],[[15,81,4],[3,81,7],[7,81,12],[6,81,12],[11,81,17]],[[10010,20,1]],[[19,81,17],[8,81,22],[14,81,22],[1,81,22],[10,81,22]]]}]},{ID:11,name:21,intro:22,bossID:17,boxArr:[10112,10116,10119],lvInfo:[{ID:1,towerID:1101,tjzdl:11800,awardID:1002,lvArr:[[[16,82,3],[4,82,8],[16,82,10],[10,82,15],[17,82,15],[9,82,20],[6,82,20],[5,82,25],[9,82,25],[1,82,28]],[[3,82,4],[16,82,7],[4,82,12],[8,82,12],[10,82,17],[11,82,17],[17,82,22],[11,82,22],[9,82,22],[9,82,22]]]},{ID:2,towerID:1102,tjzdl:11900,awardID:1002,lvArr:[[[20,83,3],[20,83,8],[14,83,10],[15,83,15],[15,83,15],[10,83,20],[10,83,20],[9,83,25],[9,83,25],[9,83,28]],[[12,83,4],[17,83,7],[12,83,12],[15,83,12],[15,83,17],[15,83,17],[19,83,22],[9,83,22],[9,83,22],[10,83,22]]]},{ID:3,towerID:1103,tjzdl:12e3,awardID:1003,lvArr:[[[15,84,3],[15,84,8],[10,84,10],[8,84,15],[14,84,15],[5,84,20],[11,84,20],[15,84,25],[4,84,25],[3,84,28]],[[15,84,4],[3,84,7],[7,84,12],[6,84,12],[11,84,17],[19,84,17],[8,84,22],[14,84,22],[1,84,22],[10,84,22]]]},{ID:4,towerID:1104,tjzdl:12100,awardID:1004,lvArr:[[[16,85,3],[16,85,8],[15,85,10],[5,85,15],[2,85,15],[2,85,20],[8,85,20],[9,85,25],[15,85,25],[7,85,28]],[[16,85,4],[15,85,7],[15,85,12],[4,85,12],[6,85,17],[17,85,17],[8,85,22],[11,85,22],[2,85,22],[10,85,22]]]},{ID:5,towerID:1105,tjzdl:12200,awardID:1005,lvArr:[[[12,86,3],[12,86,8],[16,86,10],[12,86,15],[15,86,15],[15,86,20],[9,86,20],[9,86,25],[9,86,25],[1,86,28]],[[4,86,4],[19,86,7],[4,86,12],[7,86,12],[19,86,17],[8,86,17],[7,86,22],[9,86,22],[9,86,22],[9,86,22]]]},{ID:6,towerID:1106,tjzdl:12300,awardID:1006,lvArr:[[[16,87,3],[4,87,8],[16,87,10],[10,87,15],[17,87,15],[9,87,20],[6,87,20],[5,87,25],[9,87,25],[1,87,28]],[[3,87,4],[16,87,7],[4,87,12],[8,87,12],[10,87,17],[11,87,17],[17,87,22],[11,87,22],[9,87,22],[9,87,22]]]},{ID:7,towerID:1107,tjzdl:12400,awardID:1007,lvArr:[[[20,88,3],[20,88,8],[14,88,10],[15,88,15],[15,88,15],[10,88,20],[10,88,20],[9,88,25],[9,88,25],[9,88,28]],[[12,88,4],[17,88,7],[12,88,12],[15,88,12],[15,88,17],[15,88,17],[19,88,22],[9,88,22],[9,88,22],[10,88,22]]]},{ID:8,towerID:1108,tjzdl:12500,awardID:1008,lvArr:[[[15,89,3],[15,89,8],[10,89,10],[8,89,15],[14,89,15],[5,89,20],[11,89,20],[15,89,25],[4,89,25],[3,89,28]],[[15,89,4],[3,89,7],[7,89,12],[6,89,12],[11,89,17],[19,89,17],[8,89,22],[14,89,22],[1,89,22],[10,89,22]]]},{ID:9,towerID:1109,tjzdl:12600,awardID:1009,lvArr:[[[16,90,3],[16,90,8],[15,90,10],[5,90,15],[2,90,15],[2,90,20],[8,90,20],[9,90,25],[15,90,25],[7,90,28]],[[16,90,4],[15,90,7],[15,90,12],[4,90,12],[6,90,17],[17,90,17],[8,90,22],[11,90,22],[2,90,22],[10,90,22]]]},{ID:10,towerID:1110,tjzdl:12700,awardID:1010,lvArr:[[[20,91,3],[20,91,8],[14,91,10],[15,91,15],[15,91,15],[10,91,20],[10,91,20],[9,91,25],[9,91,25],[9,91,28]],[[12,91,4],[17,91,7],[12,91,12],[15,91,12],[15,91,17]],[[10011,25,1]],[[15,91,17],[19,91,22],[9,91,22],[9,91,22],[10,91,22]]]}]},{ID:12,name:23,intro:24,bossID:20,boxArr:[10122,10126,10129],lvInfo:[{ID:1,towerID:1201,tjzdl:12800,awardID:1002,lvArr:[[[12,92,3],[12,92,8],[16,92,10],[12,92,15],[15,92,15],[15,92,20],[9,92,20],[9,92,25],[9,92,25],[1,92,28]],[[4,92,4],[19,92,7],[4,92,12],[7,92,12],[19,92,17],[8,92,17],[7,92,22],[9,92,22],[9,92,22],[9,92,22]]]},{ID:2,towerID:1202,tjzdl:12900,awardID:1002,lvArr:[[[20,93,3],[20,93,8],[14,93,10],[15,93,15],[15,93,15],[10,93,20],[10,93,20],[9,93,25],[9,93,25],[9,93,28]],[[12,93,4],[17,93,7],[12,93,12],[15,93,12],[15,93,17],[15,93,17],[19,93,22],[9,93,22],[9,93,22],[10,93,22]]]},{ID:3,towerID:1203,tjzdl:13e3,awardID:1003,lvArr:[[[16,94,3],[16,94,8],[15,94,10],[5,94,15],[2,94,15],[2,94,20],[8,94,20],[9,94,25],[15,94,25],[7,94,28]],[[16,94,4],[15,94,7],[15,94,12],[4,94,12],[6,94,17],[17,94,17],[8,94,22],[11,94,22],[2,94,22],[10,94,22]]]},{ID:4,towerID:1204,tjzdl:13100,awardID:1004,lvArr:[[[15,95,3],[15,95,8],[10,95,10],[8,95,15],[14,95,15],[5,95,20],[11,95,20],[15,95,25],[4,95,25],[3,95,28]],[[15,95,4],[3,95,7],[7,95,12],[6,95,12],[11,95,17],[19,95,17],[8,95,22],[14,95,22],[1,95,22],[10,95,22]]]},{ID:5,towerID:1205,tjzdl:13200,awardID:1005,lvArr:[[[20,96,3],[20,96,8],[14,96,10],[15,96,15],[15,96,15],[10,96,20],[10,96,20],[9,96,25],[9,96,25],[9,96,28]],[[12,96,4],[17,96,7],[12,96,12],[15,96,12],[15,96,17],[15,96,17],[19,96,22],[9,96,22],[9,96,22],[10,96,22]]]},{ID:6,towerID:1206,tjzdl:13300,awardID:1006,lvArr:[[[12,97,3],[12,97,8],[16,97,10],[12,97,15],[15,97,15],[15,97,20],[9,97,20],[9,97,25],[9,97,25],[1,97,28]],[[4,97,4],[19,97,7],[4,97,12],[7,97,12],[19,97,17],[8,97,17],[7,97,22],[9,97,22],[9,97,22],[9,97,22]]]},{ID:7,towerID:1207,tjzdl:13400,awardID:1007,lvArr:[[[16,98,3],[16,98,8],[15,98,10],[5,98,15],[2,98,15],[2,98,20],[8,98,20],[9,98,25],[15,98,25],[7,98,28]],[[16,98,4],[15,98,7],[15,98,12],[4,98,12],[6,98,17],[17,98,17],[8,98,22],[11,98,22],[2,98,22],[10,98,22]]]},{ID:8,towerID:1208,tjzdl:13500,awardID:1008,lvArr:[[[20,99,3],[20,99,8],[14,99,10],[15,99,15],[15,99,15],[10,99,20],[10,99,20],[9,99,25],[9,99,25],[9,99,28]],[[12,99,4],[17,99,7],[12,99,12],[15,99,12],[15,99,17],[15,99,17],[19,99,22],[9,99,22],[9,99,22],[10,99,22]]]},{ID:9,towerID:1209,tjzdl:13600,awardID:1009,lvArr:[[[12,100,3],[12,100,8],[16,100,10],[12,100,15],[15,100,15],[15,100,20],[9,100,20],[9,100,25],[9,100,25],[1,100,28]],[[4,100,4],[19,100,7],[4,100,12],[7,100,12],[19,100,17],[8,100,17],[7,100,22],[9,100,22],[9,100,22],[9,100,22]]]},{ID:10,towerID:1210,tjzdl:13700,awardID:1010,lvArr:[[[16,101,3],[16,101,8],[15,101,10],[5,101,15],[2,101,15],[2,101,20],[8,101,20],[9,101,25],[15,101,25],[7,101,28]],[[16,101,4],[15,101,7],[15,101,12],[4,101,12],[6,101,17]],[[10012,30,1]],[[17,101,17],[8,101,22],[11,101,22],[2,101,22],[10,101,22]]]}]},{ID:13,name:25,intro:26,bossID:29,boxArr:[10132,10136,10139],lvInfo:[{ID:1,towerID:1301,tjzdl:13800,awardID:1002,lvArr:[[[20,102,3],[20,102,8],[14,102,10],[15,102,15],[15,102,15],[10,102,20],[10,102,20],[9,102,25],[9,102,25],[9,102,28]],[[12,102,4],[17,102,7],[12,102,12],[15,102,12],[15,102,17],[15,102,17],[19,102,22],[9,102,22],[9,102,22],[10,102,22]]]},{ID:2,towerID:1302,tjzdl:13900,awardID:1002,lvArr:[[[12,103,3],[12,103,8],[16,103,10],[12,103,15],[15,103,15],[15,103,20],[9,103,20],[9,103,25],[9,103,25],[1,103,28]],[[4,103,4],[19,103,7],[4,103,12],[7,103,12],[19,103,17],[8,103,17],[7,103,22],[9,103,22],[9,103,22],[9,103,22]]]},{ID:3,towerID:1303,tjzdl:14e3,awardID:1003,lvArr:[[[16,104,3],[16,104,8],[15,104,10],[5,104,15],[2,104,15],[2,104,20],[8,104,20],[9,104,25],[15,104,25],[7,104,28]],[[16,104,4],[15,104,7],[15,104,12],[4,104,12],[6,104,17],[17,104,17],[8,104,22],[11,104,22],[2,104,22],[10,104,22]]]},{ID:4,towerID:1304,tjzdl:14100,awardID:1004,lvArr:[[[20,105,3],[20,105,8],[14,105,10],[15,105,15],[15,105,15],[10,105,20],[10,105,20],[9,105,25],[9,105,25],[9,105,28]],[[12,105,4],[17,105,7],[12,105,12],[15,105,12],[15,105,17],[15,105,17],[19,105,22],[9,105,22],[9,105,22],[10,105,22]]]},{ID:5,towerID:1305,tjzdl:14200,awardID:1005,lvArr:[[[12,106,3],[12,106,8],[16,106,10],[12,106,15],[15,106,15],[15,106,20],[9,106,20],[9,106,25],[9,106,25],[1,106,28]],[[4,106,4],[19,106,7],[4,106,12],[7,106,12],[19,106,17],[8,106,17],[7,106,22],[9,106,22],[9,106,22],[9,106,22]]]},{ID:6,towerID:1306,tjzdl:14300,awardID:1006,lvArr:[[[15,107,3],[15,107,8],[10,107,10],[8,107,15],[14,107,15],[5,107,20],[11,107,20],[15,107,25],[4,107,25],[3,107,28]],[[15,107,4],[3,107,7],[7,107,12],[6,107,12],[11,107,17],[19,107,17],[8,107,22],[14,107,22],[1,107,22],[10,107,22]]]},{ID:7,towerID:1307,tjzdl:14400,awardID:1007,lvArr:[[[20,108,3],[20,108,8],[14,108,10],[15,108,15],[15,108,15],[10,108,20],[10,108,20],[9,108,25],[9,108,25],[9,108,28]],[[12,108,4],[17,108,7],[12,108,12],[15,108,12],[15,108,17],[15,108,17],[19,108,22],[9,108,22],[9,108,22],[10,108,22]]]},{ID:8,towerID:1308,tjzdl:14500,awardID:1008,lvArr:[[[12,109,3],[12,109,8],[16,109,10],[12,109,15],[15,109,15],[15,109,20],[9,109,20],[9,109,25],[9,109,25],[1,109,28]],[[4,109,4],[19,109,7],[4,109,12],[7,109,12],[19,109,17],[8,109,17],[7,109,22],[9,109,22],[9,109,22],[9,109,22]]]},{ID:9,towerID:1309,tjzdl:14600,awardID:1009,lvArr:[[[16,110,3],[16,110,8],[15,110,10],[5,110,15],[2,110,15],[2,110,20],[8,110,20],[9,110,25],[15,110,25],[7,110,28]],[[16,110,4],[15,110,7],[15,110,12],[4,110,12],[6,110,17],[17,110,17],[8,110,22],[11,110,22],[2,110,22],[10,110,22]]]},{ID:10,towerID:1310,tjzdl:14700,awardID:1010,lvArr:[[[20,111,3],[20,111,8],[14,111,10],[15,111,15],[15,111,15],[10,111,20],[10,111,20],[9,111,25],[9,111,25],[9,111,28]],[[12,111,4],[17,111,7],[12,111,12],[15,111,12],[15,111,17]],[[10013,35,1]],[[15,111,17],[19,111,22],[9,111,22],[9,111,22],[10,111,22]]]}]},{ID:14,name:27,intro:28,bossID:6,boxArr:[10142,10146,10149],lvInfo:[{ID:1,towerID:1401,tjzdl:14800,awardID:1002,lvArr:[[[12,112,3],[12,112,8],[16,112,10],[12,112,15],[15,112,15],[15,112,20],[9,112,20],[9,112,25],[9,112,25],[1,112,28]],[[4,112,4],[19,112,7],[4,112,12],[7,112,12],[19,112,17],[8,112,17],[7,112,22],[9,112,22],[9,112,22],[9,112,22]]]},{ID:2,towerID:1402,tjzdl:14900,awardID:1002,lvArr:[[[15,113,3],[15,113,8],[10,113,10],[8,113,15],[14,113,15],[5,113,20],[11,113,20],[15,113,25],[4,113,25],[3,113,28]],[[15,113,4],[3,113,7],[7,113,12],[6,113,12],[11,113,17],[19,113,17],[8,113,22],[14,113,22],[1,113,22],[10,113,22]]]},{ID:3,towerID:1403,tjzdl:15e3,awardID:1003,lvArr:[[[16,114,3],[16,114,8],[15,114,10],[5,114,15],[2,114,15],[2,114,20],[8,114,20],[9,114,25],[15,114,25],[7,114,28]],[[16,114,4],[15,114,7],[15,114,12],[4,114,12],[6,114,17],[17,114,17],[8,114,22],[11,114,22],[2,114,22],[10,114,22]]]},{ID:4,towerID:1404,tjzdl:15100,awardID:1004,lvArr:[[[12,115,3],[12,115,8],[16,115,10],[12,115,15],[15,115,15],[15,115,20],[9,115,20],[9,115,25],[9,115,25],[1,115,28]],[[4,115,4],[19,115,7],[4,115,12],[7,115,12],[19,115,17],[8,115,17],[7,115,22],[9,115,22],[9,115,22],[9,115,22]]]},{ID:5,towerID:1405,tjzdl:15200,awardID:1005,lvArr:[[[16,116,3],[4,116,8],[16,116,10],[10,116,15],[17,116,15],[9,116,20],[6,116,20],[5,116,25],[9,116,25],[1,116,28]],[[3,116,4],[16,116,7],[4,116,12],[8,116,12],[10,116,17],[11,116,17],[17,116,22],[11,116,22],[9,116,22],[9,116,22]]]},{ID:6,towerID:1406,tjzdl:15300,awardID:1006,lvArr:[[[20,117,3],[20,117,8],[14,117,10],[15,117,15],[15,117,15],[10,117,20],[10,117,20],[9,117,25],[9,117,25],[9,117,28]],[[12,117,4],[17,117,7],[12,117,12],[15,117,12],[15,117,17],[15,117,17],[19,117,22],[9,117,22],[9,117,22],[10,117,22]]]},{ID:7,towerID:1407,tjzdl:15400,awardID:1007,lvArr:[[[16,118,3],[4,118,8],[16,118,10],[10,118,15],[17,118,15],[9,118,20],[6,118,20],[5,118,25],[9,118,25],[1,118,28]],[[3,118,4],[16,118,7],[4,118,12],[8,118,12],[10,118,17],[11,118,17],[17,118,22],[11,118,22],[9,118,22],[9,118,22]]]},{ID:8,towerID:1408,tjzdl:15500,awardID:1008,lvArr:[[[16,119,3],[16,119,8],[15,119,10],[5,119,15],[2,119,15],[2,119,20],[8,119,20],[9,119,25],[15,119,25],[7,119,28]],[[16,119,4],[15,119,7],[15,119,12],[4,119,12],[6,119,17],[17,119,17],[8,119,22],[11,119,22],[2,119,22],[10,119,22]]]},{ID:9,towerID:1409,tjzdl:15600,awardID:1009,lvArr:[[[12,120,3],[12,120,8],[16,120,10],[12,120,15],[15,120,15],[15,120,20],[9,120,20],[9,120,25],[9,120,25],[1,120,28]],[[4,120,4],[19,120,7],[4,120,12],[7,120,12],[19,120,17],[8,120,17],[7,120,22],[9,120,22],[9,120,22],[9,120,22]]]},{ID:10,towerID:1410,tjzdl:15700,awardID:1010,lvArr:[[[16,121,3],[4,121,8],[16,121,10],[10,121,15],[17,121,15],[9,121,20],[6,121,20],[5,121,25],[9,121,25],[1,121,28]],[[3,121,4],[16,121,7],[4,121,12],[8,121,12],[10,121,17]],[[10014,40,1]],[[11,121,17],[17,121,22],[11,121,22],[9,121,22],[9,121,22]]]}]},{ID:15,name:29,intro:30,bossID:15,boxArr:[10152,10156,10159],lvInfo:[{ID:1,towerID:1501,tjzdl:15800,awardID:1002,lvArr:[[[20,122,3],[20,122,8],[14,122,10],[15,122,15],[15,122,15],[10,122,20],[10,122,20],[9,122,25],[9,122,25],[9,122,28]],[[12,122,4],[17,122,7],[12,122,12],[15,122,12],[15,122,17],[15,122,17],[19,122,22],[9,122,22],[9,122,22],[10,122,22]]]},{ID:2,towerID:1502,tjzdl:15900,awardID:1002,lvArr:[[[16,123,3],[16,123,8],[15,123,10],[5,123,15],[2,123,15],[2,123,20],[8,123,20],[9,123,25],[15,123,25],[7,123,28]],[[16,123,4],[15,123,7],[15,123,12],[4,123,12],[6,123,17],[17,123,17],[8,123,22],[11,123,22],[2,123,22],[10,123,22]]]},{ID:3,towerID:1503,tjzdl:16e3,awardID:1003,lvArr:[[[12,124,3],[12,124,8],[16,124,10],[12,124,15],[15,124,15],[15,124,20],[9,124,20],[9,124,25],[9,124,25],[1,124,28]],[[4,124,4],[19,124,7],[4,124,12],[7,124,12],[19,124,17],[8,124,17],[7,124,22],[9,124,22],[9,124,22],[9,124,22]]]},{ID:4,towerID:1504,tjzdl:16100,awardID:1004,lvArr:[[[15,125,3],[15,125,8],[10,125,10],[8,125,15],[14,125,15],[5,125,20],[11,125,20],[15,125,25],[4,125,25],[3,125,28]],[[15,125,4],[3,125,7],[7,125,12],[6,125,12],[11,125,17],[19,125,17],[8,125,22],[14,125,22],[1,125,22],[10,125,22]]]},{ID:5,towerID:1505,tjzdl:16200,awardID:1005,lvArr:[[[16,126,3],[4,126,8],[16,126,10],[10,126,15],[17,126,15],[9,126,20],[6,126,20],[5,126,25],[9,126,25],[1,126,28]],[[3,126,4],[16,126,7],[4,126,12],[8,126,12],[10,126,17],[11,126,17],[17,126,22],[11,126,22],[9,126,22],[9,126,22]]]},{ID:6,towerID:1506,tjzdl:16300,awardID:1006,lvArr:[[[12,127,3],[12,127,8],[16,127,10],[12,127,15],[15,127,15],[15,127,20],[9,127,20],[9,127,25],[9,127,25],[1,127,28]],[[4,127,4],[19,127,7],[4,127,12],[7,127,12],[19,127,17],[8,127,17],[7,127,22],[9,127,22],[9,127,22],[9,127,22]]]},{ID:7,towerID:1507,tjzdl:16400,awardID:1007,lvArr:[[[15,128,3],[15,128,8],[10,128,10],[8,128,15],[14,128,15],[5,128,20],[11,128,20],[15,128,25],[4,128,25],[3,128,28]],[[15,128,4],[3,128,7],[7,128,12],[6,128,12],[11,128,17],[19,128,17],[8,128,22],[14,128,22],[1,128,22],[10,128,22]]]},{ID:8,towerID:1508,tjzdl:16500,awardID:1008,lvArr:[[[16,129,3],[16,129,8],[15,129,10],[5,129,15],[2,129,15],[2,129,20],[8,129,20],[9,129,25],[15,129,25],[7,129,28]],[[16,129,4],[15,129,7],[15,129,12],[4,129,12],[6,129,17],[17,129,17],[8,129,22],[11,129,22],[2,129,22],[10,129,22]]]},{ID:9,towerID:1509,tjzdl:16600,awardID:1009,lvArr:[[[12,130,3],[12,130,8],[16,130,10],[12,130,15],[15,130,15],[15,130,20],[9,130,20],[9,130,25],[9,130,25],[1,130,28]],[[4,130,4],[19,130,7],[4,130,12],[7,130,12],[19,130,17],[8,130,17],[7,130,22],[9,130,22],[9,130,22],[9,130,22]]]},{ID:10,towerID:1510,tjzdl:16700,awardID:1010,lvArr:[[[15,131,3],[15,131,8],[10,131,10],[8,131,15],[14,131,15],[5,131,20],[11,131,20],[15,131,25],[4,131,25],[3,131,28]],[[15,131,4],[3,131,7],[7,131,12],[6,131,12],[11,131,17]],[[10015,45,1]],[[19,131,17],[8,131,22],[14,131,22],[1,131,22],[10,131,22]]]}]},{ID:16,name:31,intro:32,bossID:25,boxArr:[10162,10166,10169],lvInfo:[{ID:1,towerID:1501,tjzdl:16800,awardID:1002,lvArr:[[[20,132,3],[20,132,8],[14,132,10],[15,132,15],[15,132,15],[10,132,20],[10,132,20],[9,132,25],[9,132,25],[9,132,28]],[[12,132,4],[17,132,7],[12,132,12],[15,132,12],[15,132,17],[15,132,17],[19,132,22],[9,132,22],[9,132,22],[10,132,22]]]},{ID:2,towerID:1502,tjzdl:16900,awardID:1002,lvArr:[[[16,133,3],[4,133,8],[16,133,10],[10,133,15],[17,133,15],[9,133,20],[6,133,20],[5,133,25],[9,133,25],[1,133,28]],[[3,133,4],[16,133,7],[4,133,12],[8,133,12],[10,133,17],[11,133,17],[17,133,22],[11,133,22],[9,133,22],[9,133,22]]]},{ID:3,towerID:1503,tjzdl:17e3,awardID:1003,lvArr:[[[12,134,3],[12,134,8],[16,134,10],[12,134,15],[15,134,15],[15,134,20],[9,134,20],[9,134,25],[9,134,25],[1,134,28]],[[4,134,4],[19,134,7],[4,134,12],[7,134,12],[19,134,17],[8,134,17],[7,134,22],[9,134,22],[9,134,22],[9,134,22]]]},{ID:4,towerID:1504,tjzdl:17100,awardID:1004,lvArr:[[[16,135,3],[4,135,8],[16,135,10],[10,135,15],[17,135,15],[9,135,20],[6,135,20],[5,135,25],[9,135,25],[1,135,28]],[[3,135,4],[16,135,7],[4,135,12],[8,135,12],[10,135,17],[11,135,17],[17,135,22],[11,135,22],[9,135,22],[9,135,22]]]},{ID:5,towerID:1505,tjzdl:17200,awardID:1005,lvArr:[[[16,136,3],[16,136,8],[15,136,10],[5,136,15],[2,136,15],[2,136,20],[8,136,20],[9,136,25],[15,136,25],[7,136,28]],[[16,136,4],[15,136,7],[15,136,12],[4,136,12],[6,136,17],[17,136,17],[8,136,22],[11,136,22],[2,136,22],[10,136,22]]]},{ID:6,towerID:1506,tjzdl:17300,awardID:1006,lvArr:[[[15,137,3],[15,137,8],[10,137,10],[8,137,15],[14,137,15],[5,137,20],[11,137,20],[15,137,25],[4,137,25],[3,137,28]],[[15,137,4],[3,137,7],[7,137,12],[6,137,12],[11,137,17],[19,137,17],[8,137,22],[14,137,22],[1,137,22],[10,137,22]]]},{ID:7,towerID:1507,tjzdl:17400,awardID:1007,lvArr:[[[12,138,3],[12,138,8],[16,138,10],[12,138,15],[15,138,15],[15,138,20],[9,138,20],[9,138,25],[9,138,25],[1,138,28]],[[4,138,4],[19,138,7],[4,138,12],[7,138,12],[19,138,17],[8,138,17],[7,138,22],[9,138,22],[9,138,22],[9,138,22]]]},{ID:8,towerID:1508,tjzdl:17500,awardID:1008,lvArr:[[[16,139,3],[4,139,8],[16,139,10],[10,139,15],[17,139,15],[9,139,20],[6,139,20],[5,139,25],[9,139,25],[1,139,28]],[[3,139,4],[16,139,7],[4,139,12],[8,139,12],[10,139,17],[11,139,17],[17,139,22],[11,139,22],[9,139,22],[9,139,22]]]},{ID:9,towerID:1509,tjzdl:17600,awardID:1009,lvArr:[[[20,140,3],[20,140,8],[14,140,10],[15,140,15],[15,140,15],[10,140,20],[10,140,20],[9,140,25],[9,140,25],[9,140,28]],[[12,140,4],[17,140,7],[12,140,12],[15,140,12],[15,140,17],[15,140,17],[19,140,22],[9,140,22],[9,140,22],[10,140,22]]]},{ID:10,towerID:1510,tjzdl:17700,awardID:1010,lvArr:[[[12,141,3],[12,141,8],[16,141,10],[12,141,15],[15,141,15],[15,141,20],[9,141,20],[9,141,25],[9,141,25],[1,141,28]],[[4,141,4],[19,141,7],[4,141,12],[7,141,12],[19,141,17]][[10016,50,1]],[[8,141,17],[7,141,22],[9,141,22],[9,141,22],[9,141,22]]]}]},{ID:17,name:33,intro:34,bossID:34,boxArr:[10162,10166,10169],lvInfo:[{ID:1,towerID:1501,tjzdl:18800,awardID:1002,lvArr:[[[15,142,3],[15,142,8],[10,142,10],[8,142,15],[14,142,15],[5,142,20],[11,142,20],[15,142,25],[4,142,25],[3,142,28]],[[15,142,4],[3,142,7],[7,142,12],[6,142,12],[11,142,17],[19,142,17],[8,142,22],[14,142,22],[1,142,22],[10,138,22]]]},{ID:2,towerID:1502,tjzdl:18900,awardID:1002,lvArr:[[[12,143,3],[12,143,8],[16,143,10],[12,143,15],[15,143,15],[15,143,20],[9,143,20],[9,143,25],[9,143,25],[1,143,28]],[[4,143,4],[19,143,7],[4,143,12],[7,143,12],[19,143,17],[8,143,17],[7,143,22],[9,143,22],[9,143,22],[9,139,22]]]},{ID:3,towerID:1503,tjzdl:19e3,awardID:1003,lvArr:[[[16,144,3],[4,144,8],[16,144,10],[10,144,15],[17,144,15],[9,144,20],[6,144,20],[5,144,25],[9,144,25],[1,144,28]],[[3,144,4],[16,144,7],[4,144,12],[8,144,12],[10,144,17],[11,144,17],[17,144,22],[11,144,22],[9,144,22],[9,140,22]]]},{ID:4,towerID:1504,tjzdl:19100,awardID:1004,lvArr:[[[20,145,3],[20,145,8],[14,145,10],[15,145,15],[15,145,15],[10,145,20],[10,145,20],[9,145,25],[9,145,25],[9,145,28]],[[12,145,4],[17,145,7],[12,145,12],[15,145,12],[15,145,17],[15,145,17],[19,145,22],[9,145,22],[9,145,22],[10,141,22]]]},{ID:5,towerID:1505,tjzdl:19200,awardID:1005,lvArr:[[[15,146,3],[15,146,8],[10,146,10],[8,146,15],[14,146,15],[5,146,20],[11,146,20],[15,146,25],[4,146,25],[3,146,28]],[[15,146,4],[3,146,7],[7,146,12],[6,146,12],[11,146,17],[19,146,17],[8,146,22],[14,146,22],[1,146,22],[10,142,22]]]},{ID:6,towerID:1506,tjzdl:19300,awardID:1006,lvArr:[[[16,147,3],[16,147,8],[15,147,10],[5,147,15],[2,147,15],[2,147,20],[8,147,20],[9,147,25],[15,147,25],[7,147,28]],[[16,147,4],[15,147,7],[15,147,12],[4,147,12],[6,147,17],[17,147,17],[8,147,22],[11,147,22],[2,147,22],[10,143,22]]]},{ID:7,towerID:1507,tjzdl:19400,awardID:1007,lvArr:[[[16,148,3],[4,148,8],[16,148,10],[10,148,15],[17,148,15],[9,148,20],[6,148,20],[5,148,25],[9,148,25],[1,148,28]],[[3,148,4],[16,148,7],[4,148,12],[8,148,12],[10,148,17],[11,148,17],[17,148,22],[11,148,22],[9,148,22],[9,148,22]]]},{ID:8,towerID:1508,tjzdl:19500,awardID:1008,lvArr:[[[12,149,3],[12,149,8],[16,149,10],[12,149,15],[15,149,15],[15,149,20],[9,149,20],[9,149,25],[9,149,25],[1,149,28]],[[4,149,4],[19,149,7],[4,149,12],[7,149,12],[19,149,17],[8,149,17],[7,149,22],[9,149,22],[9,149,22],[9,149,22]]]},{ID:9,towerID:1509,tjzdl:19600,awardID:1009,lvArr:[[[15,150,3],[15,150,8],[10,150,10],[8,150,15],[14,150,15],[5,150,20],[11,150,20],[15,150,25],[4,150,25],[3,150,28]],[[15,150,4],[15,150,7],[10,150,12],[8,150,12],[14,150,17],[5,150,17],[11,150,22],[15,150,22],[4,150,22],[3,150,22]]]},{ID:10,towerID:1510,tjzdl:19700,awardID:1010,lvArr:[[[20,151,3],[20,151,8],[14,151,10],[15,151,15],[15,151,15],[10,151,20],[10,151,20],[9,151,25],[9,151,25],[9,151,28]],[[12,151,4],[17,151,7],[12,151,12],[15,151,12],[15,151,17]][[10017,60,1]],[[15,151,17],[19,151,22],[9,151,22],[9,151,22],[10,151,22]]]}]},{ID:18,name:35,intro:36,bossID:35,boxArr:[10162,10166,10169],lvInfo:[{ID:1,towerID:1501,tjzdl:19800,awardID:1002,lvArr:[[[7,152,3],[20,152,8],[20,152,10],[9,152,15],[9,152,15],[10,152,20],[12,152,20],[12,152,25],[14,152,25],[20,152,28]],[[15,152,4],[15,152,7],[15,152,12],[16,152,12],[21,152,17],[16,152,17],[10,152,22],[11,152,22],[9,152,22],[9,152,22]]]},{ID:2,towerID:1502,tjzdl:19900,awardID:1002,lvArr:[[[7,153,3],[9,153,8],[9,153,10],[11,153,15],[10,153,15],[15,153,20],[15,153,20],[15,153,25],[16,153,25],[16,153,28]],[[16,153,4],[14,153,7],[12,153,12],[12,153,12],[12,153,17],[21,153,17],[20,153,22],[11,153,22],[11,153,22],[9,153,22]]]},{ID:3,towerID:1503,tjzdl:2e4,awardID:1003,lvArr:[[[21,154,3],[20,154,8],[19,154,10],[16,154,15],[16,154,15],[14,154,20],[9,154,20],[9,154,25],[10,154,25],[12,154,28]],[[12,154,4],[17,154,7],[16,154,12],[16,154,12],[19,154,17],[21,154,17],[9,154,22],[9,154,22],[11,154,22],[10,154,22]]]},{ID:4,towerID:1504,tjzdl:20100,awardID:1004,lvArr:[[[7,155,3],[9,155,8],[9,155,10],[11,155,15],[10,155,15],[15,155,20],[15,155,20],[15,155,25],[16,155,25],[16,155,28]],[[16,155,4],[14,155,7],[12,155,12],[12,155,12],[12,155,17],[21,155,17],[20,155,22],[11,155,22],[11,155,22],[9,155,22]]]},{ID:5,towerID:1505,tjzdl:20200,awardID:1005,lvArr:[[[21,156,3],[20,156,8],[20,156,10],[9,156,15],[9,156,15],[11,156,20],[10,156,20],[16,156,25],[16,156,25],[16,156,28]],[[15,156,4],[15,156,7],[15,156,12],[15,156,12],[20,156,17],[20,156,17],[21,156,22],[14,156,22],[19,156,22],[14,156,22]]]},{ID:6,towerID:1506,tjzdl:20300,awardID:1006,lvArr:[[[7,157,3],[20,157,8],[20,157,10],[9,157,15],[9,157,15],[10,157,20],[12,157,20],[12,157,25],[14,157,25],[20,157,28]],[[15,157,4],[15,157,7],[15,157,12],[16,157,12],[21,157,17],[16,157,17],[10,157,22],[11,157,22],[9,157,22],[9,157,22]]]},{ID:7,towerID:1507,tjzdl:20400,awardID:1007,lvArr:[[[7,158,3],[9,158,8],[9,158,10],[11,158,15],[10,158,15],[15,158,20],[15,158,20],[15,158,25],[16,158,25],[16,158,28]],[[16,158,4],[14,158,7],[12,158,12],[12,158,12],[12,158,17],[21,158,17],[20,158,22],[11,158,22],[11,158,22],[9,158,22]]]},{ID:8,towerID:1508,tjzdl:20500,awardID:1008,lvArr:[[[21,159,3],[20,159,8],[19,159,10],[16,159,15],[16,159,15],[14,159,20],[9,159,20],[9,159,25],[10,159,25],[12,159,28]],[[12,159,4],[17,159,7],[16,159,12],[16,159,12],[19,159,17],[21,159,17],[9,159,22],[9,159,22],[11,159,22],[10,159,22]]]},{ID:9,towerID:1509,tjzdl:20600,awardID:1009,lvArr:[[[7,160,3],[9,160,8],[9,160,10],[11,160,15],[10,160,15],[15,160,20],[15,160,20],[15,160,25],[16,160,25],[16,160,28]],[[16,160,4],[14,160,7],[12,160,12],[12,160,12],[12,160,17],[21,160,17],[20,160,22],[11,160,22],[11,160,22],[9,160,22]]]},{ID:10,towerID:1510,tjzdl:20700,awardID:1010,lvArr:[[[21,161,3],[20,161,8],[15,161,10],[15,161,15],[16,161,15],[9,161,20],[10,161,20],[9,161,25],[9,161,25],[9,161,28]],[[16,161,4],[19,161,7],[11,161,12],[15,161,12],[20,161,17]][[10018,55,1]],[[21,161,17],[11,161,22],[14,161,22],[10,161,22],[14,161,22]]]}]},{ID:19,name:37,intro:38,bossID:36,boxArr:[10162,10166,10169],lvInfo:[{ID:1,towerID:1501,tjzdl:20800,awardID:1002,lvArr:[[[21,162,3],[20,162,8],[19,162,10],[16,162,15],[16,162,15],[14,162,20],[9,162,20],[9,162,25],[10,162,25],[12,162,28]],[[12,162,4],[17,162,7],[16,162,12],[16,162,12],[19,162,17],[21,162,17],[9,162,22],[9,162,22],[11,162,22],[10,162,22]]]},{ID:2,towerID:1502,tjzdl:20900,awardID:1002,lvArr:[[[7,163,3],[9,163,8],[9,163,10],[11,163,15],[10,163,15],[15,163,20],[15,163,20],[15,163,25],[16,163,25],[16,163,28]],[[16,163,4],[14,163,7],[12,163,12],[12,163,12],[12,163,17],[21,163,17],[20,163,22],[11,163,22],[11,163,22],[9,163,22]]]},{ID:3,towerID:1503,tjzdl:21e3,awardID:1003,lvArr:[[[21,164,3],[20,164,8],[20,164,10],[9,164,15],[9,164,15],[11,164,20],[10,164,20],[16,164,25],[16,164,25],[16,164,28]],[[15,164,4],[15,164,7],[15,164,12],[15,164,12],[20,164,17],[20,164,17],[21,164,22],[14,164,22],[19,164,22],[14,164,22]]]},{ID:4,towerID:1504,tjzdl:21100,awardID:1004,lvArr:[[[7,165,3],[20,165,8],[20,165,10],[9,165,15],[9,165,15],[10,165,20],[12,165,20],[12,165,25],[14,165,25],[20,165,28]],[[15,165,4],[15,165,7],[15,165,12],[16,165,12],[21,165,17],[16,165,17],[10,165,22],[11,165,22],[9,165,22],[9,165,22]]]},{ID:5,towerID:1505,tjzdl:21200,awardID:1005,lvArr:[[[7,166,3],[9,166,8],[9,166,10],[11,166,15],[10,166,15],[15,166,20],[15,166,20],[15,166,25],[16,166,25],[16,166,28]],[[16,166,4],[14,166,7],[12,166,12],[12,166,12],[12,166,17],[21,166,17],[20,166,22],[11,166,22],[11,166,22],[9,166,22]]]},{ID:6,towerID:1506,tjzdl:21300,awardID:1006,lvArr:[[[21,167,3],[20,167,8],[19,167,10],[16,167,15],[16,167,15],[14,167,20],[9,167,20],[9,167,25],[10,167,25],[12,167,28]],[[12,167,4],[17,167,7],[16,167,12],[16,167,12],[19,167,17],[21,167,17],[9,167,22],[9,167,22],[11,167,22],[10,167,22]]]},{ID:7,towerID:1507,tjzdl:21400,awardID:1007,lvArr:[[[7,168,3],[9,168,8],[9,168,10],[11,168,15],[10,168,15],[15,168,20],[15,168,20],[15,168,25],[16,168,25],[16,168,28]],[[16,168,4],[14,168,7],[12,168,12],[12,168,12],[12,168,17],[21,168,17],[20,168,22],[11,168,22],[11,168,22],[9,168,22]]]},{ID:8,towerID:1508,tjzdl:21500,awardID:1008,lvArr:[[[21,169,3],[20,169,8],[15,169,10],[15,169,15],[16,169,15],[9,169,20],[10,169,20],[9,169,25],[9,169,25],[9,169,28]],[[16,169,4],[19,169,7],[11,169,12],[15,169,12],[20,169,17],[21,169,17],[11,169,22],[14,169,22],[10,169,22],[14,169,22]]]},{ID:9,towerID:1509,tjzdl:21600,awardID:1009,lvArr:[[[7,170,3],[20,170,8],[20,170,10],[9,170,15],[9,170,15],[10,170,20],[12,170,20],[12,170,25],[14,170,25],[20,170,28]],[[15,170,4],[15,170,7],[15,170,12],[16,170,12],[21,170,17],[16,170,17],[10,170,22],[11,170,22],[9,170,22],[9,170,22]]]},{ID:10,towerID:1510,tjzdl:21700,awardID:1010,lvArr:[[[21,171,3],[20,171,8],[19,171,10],[16,171,15],[16,171,15],[13,171,20],[9,171,20],[9,171,25],[10,171,25],[17,171,28]],[[17,171,4],[21,171,7],[13,171,12],[11,171,12],[17,171,17]][[10019,60,1]],[[21,171,17],[9,171,22],[9,171,22],[17,171,22],[10,171,22]]]}]}],cc._RF.pop()},{}],loading:[function(t,e){"use strict";cc._RF.push(e,"925e6E+aMxMKbT5QTyFttzf","loading");var a=t,i=["string","hero","monster","skill","equip","tabel","enemy","level"];cc.Class({extends:cc.Component,properties:{loadAni:cc.Node,loadPb:cc.Slider,loadBar:cc.Sprite,loadLb:cc.Label,_countList:0,_totalNum:0,_isChange:!1,_bundleLoadIndex:0},initMgr:function(){cc.vv={};var t=a("GlobalMgr");cc.vv.configMgr=new t,cc.vv.sceneMgr=a("SceneMgr").getInstance(),cc.vv.audioMgr=a("AudioMgr"),cc.vv.audioMgr.init(),cc.vv.gameMgr=a("GameMgr").getInstance(),g_DataMgr.initSaveData()},onLoad:function(){g_CheckIpad(this.node),this._countList=0,this.initMgr(),this.showLoadAni(),g_DataMgr.isNewUser=this.checkIsNewUser(),g_DataMgr.isNewUser&&(g_DataMgr.g_tgCount=0),console.log("============",g_DataMgr.isNewUser),null!=window.h5api&&(G_isMobile=!0,console.log("======1======",G_isMobile)),this.bundleArr=["staticUI","preBundle"],this._totalNum=this.bundleArr.length+i.length+Object.keys(g_loadPrefab).length+Object.keys(g_skinAtlas).length+g_heroRes.length+g_heroEffectRes.length+g_effects.length+Object.keys(g_audios).length,this.initLoading()},initLoading:function(){this.loadInfo(),this.preLoadBundle(),this.initSprine(),this.initSounds()},showLoadAni:function(){var t=this.loadAni.getComponent(sp.Skeleton);t.setCompleteListener(function(e){"a1"==(e.animation?e.animation.name:"")&&t.setAnimation(0,"a2",!0)}),t.setAnimation(0,"a1",!1)},loadInfo:function(){var t=this,e=function(e){var a=i[e];cc.resources.load("textrue/gjson/"+a,function(e,i){if(e)console.log(e);else{var r=i.json;if("string"===a&&(cc.vv.gameMgr.stringList=r),"hero"===a&&(cc.vv.gameMgr.generalList=r.generalNpc,cc.vv.gameMgr.generaljjList=r.sjList,cc.vv.gameMgr.generalSxList=r.sxList,g_DataMgr.initSaveGeneralData(cc.vv.gameMgr.generalList)),"tabel"===a){cc.vv.gameMgr.signList=r.signList,cc.vv.gameMgr.shopList=r.shopArr,cc.vv.gameMgr.dropList=r.dropArr,cc.vv.gameMgr.taskList=r.taskArr,cc.vv.gameMgr.gjdataList=r.gjArr,cc.vv.gameMgr.zgList=r.zgList,cc.vv.gameMgr.zsList=r.zsArr,cc.vv.gameMgr.jShopList=r.jjshopList,cc.vv.gameMgr.chengHList=r.chenghaoArr,g_DataMgr.initSaveTaskData(),g_DataMgr.initSaveRankData();for(var n=0,s=0;s<cc.vv.gameMgr.chengHList.length;++s){var o=cc.vv.gameMgr.chengHList[s];null==g_DataMgr.towerInfo.chHasMap[""+o.ID]&&(g_DataMgr.towerInfo.chHasMap[""+o.ID]=0,n++)}0!=n&&g_DataMgr.saveTower()}"monster"===a&&(cc.vv.gameMgr.monstArr=r.monstArr,cc.vv.gameMgr.towerArr=r.towerArr,cc.vv.gameMgr.towerSxList=r.towerSX,cc.vv.gameMgr.jjtowerList=r.jjtowerArr),"skill"===a&&(cc.vv.gameMgr.zSkillList=r.zSkills,cc.vv.gameMgr.skillList=r.skills,cc.vv.gameMgr.buffList=r.buffList),"equip"===a&&(cc.vv.gameMgr.equipList=r.equipList),"enemy"===a&&(cc.vv.gameMgr.playerArr=r.player,cc.vv.gameMgr.enemyArr=r.enemyArr,cc.vv.gameMgr.jjAwardList=r.awardArr),"level"===a&&(cc.vv.gameMgr.activeLvInfo=r.activeLevel,cc.vv.gameMgr.fpList=r.fpArr,cc.vv.gameMgr.jdAwardList=r.jdAwardArr,g_DataMgr.initSaveYJSLData()),t._countList++}})};for(var a in i)e(a)},preLoadBundle:function(){var t=this;cc.assetManager.loadBundle(this.bundleArr[this._bundleLoadIndex],function(e,a){e||(console.log("========loadBundle========",t._bundleLoadIndex),G_Bundles[t.bundleArr[t._bundleLoadIndex]]=a,t._bundleLoadIndex++,t._countList++,t._bundleLoadIndex<t.bundleArr.length&&t.preLoadBundle(),t._bundleLoadIndex==t.bundleArr.length&&t.initRes())})},initRes:function(){cc.vv.sceneMgr.preLoadScene("Hall",function(){cc.log("Next scene preloaded---Hall")}),this.initAtlas(),this.initPre()},initPre:function(){var t=this;for(var e in g_loadPrefab)cc.vv.configMgr.loadPrefab(g_loadPrefab[e],function(){cc.log("------initLoadingPre-------"),t._countList++})},initAtlas:function(){var t=this;for(var e in g_skinAtlas)cc.vv.configMgr.loadSpriteAtlas(g_skinAtlas[e],function(){cc.log("------initAtlas-------"),t._countList++})},initSprine:function(){for(var t=this,e=g_heroRes.concat(g_heroEffectRes).concat(g_effects),a=0;a<e.length;++a){var i=e[a].spinePath;cc.vv.configMgr.loadSpine(i,function(){cc.log("------initSprine-------"),t._countList++})}},initSounds:function(){var t=this;cc.assetManager.loadBundle("sound",function(e,a){if(!e)for(var i in G_Bundles.sound=a,g_audios)cc.vv.audioMgr.loadAudios(g_audios[i],function(){cc.log("------initSounds-------"),t._countList++})})},checkIsNewUser:function(){var t=new Date,e=""+t.getFullYear()+(t.getMonth()+1)+t.getDate();return null==g_DataMgr.pinfo.loginTime&&(g_DataMgr.pinfo.loginTime=e,g_DataMgr.savePinfo()),g_DataMgr.pinfo.loginTime===e},loadEndCb:function(){g_DataMgr.resetByDate(),0==g_DataMgr.g_guideNum?(cc.vv.gameMgr.curChapeterId=1,cc.vv.gameMgr.curSelectLv=0,cc.vv.gameMgr.gameModel=1,cc.vv.sceneMgr.openScene("Game",function(){cc.log("-------Game------")})):cc.vv.sceneMgr.openScene("Hall",function(){cc.log("-------Hall------")})},onBtnClick:function(t){if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_cancel"==t.target.name)cc.game.end();else if("btn_agree"==t.target.name){if(1==g_DataMgr.pinfo.isAgreeXY)return;g_DataMgr.pinfo.isAgreeXY=1,g_DataMgr.savePinfo(),this._countList++,this.node.getChildByName("xy").active=!1,this.node.getChildByName("btn_taplogin").active=!0}else"btn_ys"==t.target.name?this.node.getChildByName("ys").active=!0:"btn_closexy"==t.target.name&&(this.node.getChildByName("ys").active=!1)},update:function(){if(1!=this.loadPb.progress){var t=this._countList/this._totalNum;this.loadPb.progress=t,this.loadBar.fillRange=t;var e=parseInt(100*t);g_setString(this.loadLb,e+"%"),100==e&&this.loadEndCb()}}}),cc._RF.pop()},{}],monster:[function(t,e){"use strict";cc._RF.push(e,"944a8wrsbFLy4lwdPYrmJNy","monster"),cc.Class({extends:cc.Component,properties:{_index:0,_playID:0,_heroState:0,_curHero:null,_heroSxData:null,_heroInitData:null,_buffArr:null,_maxHP:0,_curHP:0,_curAni:null,_isMove:!1,_target:null,_skillIndex:0,_skillID:0,_skillCDMap:null,_isAttack:!1,_isCanAttack:!0,_curHead:null,_gjEffect:null,_linkTime:0,_linkEffect:null,_cfTime:0,_caofEffect:null,_xyEffect:null,_xyTime:0,_isJX:!1,_jxTime:0,_jxEffect:null,_jsEffect:null,_jsTime:0,_bingEffect:null,_zbingEffect:null,_dsEffect:null,_dsTime:0,_count:0},onLoad:function(){this._zyBuffData={},this._buffArr=[],this._skillCDMap={},this._hpPro=this.node.getChildByName("hp"),this._spine=this.node.getChildByName("body").getComponent(sp.Skeleton),this._talkNode=this.node.getChildByName("talk")},setTalk:function(){var t=this;if(null!=this._curHero.speekID){var e=g_getDataInArr(this._curHero.speekID,cc.vv.gameMgr.stringList.speekStr).speekArr,a=g_getRandom(0,e.length-1),i=g_getRandom(5,20);this._talkNode.getChildByName("lb").getComponent(cc.Label).string=e[a],this.scheduleOnce(function(){t._talkNode.active=!0,t._talkNode.y=t._hpPro.y-20,t._talkNode.getComponent(cc.Animation).play(),t.scheduleOnce(function(){t._talkNode.active=!1},1.5)},i)}},updataSxByLv:function(t){var e=t-1<0?0:t-1;this._heroSxData.HP=this._curHero.HP[0]+this._curHero.HP[1]*e,this._heroSxData.attack=this._curHero.attack[0]+this._curHero.attack[1]*e,this._heroSxData.crit=this._curHero.crit[0]+this._curHero.crit[1]*e,this._heroSxData.hurtSub=this._curHero.hurtSub[0]+this._curHero.hurtSub[1]*e,this._heroSxData.intervalTime=this._curHero.intervalTime[0]+this._curHero.intervalTime[1]*e,this._maxHP=this._heroSxData.HP,this._curHP=this._maxHP,this._speed=this._heroSxData.moveSpeed,0!=cc.vv.gameMgr.gameModel&&(this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP);var a=this._curHero.skinID;this._curHero.ID>5e3&&this._curHero.ID<1e4?2004!=a&&2005!=a&&2006!=a&&2007!=a&&2012!=a&&2013!=a&&2019!=a&&2021!=a||(2021==a?(this._hpPro.y=280,this.node.height=220):(this._hpPro.y=230,this.node.height=180)):2004!=a&&2005!=a&&2006!=a&&2007!=a&&2012!=a&&2013!=a&&2019!=a&&2021!=a||(this._hpPro.y=2021==a?240:190,this.node.height=150),2010==this._curHero.skinID&&(this._speed=5)},initMonster:function(t,e){var a,i=this;this._curHero=g_getDataInArr(t,cc.vv.gameMgr.monstArr);var r=e;if(this._heroSxData=g_getDataInArr(t,cc.vv.gameMgr.monstArr),this.updataSxByLv(r),null!=(a=g_getEffect(this._curHero.skinID,g_heroRes))){if(this._ID=t,cc.vv.configMgr.loadSpine(a,function(t){i._spine.skeletonData=t,i._spine.loop=!0,i._spine.animation="idle",i._spine.timeScale=1,i._spine.setSkin("default"),i.onAniCompleted(),2010==i._curHero.skinID&&(i._curAni="skillrun",i._spine.setAnimation(0,i._curAni,!0)),i.setTalk()}),2016==this._curHero.skinID||2020==this._curHero.skinID||2013==this._curHero.skinID){for(var n=this._curHero.skill[0],s=g_getDataInArr(n,cc.vv.gameMgr.skillList).buffid,o=0;o<s.length;++o)this._buffArr.push(s[o]);this.getZYBuffData()}this._isMove=!0,this._target=g_gameContol._myTower,5!=this._ID&&6!=this._ID||(this._hpPro.y=200),this.showHead()}},showHead:function(){this._curHead=cc.instantiate(g_gameContol.tbiaoPre),g_gameContol.proNode.addChild(this._curHead),this._curHead.getChildByName("red").active=!0,this._curHead.x=200;var t=g_getAtlas(g_skinAtlas.head),e="mhead_"+this._curHero.skinID;this._curHead.getChildByName("head").getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(e)},playSoundEffect:function(t){var e=t.split("_");"sound"==e[0]&&cc.vv.gameMgr.playEffect(g_audios[e[e.length-1]])},createBullet:function(){var t=this,e=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(e,function(e){var a=cc.instantiate(e);if(null!=a){t.node.parent.addChild(a);var i=a.getComponent("bullet");null!=i&&i.initGeneralBullet(t.node,t._skillID,1)}})},onAniCompleted:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){if(console.log("-------monsterevent-----",a),"hit"==a.data.name&&(console.log("-------hit----------",a.data.name),null!=t._target&&null!=t._target.parent)){var i=t._target.getComponent("tower");null==i&&(i=t._target.getComponent("general")),null==i&&(i=t._target.getComponent("hero")),null!=i&&(1014==t._skillID||1019==t._skillID||1012==t._skillID||1022==t._skillID||1007==t._skillID||1006==t._skillID?g_gameContol.checkAttack(t.node,t._skillID):i.byAttack(t.node,t._skillID))}"shoot"==a.data.name&&(console.log("-------shoot----------",a.data.name),t.createBullet()),"hit_fly"==a.data.name&&console.log("-------hit_fly----------",a.data.name),"hit_fall"==a.data.name&&console.log("-------hit_fall----------",a.data.name),"hit_over"==a.data.name&&console.log("-------hit_over----------",a.data.name),t.playSoundEffect(a.data.name)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";console.log("-------heroAni--------",a),"attack"!=a&&"skill"!=a&&"skillhit"!=a||("skillhit"==a&&(t._speed=t._heroSxData.moveSpeed),t._isAttack=!1,t.setChangeAnimate("idle",!0)),"die"==a&&(t.node.parent=null,"monster"===cc.vv.gameMgr.curTaskData.type&&cc.vv.gameMgr.curTaskData.num[0]==t._curHero.ID&&(g_DataMgr.taskData.taskKillNum++,g_DataMgr.saveTaskData()),1==cc.vv.gameMgr.gameModel&&(g_DataMgr.towerInfo.chKillNum++,g_DataMgr.saveTower()),g_gameContol.checkMonster(),t._curHead.destroy(),t.node.destroy())})},setChangeAnimate:function(t,e){this._curAni!=t&&(this._curAni=t,this._spine.setAnimation(0,t,e))},getZYBuffData:function(){for(var t=this._buffArr,e=[],a=0;a<t.length;++a)if(0!=t[a]){var i=g_getDataInArr(t[a],cc.vv.gameMgr.buffList);e.push(i)}this._zyBuffData.attackSpeed=0,this._zyBuffData.moveSpeed=0;for(var r=0;r<e.length;++r)"attackspeed"===e[r].type&&(this._zyBuffData.attackSpeed+=this._heroSxData.intervalTime*e[r].value/100),"sattackspeed"===e[r].type&&(this._zyBuffData.attackSpeed-=this._heroSxData.intervalTime*e[r].value/100),"movespeed"===e[r].type&&(this._zyBuffData.moveSpeed+=this._heroSxData.moveSpeed*e[r].value/100),"smovespeed"===e[r].type&&(this._zyBuffData.moveSpeed-=this._heroSxData.moveSpeed*e[r].value/100);this._heroSxData._buffArr=this._buffArr},setBuffCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.buffList);"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||(null==this._gjEffect&&(this._gjEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._gjEffect),this._gjEffect._buffCount=0,this._gjEffect.getComponent("effect").initGj()),null!=this._gjEffect&&this._gjEffect._buffCount++),this.scheduleOnce(function(){for(var i=0;i<e._buffArr.length;++i)if(e._buffArr[i]==t){e._buffArr.splice(i,1);break}e.getZYBuffData(),"attackspeed"!==a.type&&"crit"!==a.type&&"attack"!==a.type||null!=e._gjEffect&&(e._gjEffect._buffCount--,0==e._gjEffect._buffCount&&(e._gjEffect.destroy(),e._gjEffect=null))},a.time)},setSkillCD:function(t){var e=this,a=g_getDataInArr(t,cc.vv.gameMgr.skillList);if("buff"==a.effect_Type){for(var i=a.buffid,r=0;r<i.length;++r)this.setBuffCD(i[r]),this._buffArr.push(i[r]);this.getZYBuffData()}var n=a.CD;this.scheduleOnce(function(){e._skillCDMap[""+t]=!0},n)},setAttack:function(t){var e=this;if(this._isCanAttack&&!this._isAttack&&"behit"!==this._curAni){var a;this._isAttack=!0,this._skillIndex=t,this._skillID=this._curHero.skill[this._skillIndex],this._skillCDMap[""+this._skillID]=!1,this.setSkillCD(this._skillID),a=0==t?"attack":"skill",this.setChangeAnimate(a,!1),this._isCanAttack=!1,this._zyBuffData.attackSpeed=null==this._zyBuffData.attackSpeed?0:this._zyBuffData.attackSpeed;var i=this._heroSxData.intervalTime-this._zyBuffData.attackSpeed;i=i<0?0:i,this.scheduleOnce(function(){e._isCanAttack=!0},i),1004!=this._skillID&&1008!=this._skillID||this.setSkill(this._skillID)}},setSkill:function(t){var e=g_getDataInArr(this._skillID,cc.vv.gameMgr.skillList),a=g_getDataInArr(e.buffid[0],cc.vv.gameMgr.buffList);if(this._heroSxData.attack,a.value,1004==t){var i=G_createPrefab(g_loadPrefab.effect);null!=i&&(this.node.addChild(i),i.getComponent("effect").initFY(a.time))}1008==t&&"dfbuff"==e.effect_Type&&g_gameContol.checkAddBuff(this.node,t,1)},setShootTarget:function(t){var e=this._spine.findBone("target"),a=t.parent.convertToWorldSpaceAR(t.position),i=this._spine.node.convertToNodeSpaceAR(a);e&&(e.x=i.x,e.y=i.y,e.updateWorldTransform())},setAddHP:function(t){if(0!=this._curHP){var e=G_createPrefab(g_loadPrefab.effect);null!=e&&(this.node.addChild(e),e.getComponent("effect").initHX()),this._curHP+=t,this._curHP>=this._maxHP&&(this._curHP=this._maxHP),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this.showAttackZi(t,!1,5)}},byAttack:function(t,e,a){var i=this,r=null,n=t.getComponent("bullet");if(10==a?r=(n=t)._sxData:null!=n?r=n._heroSxData:(null==(n=t.getComponent("general"))&&(n=t.getComponent("hero")),null!=n&&(r=n._heroSxData)),null!=n){var s=null;if(10==a)s=e;else{if(0==n._curHP)return;if(this.setSkillBuff(e),2003==e||2004==e||2005==e)return;s=g_getDataInArr(e,cc.vv.gameMgr.skillList)}if(null==s)return;10==a&&(4==s.ID&&1==this.node._stopDJ&&(this.node._stopDJ=!1,this.showLDEffect(s,1)),8==s.ID&&this.setSkillBuff(s.ID,1)),18==s.ID&&this.showLDEffect(s),this._heroSxData._buffArr=this._buffArr;var o=cc.vv.gameMgr.getAttackNum(r,this._heroSxData,s);if(0!=o.xxNum&&null!=n._curHP){var l=Math.round(o.xxNum*o.rattack/100);n.setAddHP(l)}if(40==s.ID&&null!=n._curHP&&0!=o.rattack){var g=g_getDataInArr(e,g_DataMgr.generalSaveArr),c=s.buffid[g.skillLv][0],h=g_getDataInArr(c,cc.vv.gameMgr.buffList),_=Math.round(h.value*o.rattack/100);n.setAddHP(_)}if(0!=o.jsAttack){this.node._isjs=!0;var u=n._ID;g_gameContol.checkJians(this.node,u,o.jsAttack,0)}var d=o.rattack;if(0==d)return void n.showMissEffect();this.showHitEffect(s.hitEffectID),0!=d&&this.showAttackZi(d,o.bj,s.hitPZType),this._curHP-=d,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,2007!=e&&2008!=e&&2009!=e||this.showXY(e)}if(1==a){if(0==this._curHP)return;var f=t.position;null!=t._firstPos&&(f=t._firstPos);var p=f.y>=this.node.y?1:-1,m=100*Math.abs(t.y-this.node.y)/Math.abs(f.x-this.node.x),v=this.node.y-m*p;v>200&&(v=200),v<-200&&(v=-200);var D=this.node.x- -100;D>1e3&&(D=1e3);var C=cc.v2(D,v);cc.tween(this.node).to(.5,{position:C}).call(function(){i.showXY(e),i._isMove=!0}).start()}},setJiansAttack:function(t,e){if(0!=this._curHP){var a=t;1!=e&&(this.showHitEffect(1),0!=a&&this.showAttackZi(a,!1)),this._curHP-=a,this._curHP<=0&&(this._curHP=0,this.setChangeAnimate("die",!1)),this._hpPro.getChildByName("hppro").getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP}},showLDEffect:function(t,e){var a=g_getEffect(t.bSpineID,g_heroEffectRes),i=G_createPrefab(g_loadPrefab.effect);null!=i&&(this.node.addChild(i),i.position=cc.v2(0,0),i.getComponent("effect").initEffect(a),this.showXY(t.ID,e))},showXY:function(t,e){if(0!=this._curHP&&(2==t||6==t||18==t||35==t||2007==t||2008==t||2009==t||2010==t||1==e)){var a=g_getDataInArr(t,cc.vv.gameMgr.skillList);1==e&&(a=g_getDataInArr(t,cc.vv.gameMgr.zSkillList));var i=a.buffid[0];if(2==t||6==t||18==t||35==t){var r=g_getDataInArr(t,g_DataMgr.generalSaveArr);i=a.buffid[r.skillLv][0]}var n=g_getDataInArr(i,cc.vv.gameMgr.buffList);this._isAttack=!1,this.setChangeAnimate("idle",!0),null==this._xyEffect&&(this._xyEffect=G_createPrefab(g_loadPrefab.effect),null!=this._xyEffect&&(this.node.addChild(this._xyEffect),this._xyEffect.position=cc.v2(0,this._hpPro.y-10),this._xyEffect.getComponent("effect").initXuanyun())),this._xyTime+=60*n.time}},setJiaoxie:function(t){0!=this._curHP&&(this._isJX=!0,this._jxTime+=t,null==this._jxEffect&&(this._jxEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._jxEffect),this._jxEffect.position=cc.v2(0,110),this._jxEffect.getComponent("effect").initEffectByType("textrue/effect/buff_jiaoxie",1)))},setChaof:function(t,e){0!=this._curHP&&(this._cfTime+=t,this._target=e,null==this._caofEffect&&(this._caofEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._caofEffect),this._caofEffect.position=cc.v2(0,110),this._caofEffect.getComponent("effect").initEffectByType("textrue/effect/buff_beichaofeng",1)))},setLink:function(t){0!=this._curHP&&(this._linkTime+=t,null==this._linkEffect&&(this._linkEffect=G_createPrefab(g_loadPrefab.effect),this.node.addChild(this._linkEffect),this._linkEffect.getComponent("effect").initEffectByType("textrue/effect/buff_037",1)))},setSkillBuff:function(t,e){var a=this;if(0!=this._curHP){var i=g_getDataInArr(t,cc.vv.gameMgr.skillList);if(1==e&&(i=g_getDataInArr(t,cc.vv.gameMgr.zSkillList)),16==t||38==t||2004==t||1018==t||2003==t||2005==t||1==e){if(null!=this._jsEffect&&16==t)return;var r=i.buffid[0];if(16==t||38==t){var n=g_getDataInArr(t,g_DataMgr.generalSaveArr);if(r=i.buffid[n.skillLv][0],38==t&&-1!=this._buffArr.findIndex(function(t){return t==r}))return}this._buffArr.push(r),this.setBuffCD(r);var s=g_getDataInArr(r,cc.vv.gameMgr.buffList);if(1018==t||2003==t||2005==t)return;if(1==e&&8==t)return null==this._zbingEffect?(this._zbingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._zbingEffect&&(this.node.addChild(this._zbingEffect),this._zbingEffect.getComponent("effect").initzdBing(),this._zbingEffect._buffCount=1)):this._zbingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._zbingEffect&&(a._zbingEffect._buffCount--,0==a._zbingEffect._buffCount&&(a._zbingEffect.getComponent("effect").setPoBing(),a._zbingEffect=null))},s.time[this.node._dsTimeLv]);if(16==t){var o=this.node.getChildByName("body");return 16==t&&(o.color=cc.Color.fromHEX(cc.color(0,0,0),"#3A7DFE")),null==this._bingEffect?(this._bingEffect=G_createPrefab(g_loadPrefab.effect),null!=this._bingEffect&&(this.node.addChild(this._bingEffect),this._bingEffect.getComponent("effect").initBing(),this._bingEffect._buffCount=1)):this._bingEffect._buffCount++,void this.scheduleOnce(function(){null!=a._bingEffect&&(a._bingEffect._buffCount--,0==a._bingEffect._buffCount&&(o.color=cc.Color.fromHEX(cc.color(0,0,0),"#FFFFFF"),a._bingEffect.destroy(),a._bingEffect=null))},s.time)}}if(23==t||28==t){for(var l=g_getDataInArr(t,g_DataMgr.generalSaveArr),g=i.buffid[l.skillLv],c=0;c<g.length;++c){var h=g[c];this._buffArr.push(h),this.setBuffCD(h)}if(28==t)return void this.getZYBuffData();var _=g_getDataInArr(g[0],cc.vv.gameMgr.buffList),u=G_createPrefab(g_loadPrefab.effect);if(null!=u){var d=g_getEffect(_.effect,g_heroEffectRes);if(null==d)return;this.node.addChild(u),u.y=200,u.getComponent("effect").initBuffEffect(d,_.time)}}}},showMissEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.position=cc.v2(0,50),t.getComponent("effect").initEffectByAttack("textrue/effect/eff_miss"))},showHitEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.addChild(a),a.position=cc.v2(0,50),a.getComponent("effect").initEffectByAttack(e))},showAttackZi:function(t,e,a){var i=this;cc.vv.configMgr.loadPrefab(g_prefabPath.piaozi,function(r){var n=cc.instantiate(r);i.node.addChild(n),n.x=0,n.y=50,i._curHero.ID>5e3&&i._curHero.ID<1e4&&(n.y=150);var s=0;e?s=3:null!=a&&(s=a),n.getComponent("piaozi").showNumBytype(t,s,1)})},changeTarget:function(){null!=this._target&&null!=this._target.parent||(this._target=g_gameContol._myTower),null!=this._target.getComponent("tower")&&0!=g_gameContol._generalArr.length&&(this._target=g_gameContol.findMinlen(g_gameContol._generalArr,this.node,1))},checkAttack:function(){if(!this._isJX&&!this._isMove&&!this._isAttack&&null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect){if(null==this._target||null==this._target.parent)return this.changeTarget(),void(null!=this._target&&(this._isMove=!0));if(null==this._target.getComponent("tower")||0!=this._target.getComponent("tower")._curHP){for(var t=this._curHero.skill,e=[],a=0;a<t.length;++a)-1!=t[a]&&(e.push(a),null==this._skillCDMap[""+t[a]]&&(this._skillCDMap[""+t[a]]=!0));for(var i=[],r=g_checkLen(this.node.position,this._target.position),n=0;n<e.length;++n){var s=e[n];if(1010!=t[s]){var o=g_getDataInArr(t[s],cc.vv.gameMgr.skillList);null!=this._target.getComponent("tower")&&null!=o&&"all"!=o.target_Type||0!=s&&this._skillCDMap[""+t[s]]&&r<=o.distance&&i.push(n)}}if(0==i.length)return r<=this._curHero.attackDistance&&-1!=t[0]?(this.setAttack(0),1):(this._isMove=!0,3);var l=e[i[g_getRandom(0,i.length-1)]];return this.setAttack(l),1}}},setMove:function(){if(this._isMove&&!this._isAttack)if(null==this._xyEffect&&null==this._linkEffect&&null==this._zbingEffect&&null==this._zbingEffect){if(this.changeTarget(),null!=this._target){"skillrun"===this._curAni||this.setChangeAnimate("run",!0);var t=this._target.x>=this.node.x?1:-1,e=this._target.y>=this.node.y?1:-1;this._zyBuffData.moveSpeed=null==this._zyBuffData.moveSpeed?0:this._zyBuffData.moveSpeed;var a=this._speed+this._zyBuffData.moveSpeed,i=Math.abs(this._target.y-this.node.y)*a/Math.abs(this._target.x-this.node.x);this.node.x+=a*t,this.node.y+=i*e,this._curHead.x=200-400*Math.abs(this.node.x-1e3)/1280,g_checkLen(this.node.position,this._target.position)<=this._curHero.attackDistance&&("skillrun"===this._curAni?(this._isAttack=!0,this._skillID=this._curHero.skill[1],this.setChangeAnimate("skillhit",!1)):this.setChangeAnimate("idle",!0),this._isMove=!1)}}else"run"===this._curAni&&this.setChangeAnimate("idle",!0)},update:function(){0==this._curHP||g_gameContol._isOver||g_gameContol._isGamePause?(g_gameContol._isOver||g_gameContol._isGamePause)&&"run"===this._curAni&&this.setChangeAnimate("idle",!0):(this.showBuffTime(),this.setMove(),this.checkAttack())},showBuffTime:function(){this._count++,60==this._count&&(this._count=0,this._jsTime>0&&(this._jsTime--,0==this._jsTime&&(this._jsEffect.destroy(),this._jsEffect=null)),this._jxTime>0&&(this._jxTime--,0==this._jxTime&&(this._jxEffect.destroy(),this._jxEffect=null,this._isJX=!1)),this._cfTime>0&&(this._cfTime--,0==this._cfTime&&(this._caofEffect.destroy(),this._caofEffect=null,this.changeTarget())),this._linkTime>0&&(this._linkTime--,0==this._linkTime&&(this._linkEffect.destroy(),this._linkEffect=null))),this._xyTime>0&&(this._xyTime--,0==this._xyTime&&(this._xyEffect.destroy(),this._xyEffect=null))}}),cc._RF.pop()},{}],pageItem:[function(t,e){"use strict";cc._RF.push(e,"0804aNQsgFDzre3usqM8yEx","pageItem"),cc.Class({extends:cc.Component,properties:{gkSpriteArr:[cc.SpriteFrame],title:cc.Label,bjSprite:cc.Sprite,tjLabel:cc.Label,introLb:cc.Label,_chargerData:null,_cLevel:0,_cIndex:0},onLoad:function(){this._spine=this.node.getChildByName("role").getComponent(sp.Skeleton)},initPageItem:function(t){this._cIndex=t,this._chargerData=g_chapter[t];var e=g_getDataInArr(this._chargerData.name,cc.vv.gameMgr.stringList.gkInfoStr),a=g_getDataInArr(this._chargerData.intro,cc.vv.gameMgr.stringList.gkInfoStr);this.title.string=e.str,this.introLb.string=a.str;var i=null==g_DataMgr.gameInfo.gkCompelet[""+t]?0:g_DataMgr.gameInfo.gkCompelet[""+t];i>=this._chargerData.lvInfo.length&&(i=this._chargerData.lvInfo.length-1),this.updataGeneral(this._chargerData.bossID),this._cLevel=i,this.tjLabel.string="\u63a8\u8350\u6218\u529b:"+this._chargerData.lvInfo[i].tjzdl,this.bjSprite.spriteFrame=this.gkSpriteArr[t-1]},updataGeneral:function(t){var e=this,a=g_getEffect(t,g_heroRes);null!=a&&cc.vv.configMgr.loadSpine(a,function(t){e._spine.skeletonData=t,e._spine.loop=!0,e._spine.animation="idle",e._spine.timeScale=1,e._spine.setSkin("default")})}}),cc._RF.pop()},{}],pageView:[function(t,e){"use strict";cc._RF.push(e,"ec64auzhW1Fo7GNC8eDtFE6","pageView"),cc.Class({extends:cc.Component,properties:{_isScoll:!1},onLoad:function(){this._pageview=this.node.getComponent(cc.PageView),this.btn_left=this.node.getChildByName("btn_left"),this.btn_right=this.node.getChildByName("btn_right"),this.updataBtns(),this.node.on("page-turning",this.pageTurn,this),g_hallContol.fightNode.active&&this.scroto(cc.vv.gameMgr.curChapeterId-1)},pageTurn:function(){this.updataBtns(),G_gameEvent.emit("page_turn")},getCurPage:function(){return this._pageview.getCurrentPageIndex()},getAllPages:function(){return this._pageview.getPages()},updataBtns:function(){var t=this._pageview.getCurrentPageIndex(),e=this._pageview.getPages();this.btn_left.active=0!=t,this.btn_right.active=t<e.length-1},scroto:function(t){this._pageview.scrollToPage(t)},onBtnClick:function(t){var e=this;if(!this._isScoll){if(this._isScoll=!0,"btn_left"==t.target.name){var a=this._pageview.getCurrentPageIndex();if(0==a)return;this._pageview.scrollToPage(a-1)}if("btn_right"==t.target.name){var i=this._pageview.getPages(),r=this._pageview.getCurrentPageIndex();if(r>=i.length)return;this._pageview.scrollToPage(r+1)}this.scheduleOnce(function(){e._isScoll=!1},1)}}}),cc._RF.pop()},{}],piaozi:[function(t,e){"use strict";cc._RF.push(e,"3ad21ppX/9DG6ZbK1f82gCL","piaozi"),cc.Class({extends:cc.Component,properties:{skillLabel:cc.Label,pLabel:cc.Label,duLabel:cc.Label,bjNode:cc.Node,_dir:0},onLoad:function(){},showNumBytype:function(t,e,a){if(this._dir=a,0==e&&(this.pLabel.string="/"+t,this.pLabel.node.active=!0,this.node.scale=.3,this.rockFun(.5,1,150,.5)),1==e&&(this.skillLabel.string="/"+t,this.skillLabel.node.active=!0,this.node.scale=.3,this.rockFun(.5,1,150,.5)),2==e&&(this.duLabel.string="/"+t,this.duLabel.node.active=!0,this.node.scale=.3,this.rockFun(.5,1,150,.5)),3==e&&(this.bjNode.getChildByName("bjLabel"),this.bjNode.getChildByName("bjLabel").getComponent(cc.Label).string="/"+t,this.node.scale=.5,this.bjNode.active=!0,this.rockFun(.5,1,150,.5)),4==e&&(this.node.getChildByName("liuxue").active=!0,this.node.getChildByName("liuxue").getComponent(cc.Label).string="-"+t,this.rockFun(.5,1.5,200,.5)),5==e){var i=this.node.getChildByName("huixue");i.active=!0,i.getComponent(cc.Label).string="/"+t,this.node.scale=.3,this.rockFun(.5,1,150,.5)}6==e&&(this.node.getChildByName("miss").active=!0,this.node.scale=.6,this.rockFun(.5,1,200,.5)),this.node.zIndex=100},initSjNum:function(t,e,a){var i=this.node.getChildByName("sjpz");i.active=!0;var r=i.children;if(null!=e){var n=a.attack-e.attack,s=a.HP-e.HP,o=a.defense-e.defense,l=a.energy-e.energy;r[1].getChildByName("num").getComponent(cc.Label).string=n,r[2].getChildByName("num").getComponent(cc.Label).string=s,r[3].getChildByName("num").getComponent(cc.Label).string=o,r[4].getChildByName("num").getComponent(cc.Label).string=l;for(var g=0;g<r.length;++g)r[g].active=!0}r[0].getChildByName("num").getComponent(cc.Label).string=t,this.node.scale=.5,this.rockFun(.5,.8,100,.5)},rockFun:function(t,e,a){var i=this,r=this.node.x;this.node.scale=.1,cc.tween(this.node).parallel(cc.tween().to(1,{position:cc.v2(r,this.node.y+a)},{easing:"sineOut"}),cc.tween().to(.5,{scale:e},{easing:"elasticOut"})).to(.5,{opacity:0}).call(function(){i.node.destroy()}).start()},huixueAni:function(){var t=this;cc.tween(this.node).to(.5,{scale:1.5,position:cc.v2(this.node.x,this.node.y+500)},{easing:"cubicOut"}).delay(.5).call(function(){t.node.destroy()}).start()}}),cc._RF.pop()},{}],rankItem:[function(t,e){"use strict";cc._RF.push(e,"d1868+9pnNMVIZ9NBLMYYQ1","rankItem"),cc.Class({extends:cc.Component,properties:{bgSpriteArr:[cc.SpriteFrame]},onLoad:function(){this._bgSprite=this.node.getComponent(cc.Sprite)},initItem:function(t){this._bgSprite.spriteFrame=t<3?this.bgSpriteArr[t]:this.bgSpriteArr[3]}}),cc._RF.pop()},{}],resPath:[function(t,e){"use strict";cc._RF.push(e,"f248cIONDhNVYQL8ELpRii3","resPath"),window.g_loadPrefab={guideGame:"prefab/global/guideGame",guideHall:"prefab/global/guideHall",guideTask:"prefab/global/guideTask",guideJD:"prefab/global/guideJD",awardTip:"prefab/global/awardTip",wjInfo:"prefab/hall/wjInfo",wjSjie:"prefab/hall/wjsjie",skillUp:"prefab/hall/skillUp",towersjcg:"prefab/hall/towersjcg",getAward:"prefab/hall/getAward",getGeneral:"prefab/hall/getGeneral",set:"prefab/hall/set",zbup:"prefab/hall/zbup",UIsign:"prefab/uipre/UIsign",UItask:"prefab/uipre/UItask",UIguaji:"prefab/uipre/UIguaji",UIyjzl:"prefab/uipre/UIyjzl",TCtuis:"prefab/uipre/TCtuis",jjshop:"prefab/hall/jjshop",UIxsfl:"prefab/uipre/UIxsfl",jjIntro:"prefab/hall/jjIntro",chInfo:"prefab/hall/chInfo",tsManghe:"prefab/hall/tsManghe",hero:"prefab/game/hero",ehero:"prefab/game/ehero",general:"prefab/game/general",tower:"prefab/game/tower",monster:"prefab/game/monster",boss:"prefab/game/boss",mboss:"prefab/game/mboss",enemy:"prefab/game/enemy",effect:"prefab/game/effect",uieffect:"prefab/game/uieffect",gameOver:"prefab/game/gameOver",bgground:"prefab/game/bgground",gameBj:"prefab/game/gameBj",gkCard:"prefab/game/gkCard",resum:"prefab/game/resum"},window.g_prefabPath={getts:"prefab/global/getts",piaozi:"prefab/global/piaozi",bulletPro:"prefab/game/bullet",headInfo:"prefab/hall/headInfo",zgUp:"prefab/hall/zgUp",UInotice:"prefab/uipre/UInotice"},window.g_skinAtlas={head:"textrue/head",prop:"textrue/prop",zdIcon:"textrue/zd",pzk:"textrue/pzk",skill:"textrue/skill",zbicon:"textrue/zbicon"},window.g_heroRes=[{ID:501,spinePath:"textrue/hero/zhugong"},{ID:1,spinePath:"textrue/general/role_011"},{ID:2,spinePath:"textrue/general/role_010"},{ID:3,spinePath:"textrue/general/role_009"},{ID:4,spinePath:"textrue/general/role_015"},{ID:5,spinePath:"textrue/general/role_016"},{ID:6,spinePath:"textrue/general/role_002"},{ID:7,spinePath:"textrue/general/role_001"},{ID:8,spinePath:"textrue/general/role_005"},{ID:9,spinePath:"textrue/general/role_006"},{ID:10,spinePath:"textrue/general/role_004"},{ID:11,spinePath:"textrue/general/role_003"},{ID:12,spinePath:"textrue/general/role_008"},{ID:13,spinePath:"textrue/general/role_012"},{ID:14,spinePath:"textrue/general/role_013"},{ID:15,spinePath:"textrue/general/role_007"},{ID:16,spinePath:"textrue/general/role_014"},{ID:17,spinePath:"textrue/general/role_019"},{ID:18,spinePath:"textrue/general/role_017"},{ID:19,spinePath:"textrue/general/role_020"},{ID:20,spinePath:"textrue/general/role_018"},{ID:21,spinePath:"textrue/general/role_025"},{ID:22,spinePath:"textrue/general/role_021"},{ID:23,spinePath:"textrue/general/role_024"},{ID:24,spinePath:"textrue/general/role_026"},{ID:25,spinePath:"textrue/general/role_023"},{ID:26,spinePath:"textrue/general/role_028"},{ID:27,spinePath:"textrue/general/role_029"},{ID:28,spinePath:"textrue/general/role_030"},{ID:29,spinePath:"textrue/general/role_022"},{ID:30,spinePath:"textrue/general/role_027"},{ID:31,spinePath:"textrue/general/role_031"},{ID:32,spinePath:"textrue/general/role_033"},{ID:33,spinePath:"textrue/general/role_032"},{ID:34,spinePath:"textrue/general/role_037"},{ID:35,spinePath:"textrue/general/role_036"},{ID:36,spinePath:"textrue/general/role_034"},{ID:37,spinePath:"textrue/general/role_041"},{ID:38,spinePath:"textrue/general/role_040"},{ID:39,spinePath:"textrue/general/role_042"},{ID:40,spinePath:"textrue/general/role_039"},{ID:41,spinePath:"textrue/general/role_043"},{ID:1001,spinePath:"textrue/tower/role_009"},{ID:2001,spinePath:"textrue/monster1/monster_001"},{ID:2002,spinePath:"textrue/monster1/monster_002"},{ID:2003,spinePath:"textrue/monster1/monster_003"},{ID:2004,spinePath:"textrue/monster1/monster_004"},{ID:2005,spinePath:"textrue/monster1/monster_005"},{ID:2006,spinePath:"textrue/monster1/monster_006"},{ID:2007,spinePath:"textrue/monster1/monster_007"},{ID:2008,spinePath:"textrue/monster1/monster_008"},{ID:2009,spinePath:"textrue/monster1/monster_009"},{ID:2010,spinePath:"textrue/monster1/monster_010"},{ID:2011,spinePath:"textrue/monster1/monster_011"},{ID:2012,spinePath:"textrue/monster1/monster_012"},{ID:2013,spinePath:"textrue/monster1/monster_013"},{ID:2014,spinePath:"textrue/monster1/monster_014"},{ID:2015,spinePath:"textrue/monster1/monster_015"},{ID:2016,spinePath:"textrue/monster1/monster_016"},{ID:2017,spinePath:"textrue/monster1/monster_017"},{ID:2018,spinePath:"textrue/monster1/monster_018"},{ID:2019,spinePath:"textrue/monster1/monster_019"},{ID:2020,spinePath:"textrue/monster1/monster_020"},{ID:2021,spinePath:"textrue/monster1/monster_021"},{ID:2022,spinePath:"textrue/monster1/monster_022"}],window.g_heroEffectRes=[{ID:10001,spinePath:"textrue/bullet/bullet_006"},{ID:10002,spinePath:"textrue/bullet/skill_017"},{ID:10003,spinePath:"textrue/bullet/bullet_014"},{ID:23,spinePath:"textrue/skilleffect/skill_024"},{ID:38,spinePath:"textrue/bullet/skill_040"},{ID:1023,spinePath:"textrue/effect/buff_024"}],window.g_effects=[{ID:1,spinePath:"textrue/effect/eff_behit"},{ID:2,spinePath:"textrue/skilleffect/skill1"},{ID:3,spinePath:"textrue/skilleffect/skill2"},{ID:4,spinePath:"textrue/effect/behit_007"},{ID:5,spinePath:"textrue/effect/behit_003"},{ID:6,spinePath:"textrue/effect/behit_014"},{ID:7,spinePath:"textrue/skilleffect/skill7"},{ID:8,spinePath:"textrue/skilleffect/skill5"},{ID:9,spinePath:"textrue/skilleffect/skill8"}],window.g_audios={hallBg:"sound/hallBg",gameBg:"sound/gameBg",gamejjBg:"sound/jingjic",click:"sound/click",click0:"sound/click0",gxhd:"sound/congratulations",win:"sound/win",lose:"sound/lose",levelup:"sound/levelup",warning:"sound/warning",baozha:"sound/baozha",buff1:"sound/buff1",buff2:"sound/buff2",dalei:"dalei",dao:"dao",daodi:"daodi",feiwen:"feiwen",feng:"feng",hit1:"hit1",hitchui:"hitchui",hitdang:"hitdang",hitding:"hitding",hitdong:"hitdong",hitdun:"hitdun",hithuo:"hithuo",jijiao1:"jijiao1",jijiao2:"jijiao2",jijiao3:"jijiao3",jiqi:"jiqi",shejian:"shejian",swag1:"swag1",swag2:"swag2",swag3:"swag3",xuanzhuan:"xuanzhuan",paoxiao:"paoxiao",shui:"shui"},cc._RF.pop()},{}],resum:[function(t,e){"use strict";cc._RF.push(e,"86799c7zWZKSKVeAdyPJKYn","resum"),cc.Class({extends:cc.Component,properties:{timePro:cc.Sprite,timeLabel:cc.Label,_curMunite:3,_countNum:0,_curtime:180,_maxtime:180,_isTimePause:!1,_videoNum:0},onLoad:function(){this._curMunite=0,this._countNum=0,this.initTime()},initTime:function(){3==cc.vv.gameMgr.gameModel&&(this._curMunite=5),this._maxtime=60*this._curMunite,this._curtime=this._maxtime,this.timeLabel.string=this._curMunite,this.timePro.fillRange=this._curtime/this._maxtime},onShowVideo:function(){1==this._videoNum&&(g_gameContol.restartGame(),this.node.destroy()),this._videoNum=0},onBtnClick:function(t){var e=this;cc.vv.gameMgr.playEffect(g_audios.click),Util.isRunFast(.5)||"btn_fuhuo"==t.target.name&&(G_isMobile?(this._videoNum=0,this._isTimePause=!0,g_h5Mgr.showRewardVideoAd(function(t){t?(e._videoNum=1,e.onShowVideo()):e._isTimePause=!1})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._isTimePause=!0,this._videoNum=1,this.onShowVideo()))},update:function(){var t=this;this._isTimePause||0!=this._curMunite&&(this._curtime--,this.timePro.fillRange=this._curtime/this._maxtime,this._countNum++,60==this._countNum&&(this._countNum=0,this._curMunite--,this.timeLabel.string=this._curMunite,0==this._curMunite&&(this._isTimePause=!0,this.scheduleOnce(function(){g_gameContol.showOver(!1),t.node.destroy()},.2))))}}),cc._RF.pop()},{}],set:[function(t,e,a){"use strict";cc._RF.push(e,"ee0e6glimRCd6PYjZWKdgR6","set");var i,r=a,n=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),s=function(t,e,a,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,i);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(s=(n<3?r(s):n>3?r(e,a,s):r(e,a))||s);return n>3&&s&&Object.defineProperty(e,a,s),s};Object.defineProperty(r,"__esModule",{value:!0});var o=cc._decorator,l=o.ccclass,g=o.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicNode=null,e.soundNode=null,e.btnys=null,e.btnyh=null,e.btncontinue=null,e.btnback=null,e._checkMusic=null,e._checkSound=null,e._musicSlider=null,e._soundSlider=null,e._pnode=null,e}return n(e,t),e.prototype.start=function(){this._checkMusic=this.musicNode.getChildByName("checkMusic"),this._checkSound=this.soundNode.getChildByName("checkSound"),this._musicSlider=this.musicNode.getChildByName("mslider"),this._soundSlider=this.soundNode.getChildByName("sslider"),this._checkMusic.getComponent("CheckBtn").check(cc.vv.gameMgr.musicValue),this._checkSound.getComponent("CheckBtn").check(cc.vv.gameMgr.soundValue),this.updataValue(0),this.updataValue(1),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},e.prototype.initSet=function(t){this._pnode=t,this.btnys.active=!1,this.btnyh.active=!1,this.btncontinue.active=!0,this.btnback.active=!0},e.prototype.updataValue=function(t){var e=0==t?this._musicSlider:this._soundSlider,a=0==t?cc.vv.gameMgr.volumeValue:cc.vv.gameMgr.yxValua;e.getChildByName("pro").getComponent(cc.Sprite).fillRange=a,e.getComponent(cc.Slider).progress=a},e.prototype.onSlideClick=function(t){if("mslider"==t.node.name){var e=this._musicSlider.getComponent(cc.Slider).progress;this._musicSlider.getChildByName("pro").getComponent(cc.Sprite).fillRange=e,cc.vv.gameMgr.volumeValue=e,cc.vv.audioMgr.setMusicVolume(e);var a=!(0==e);cc.vv.gameMgr.musicValue!=a&&(this._checkMusic.getComponent("CheckBtn").check(a),cc.vv.gameMgr.setMusic(a))}"sslider"==t.node.name&&(e=this._soundSlider.getComponent(cc.Slider).progress,this._soundSlider.getChildByName("pro").getComponent(cc.Sprite).fillRange=e,cc.vv.gameMgr.yxValua=e,a=!(0==e),cc.vv.gameMgr.soundValue!=a&&(this._checkSound.getComponent("CheckBtn").check(a),cc.vv.gameMgr.setSound(a)))},e.prototype.onBtnClick=function(t){if(!window.Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(window.g_audios.click),"btn_close"==t.target.name)null!=this._pnode&&window.g_gameContol.setPause(!1),this.destroyFun();else if("soundHandle"==t.target.name){var e=this._soundSlider.getComponent(cc.Slider).progress;this._soundSlider.getChildByName("pro").getComponent(cc.Sprite).fillRange=e,cc.vv.gameMgr.yxValua=e;var a=!(0==e);cc.vv.gameMgr.soundValue!=a&&(this._checkSound.getComponent("CheckBtn").check(a),cc.vv.gameMgr.setSound(a))}else if("musicHandle"==t.target.name)e=this._musicSlider.getComponent(cc.Slider).progress,this._musicSlider.getChildByName("pro").getComponent(cc.Sprite).fillRange=e,cc.vv.gameMgr.volumeValue=e,cc.vv.audioMgr.setMusicVolume(e),a=!(0==e),cc.vv.gameMgr.musicValue!=a&&(this._checkMusic.getComponent("CheckBtn").check(a),cc.vv.gameMgr.setMusic(a));else if("checkMusic"==t.target.name)(i=t.target.getComponent(cc.Toggle)).isChecked&&(cc.vv.gameMgr.smValue=1),cc.vv.gameMgr.setMusic(i.isChecked),this.updataValue(0);else if("checkSound"==t.target.name){var i;(i=t.target.getComponent(cc.Toggle)).isChecked&&(cc.vv.gameMgr.ssValue=1),cc.vv.gameMgr.setSound(i.isChecked),this.updataValue(1)}else if("btn_yh"==t.target.name);else if("btn_ys"==t.target.name);else if("btn_continue"==t.target.name){if(null==this._pnode)return;null!=(r=this._pnode.getComponent("game"))&&r.setPause(!1),this.destroyFun()}else if("btn_back"==t.target.name){if(null==this._pnode)return;var r;if(3==cc.vv.gameMgr.gameModel||2==cc.vv.gameMgr.gameModel)return null!=(r=this._pnode.getComponent("game"))&&r.setGameOver(!1,1),void this.destroyFun();cc.vv.sceneMgr.openScene("Hall",function(){cc.log("-------Hall------")})}},e.prototype.destroyFun=function(){this.node.destroy()},s([g(cc.Node)],e.prototype,"musicNode",void 0),s([g(cc.Node)],e.prototype,"soundNode",void 0),s([g(cc.Node)],e.prototype,"btnys",void 0),s([g(cc.Node)],e.prototype,"btnyh",void 0),s([g(cc.Node)],e.prototype,"btncontinue",void 0),s([g(cc.Node)],e.prototype,"btnback",void 0),s([l],e)}(cc.Component);r.default=c,cc._RF.pop()},{}],skillCD:[function(t,e){"use strict";cc._RF.push(e,"784bfUxuQ9NF4A/uxvZ8voD","skillCD"),cc.Class({extends:cc.Component,properties:{_skillData:null,_maxTime:0,_curTime:0,_countTime:0,_buffCd:0},onLoad:function(){this.spritePro=this.node.getChildByName("cdpro").getComponent(cc.Sprite),this._time=this.node.getChildByName("time"),this._okNode=this.node.getChildByName("cdok"),this._icon=this.node.getChildByName("icon")},setbuffCD:function(t){this._buffCd=t.value/100},setCD:function(t){this._skillData=t;var e=this._skillData.CD-Math.ceil(this._skillData.CD*this._buffCd);this._maxTime=60*e,this._curTime=this._maxTime,this._countTime=e,this.spritePro.fillRange=0,this.spritePro.node.active=!0,this._okNode.active=!1,this._icon.color=cc.Color.fromHEX(cc.color(0,0,0),"#959595")},showOK:function(){this._okNode.active=!0;var t=this._okNode.getComponent(sp.Skeleton);t.setAnimation(0,"appear",!1),t.setCompleteListener(function(e){"appear"==(e.animation?e.animation.name:"")&&t.setAnimation(0,"loop",!0)}),this._icon.color=cc.Color.fromHEX(cc.color(0,0,0),"#FFFFFF")},updataTime:function(){if(0==this._countTime||g_gameContol._isOver)return this.unschedule(this.updataTime),void(this._time.active=!1);this._countTime--,this._time.getComponent(cc.Label).string=this._countTime},update:function(){g_gameContol._isOver||0!=this._curTime&&(this._curTime--,this.spritePro.fillRange=1-this._curTime/this._maxTime,0==this._curTime&&(this.spritePro.fillRange=1,this.showOK()))}}),cc._RF.pop()},{}],skillUp:[function(t,e){"use strict";cc._RF.push(e,"00743GitK9IAa53lHpx31h5","skillUp"),cc.Class({extends:cc.Component,properties:{skillNode:cc.Node,sjAni:cc.Node,_parentNode:cc.Node,_pparentNode:cc.Node},onLoad:function(){this._bg=this.node.getChildByName("bg"),this._suo=this.node.getChildByName("suo"),this._skillAtlas=g_getAtlas(g_skinAtlas.skill),cc.vv.gameMgr.showLayerAni(this._suo),cc.vv.gameMgr.showLayerAni(this._bg)},initSkill:function(t,e){this._parentNode=t,this._pparentNode=e,this._skillData=t._skillData,this.updataShowSkill()},updataShowSkill:function(){var t=g_DataMgr.towerInfo.skillLvMap[""+this._skillData.ID],e=this._skillData.coin.length,a=g_getDataInArr(this._skillData.name,cc.vv.gameMgr.stringList.skillStr);this._parentNode.getChildByName("suo").active?(this._suo.active=!0,this.skillNode=this._suo.getChildByName("skillbg")):this._bg.active=!0,this.skillNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("skill_"+this._skillData.ID),this.skillNode.getChildByName("skillname").getComponent(cc.Label).string=a.strName,this.skillNode.getChildByName("lv").getComponent(cc.Label).string="Lv."+(1+t);var i=g_getDataInArr(this._skillData.string[t],cc.vv.gameMgr.stringList.jdskillStr);this.skillNode.getChildByName("ms").getComponent(cc.Label).string=i.strMs;var r=this._bg.getChildByName("xh");if(this._parentNode.getChildByName("suo").active){var n="";return"task"===this._skillData.jsType&&(n="\u5b8c\u6210\u4efb\u52a1"+this._skillData.jsLv+"\u89e3\u9501"),"juying"===this._skillData.jsType&&(n="\u519b\u8425"+this._skillData.jsLv+"\u7ea7\u89e3\u9501"),void(this._suo.getChildByName("jsts").getComponent(cc.Label).string=n)}r.getChildByName("xh_1").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("skill_"+(this._skillData.cardID-60));var s="<outline color=#75420C width=2><color=#ffffff>"+g_DataMgr.pinfo.coin+"</c><color=#ffffff>/"+this._skillData.coin[t];g_DataMgr.pinfo.coin<this._skillData.coin[t]&&(s="<outline color=#75420C width=2><color=#ff0000>"+g_DataMgr.pinfo.coin+"</c><color=#ffffff>/"+this._skillData.coin[t]),r.getChildByName("xh_0").getChildByName("num").getComponent(cc.RichText).string=s;var o="<outline color=#75420C width=2><color=#ffffff>"+g_DataMgr.pinfo.skillStone[this._skillData.cardID-60]+"</c><color=#ffffff>/"+this._skillData.cardNum[t];g_DataMgr.pinfo.skillStone[this._skillData.cardID-60]<this._skillData.cardNum[t]&&(o="<outline color=#75420C width=2><color=#ff0000>"+g_DataMgr.pinfo.skillStone[this._skillData.cardID-60]+"</c><color=#ffffff>/"+this._skillData.cardNum[t]),r.getChildByName("xh_1").getChildByName("num").getComponent(cc.RichText).string=o,this._parentNode.getChildByName("lv").getComponent(cc.Label).string="Lv."+(1+t),this._bg.getChildByName("btn_th").active=this._skillData.ID!=g_DataMgr.towerInfo.skillID&&!this._parentNode.getChildByName("suo").active,this._bg.getChildByName("btn_qh").x=this._skillData.ID==g_DataMgr.towerInfo.skillID?0:150,this._parentNode.getChildByName("red").active=!1,t>=e-1?(this._bg.getChildByName("btn_qh").active=!1,this._bg.getChildByName("btn_th").x=0):this._parentNode.getChildByName("suo").active||g_DataMgr.pinfo.skillStone[this._skillData.cardID-60]>=this._skillData.cardNum[t]&&this._skillData.coin[t]<=g_DataMgr.pinfo.coin&&(this._parentNode.getChildByName("red").active=!0)},showsjAni:function(){var t=this;this.sjAni.active=!0;var e=this.sjAni.getComponent(sp.Skeleton);e.setAnimation(0,"shengji",!1),e.setCompleteListener(function(e){e.animation&&e.animation.name,t.sjAni.active=!1}),cc.vv.gameMgr.playEffect(g_audios.levelup)},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_qh"==t.target.name){12==g_DataMgr.g_guideJDNum&&g_hallContol.showGuideJD(!1);var e=g_DataMgr.towerInfo.skillLvMap[""+this._skillData.ID];if(e>=this._skillData.coin.length-1)return;if(g_DataMgr.pinfo.skillStone[this._skillData.cardID-60]<this._skillData.cardNum[e])return void cc.vv.configMgr.addTips("\u6280\u80fd\u5361\u7247\u4e0d\u8db3!");if(this._skillData.coin[e]>g_DataMgr.pinfo.coin)return void cc.vv.configMgr.addTips("\u91d1\u5e01\u4e0d\u8db3!");g_DataMgr.pinfo.skillStone[this._skillData.cardID-60]-=this._skillData.cardNum[e],g_DataMgr.pinfo.coin-=this._skillData.coin[e],g_DataMgr.savePinfo(),g_DataMgr.towerInfo.skillLvMap[""+this._skillData.ID]++,g_DataMgr.saveTower(),this.updataShowSkill(),this.showsjAni(),this._pparentNode.getComponent("UIbarrack").freshRed(),null!=g_hallContol&&g_hallContol.updataInfo()}else"btn_th"==t.target.name?(7==g_DataMgr.g_guideJDNum&&g_hallContol.showGuideJD(!1),g_DataMgr.towerInfo.skillID=this._skillData.ID,g_DataMgr.saveTower(),this._pparentNode.getComponent("UIbarrack").setChange(this._parentNode),this.destroyFun()):"btn_close"==t.target.name&&this.destroyFun()},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],towersjcg:[function(t,e){"use strict";cc._RF.push(e,"97ef5nijj5NELG2vHleXhCi","towersjcg"),cc.Class({extends:cc.Component,properties:{sxNode:cc.Node},onLoad:function(){this._twoSpine=this.node.getChildByName("tower").getComponent(sp.Skeleton),this._lv=this.sxNode.getChildByName("lv"),this._gj=this.sxNode.getChildByName("gj"),this._life=this.sxNode.getChildByName("life"),cc.vv.gameMgr.playEffect(g_audios.gxhd)},initTowerup:function(t){var e=this,a=t.getComponent("UIbarrack"),i=g_DataMgr.towerInfo.towerLv-1;if(null!=a){var r=g_getEffect(a._curTowerData.skinID,g_heroRes);cc.vv.configMgr.loadSpine(r,function(t){e._twoSpine.skeletonData=t,e._twoSpine.loop=!0,e._twoSpine.animation="jidi_idle",e._twoSpine.timeScale=1,e._twoSpine.setSkin("default")});var n=a._curTowerData.sxArr[0]+i*a._curTowerData.sxArr[1],s=g_getDataInArr(n,cc.vv.gameMgr.towerSxList);this._lv.getChildByName("lastlb").getComponent(cc.Label).string="Lv."+(i+1),this._lv.getChildByName("nextlb").getComponent(cc.Label).string="Lv."+(g_DataMgr.towerInfo.towerLv+1),this._gj.getChildByName("lastlb").getComponent(cc.Label).string=s.attack,this._gj.getChildByName("nextlb").getComponent(cc.Label).string=a._towerSXData.attack,this._life.getChildByName("lastlb").getComponent(cc.Label).string=s.HP,this._life.getChildByName("nextlb").getComponent(cc.Label).string=a._towerSXData.HP}this.showSJAni()},setAni:function(t,e){cc.tween(e).delay(t).to(.5,{scale:1},{easing:"backInOut"}).start()},showSJAni:function(){var t=this.node.getChildByName("effect").getComponent(sp.Skeleton),e=this.node.getChildByName("sx");e.scale=0,t.setCompleteListener(function(e){"open"==(e.animation?e.animation.name:"")&&t.setAnimation(0,"idle",!0)}),t.setAnimation(0,"open",!1),this.setAni(.2,e)},onBtnClick:function(t){Util.isRunFast(.5)||"btn_close"==t.target.name&&this.destroyFun()},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],tower:[function(t,e){"use strict";cc._RF.push(e,"59c24rGyOJIZoMy9aKxEz+6","tower"),cc.Class({extends:cc.Component,properties:{chItem:cc.Prefab,_curTowerData:null,_towerSXData:null,_heroInitData:null,_maxHP:0,_curHP:0,_curAni:null,_target:null,_hpNode:null,_isAttack:!1,_isCanAttack:!0,_hdNode:null,_chData:null,_buffID:null,_isEnemyTower:!1,_byHitNum:0,_wdEffect:null},onLoad:function(){this.chbtnNode=this.node.getChildByName("chNode"),this._hpPro=this.node.getChildByName("hp"),this._spine=this.node.getChildByName("body").getComponent(sp.Skeleton)},showCH:function(t){if(0!=t){this._chData=g_getDataInArr(t,cc.vv.gameMgr.chengHList);var e=cc.instantiate(this.chItem);this.chbtnNode.addChild(e),e.getChildByName("chspine").active=!0,e.getChildByName("chspine").getComponent(sp.Skeleton).setSkin(this._chData.skin),e._chID=t,this.node.getChildByName("chbuff").active=!0,this.node.getChildByName("chbuff").getComponent(sp.Skeleton).setSkin(this._chData.effectSkin),this.getCHBuff()}},getCHBuff:function(){var t=this._chData.buff;if(5012!=t&&5015!=t&&16!=this._chData.ID){var e=g_getDataInArr(t,cc.vv.gameMgr.buffList);if("attack"===e.type)this._towerSXData.attack+=Math.round(this._towerSXData.attack*e.value/100);else if("life"===e.type)this._towerSXData.HP+=Math.round(this._towerSXData.HP*e.value/100);else if("attackspeed"===e.type){var a=Math.round(this._towerSXData.intervalTime*e.value/100);this._towerSXData.intervalTime-=a,this._towerSXData.intervalTime<0&&(this._towerSXData.intervalTime=0)}else"crit"===e.type?this._towerSXData.crit+=e.value:"defence"===e.type?5009==t?this._buffID=t:this._towerSXData.hurtSub+=e.value:"glvAttack"===e.type&&this._towerSXData._buffArr.push(t);this.node.getChildByName("defence").active=5009==t}else this._buffID=t},initMyTower:function(){var t,e=this;this._isEnemyTower=!1,this._ID=g_DataMgr.towerInfo.towerID,this.node.getChildByName("body").scaleX=-1,this._curTowerData=g_getDataInArr(this._ID,cc.vv.gameMgr.towerArr);var a=g_DataMgr.towerInfo.towerLv,i=this._curTowerData.sxArr[0]+a*this._curTowerData.sxArr[1];this._towerSXData=g_getDataInArr(i,cc.vv.gameMgr.towerSxList),this._towerSXData._buffArr=[],this.showCH(g_DataMgr.towerInfo.titleID),this._maxHP=this._towerSXData.HP,this._curHP=this._maxHP,0!=cc.vv.gameMgr.gameModel&&(this._hpNode=this._hpPro.getChildByName("mpro"),this._hpNode.active=!0,this._hpNode.getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP),null!=(t=g_getEffect(this._curTowerData.skinID,g_heroRes))&&cc.vv.configMgr.loadSpine(t,function(t){e._spine.skeletonData=t,e._spine.loop=!0,e._spine.animation="jidi_idle",e._spine.timeScale=1,e._spine.setSkin("default"),e.onAniCompleted()})},setZS:function(t){12==t.type&&(this._towerSXData.intervalTime=this._towerSXData.intervalTime-Math.ceil(this._towerSXData.intervalTime*t.value/100))},initETower:function(t){var e,a=this;this.starPos=this.node.position,this._isEnemyTower=!0,this._ID=t,this._curTowerData=g_getDataInArr(this._ID,cc.vv.gameMgr.towerArr),3==cc.vv.gameMgr.gameModel&&(this._curTowerData=g_getDataInArr(this._ID,cc.vv.gameMgr.jjtowerList)),this._towerSXData=this._curTowerData,this._towerSXData._buffArr=[],3==cc.vv.gameMgr.gameModel&&this.showCH(g_gameContol._levelData.chID),this._maxHP=this._curTowerData.HP,this._curHP=this._maxHP,0!=cc.vv.gameMgr.gameModel&&(this._hpNode=this._hpPro.getChildByName("epro"),this._hpNode.active=!0,this._hpNode.getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP),null!=(e=g_getEffect(this._curTowerData.skinID,g_heroRes))&&cc.vv.configMgr.loadSpine(e,function(t){a._spine.skeletonData=t,a._spine.loop=!0,a._spine.animation="jidi_idle",a._spine.timeScale=1,a._spine.setSkin("default"),a.onAniCompleted()})},playSoundEffect:function(t){var e=t.split("_");"sound"==e[0]&&cc.vv.gameMgr.playEffect(g_audios[e[e.length-1]])},createBullet:function(){var t=this,e=g_prefabPath.bulletPro;cc.vv.configMgr.loadPrefab(e,function(e){var a=cc.instantiate(e);if(null!=a){t.node.parent.addChild(a);var i=a.getComponent("bullet");null!=i&&i.initBullet(t.node)}})},onAniCompleted:function(){var t=this;this._spine.setStartListener(function(e){e.animation&&e.animation.name,t._spine.setTrackEventListener(e,function(e,a){console.log("-------towerevent-----",a),"shoot"==a.data.name&&(console.log("-------towershoot----------",a.data.name),t.createBullet()),t.playSoundEffect(a.data.name)})}),this._spine.setCompleteListener(function(e){var a=e.animation?e.animation.name:"";console.log("-------towerAni--------",a),"jidi_attack"==a&&(t._isAttack=!1,t.setChangeAnimate("jidi_idle",!0))})},setChangeAnimate:function(t,e){this._curAni!=t&&(this._curAni=t,this._spine.setAnimation(0,t,e))},setAttack:function(t){var e=this;if(this._isCanAttack&&!this._isAttack){this._isAttack=!0;var a=null;0==t&&(a="jidi_attack"),this.setChangeAnimate(a,!1),this._isCanAttack=!1,this.scheduleOnce(function(){e._isCanAttack=!0},this._towerSXData.intervalTime)}},setOpenHD:function(t){this._hdNode=G_createPrefab(g_loadPrefab.effect),null!=this._hdNode&&(this.node.addChild(this._hdNode),this._hdNode.getComponent("effect").initHD(t,1))},byAttack:function(t,e,a){var i=this;if(0!=this._curHP&&null==this._wdEffect){var r=t.getComponent("general");if(null==r&&(r=t.getComponent("hero")),null==r&&(r=t.getComponent("monster")),null==r&&(r=t.getComponent("boss")),null==r&&(r=t.getComponent("enemy")),null==r&&(r=t.getComponent("ehero")),null==r&&(r=t.getComponent("bullet")),null==r&&(r=t),null!=r){var n=null,s=null;if(10==a)n=r._sxData,s=e;else{if(0==r._curHP)return;s=g_getDataInArr(e,cc.vv.gameMgr.skillList),r._heroSxData._buffArr=r._buffArr,n=r._heroSxData}if(null==s)return;if(null==s.target_Type||"enemy"==s.target_Type)return;var o=cc.vv.gameMgr.getAttackNum(n,this._towerSXData,s),l=o.rattack;if(0==this._byHitNum&&5012==this._buffID){var g=g_getDataInArr(this._buffID,cc.vv.gameMgr.buffList);return null==this._wdEffect?(this._wdEffect=G_createPrefab(g_loadPrefab.effect),null!=this._wdEffect&&(this.node.addChild(this._wdEffect),this._wdEffect.getComponent("effect").initTowerWD(),this._wdEffect._buffCount=1)):this._wdEffect._buffCount++,this.scheduleOnce(function(){null!=i._wdEffect&&(i._wdEffect._buffCount--,0==i._wdEffect._buffCount&&(i._wdEffect.destroy(),i._wdEffect=null))},g.time),void this._byHitNum++}if(0==l)return void r.showMissEffect();if(this.showHitEffect(s.hitEffectID),0!=l&&this.showAttackZi(l,o.bj,s.hitPZType),null!=this._hdNode?this._hdNode.getComponent("effect").setHDhp(l):this._curHP-=l,this._curHP<=0){this._curHP=0,this.setChangeAnimate("jidi_die",!1);var c=this._ID>100;g_gameContol.setGameOver(c)}this._hpNode.getComponent(cc.Sprite).fillRange=this._curHP/this._maxHP,this._byHitNum++}}},showMissEffect:function(){var t=G_createPrefab(g_loadPrefab.effect);null!=t&&(this.node.addChild(t),t.position=cc.v2(0,50),t.getComponent("effect").initEffectByAttack("textrue/effect/eff_miss"))},showHitEffect:function(t){var e=g_getEffect(t,g_effects),a=G_createPrefab(g_loadPrefab.effect);null!=a&&(this.node.addChild(a),a.position=cc.v2(0,100),a.getComponent("effect").initEffectByAttack(e))},showAttackZi:function(t,e,a){var i=this;cc.vv.configMgr.loadPrefab(g_prefabPath.piaozi,function(r){var n=cc.instantiate(r);i.node.addChild(n),n.x=0,n.y=150;var s=0;e?s=3:null!=a&&(s=a),n.getComponent("piaozi").showNumBytype(t,s,1)})},checkTarget:function(t){for(var e=null,a=0;a<t.length;++a)if(g_checkLen(this.node.position,t[a].position)<=this._curTowerData.attackDistance){e=t[a];break}return e},checkAttack:function(){null!=this._target&&null!=this._target.parent||(this._ID>100?this._target=this.checkTarget(g_gameContol._generalArr):this._target=this.checkTarget(g_gameContol._monsterArr)),null!=this._target&&null!=this._target.parent&&this.setAttack(0)},checkAddBuff:function(){if(16==this._chData.ID)for(var t=0;t<this._buffID.length;++t)this.setAddBuff(this._buffID[t]);else this.setAddBuff(this._buffID)},setAddBuff:function(t){if(5009==t||5015==t||5016==t||5050==t){var e=g_getDataInArr(t,cc.vv.gameMgr.buffList),a=g_gameContol._generalArr;this._isEnemyTower&&(a=g_gameContol._monsterArr);for(var i=0;i<a.length;++i){var r=a[i].getComponent("general");if(null==r&&(r=a[i].getComponent("hero")),null==r&&(r=a[i].getComponent("ehero")),null==r&&(r=a[i].getComponent("enemy")),null!=r){var n=g_checkLen(this.node.position,a[i].position),s=a[i].getChildByName("towerbuff");if(n<=e.cdistance){if(-1!=r._buffArr.findIndex(function(e){return e==t}))continue;r._buffArr.push(t),5015==t&&r.getZYBuffData(),s.active=!0}else{var o=r._buffArr.findIndex(function(e){return e==t});-1!=o&&(r._buffArr.splice(o,1),5015==t&&r.getZYBuffData(),s.active=!1)}}}}},update:function(){0!=this._curHP&&(null!=this._buffID&&this.checkAddBuff(),this.checkAttack())}}),cc._RF.pop()},{}],tsManghe:[function(t,e){"use strict";cc._RF.push(e,"f8a59xKZ4FFEbv5E5OIQTd7","tsManghe"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,btnvideo:cc.Node,btnlq:cc.Node,_isTimeOver:!1,_videoNum:0,_maxTime:5},onLoad:function(){this._maxTime=5,this._bg=this.node.getChildByName("bg"),this.btnvideo.getChildByName("sytime").getComponent(cc.Label).string="("+g_DataMgr.signData.mangheNum+"/"+this._maxTime+")",cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},onShowVideo:function(){if(1==this._videoNum){var t=this.node._pointNode;if(null!=t){var e=t.getComponent("fight");null!=e&&e.getMHaward()}g_DataMgr.signData.mangheNum--,g_DataMgr.saveSignData(),this.btnvideo.getChildByName("sytime").getComponent(cc.Label).string="("+g_DataMgr.signData.mangheNum+"/"+this._maxTime+")",this.destroyFun()}this._videoNum=0},onBtnClick:function(t){var e=this;if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_videolq"==t.target.name){if(g_DataMgr.signData.mangheNum<=0)return void cc.vv.configMgr.addTips("\u4eca\u65e5\u6b21\u6570\u5df2\u7528\u5b8c!");G_isMobile?(this._videoNum=0,g_h5Mgr.showRewardVideoAd(function(t){t&&(e._videoNum=1,e.onShowVideo())})):(console.log("\u6682\u672a\u63a5\u5165\u89c2\u770b\u89c6\u9891!"),this._videoNum=1,this.onShowVideo())}else if("btn_lq"==t.target.name){var a=this.node._pointNode;if(null!=a){var i=a.getComponent("fight");null!=i&&i.getMHaward()}this.destroyFun()}else"btn_close"==t.target.name&&this.destroyFun()},destroyFun:function(){this.node.destroy()},updataBtn:function(){this.btnvideo.active=!this._isTimeOver,this.btnlq.active=this._isTimeOver},update:function(){this._isTimeOver||(this.timeLabel.string=G_time(g_DataMgr.mhTime,0),0==g_DataMgr.mhTime&&(this._isTimeOver=!0,this.updataBtn()))}}),cc._RF.pop()},{}],wjInfo:[function(t,e){"use strict";cc._RF.push(e,"756fbSwIIdObplegxbnWdKJ","wjInfo"),cc.Class({extends:cc.Component,properties:{sxxqPre:cc.Prefab,msPro:cc.Prefab,msNode:cc.Node,headInfo:cc.Node,sxNode:cc.Node,skillNode:cc.Node,sjxhNode:cc.Node,sjAni:cc.Node,_parentNode:null,_sxNode:null,_generalID:null,_heroData:null,_curSaveHero:null,_heroSxData:null},onLoad:function(){this._jsArr=[6,10,14],this._maxLv=0,this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this._skillAtlas=g_getAtlas(g_skinAtlas.skill),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg")),12==g_DataMgr.g_guideNum&&g_hallContol.showGuide(!0),14==g_DataMgr.g_guideNum&&g_hallContol.showGuide(!0),6!=g_DataMgr.g_guideTaskNum&&16!=g_DataMgr.g_guideTaskNum||g_hallContol.showGuideTask(!0)},initWjInfo:function(t,e){this._parentNode=e,this._generalID=t,this._heroData=g_getDataInArr(t,cc.vv.gameMgr.generalList),this.updataShow()},showJSsx:function(t,e){for(var a=this.msNode.children,i=0;i<t.length;++i){var r=a[i];null==r&&(r=cc.instantiate(this.msPro),this.msNode.addChild(r)),r.getChildByName("ms").getComponent(cc.Label).string=t[i];var n=r.getChildByName("jsdj");n.getComponent(cc.Label).string=this._jsArr[i]+"\u7ea7\u89e3\u9501",n.active=e+1<this._jsArr[i],r.getChildByName("yjs").active=e+1>=this._jsArr[i],1==r.getChildByName("yjs").active&&(r.getChildByName("ms").color=cc.Color.fromHEX(cc.color(0,0,0),"#399116"))}},updataShow:function(){this._curSaveHero=g_getDataInArr(this._generalID,g_DataMgr.generalSaveArr);var t=this._curSaveHero.level,e=this._curSaveHero.pzLevel,a=g_getDataInArr(this._heroData.sxArr,cc.vv.gameMgr.generaljjList);this._maxLv=a.sxArr[e-this._heroData.quality].length,this._heroData.sxID=a.sxArr[e-this._heroData.quality][t],this._heroSxData=g_getDataInArr(this._heroData.sxID,cc.vv.gameMgr.generalSxList),this.headInfo.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("k_"+this._curSaveHero.pzLevel),this._curSaveHero.pzLevel>5&&(this.headInfo.getChildByName("sh").active=!0,this.headInfo.getChildByName("sh").getChildByName("lv").getComponent(cc.Label).string=e-5),this.headInfo.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame("head_"+this._heroData.ID),this.headInfo.getChildByName("lpz").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("l_"+this._curSaveHero.pzLevel),this.headInfo.getChildByName("lpz").getChildByName("lv").getComponent(cc.Label).string=t+1,this.headInfo.getChildByName("wq").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("sx_"+this._heroData.profession),this.headInfo.getChildByName("jin").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("sc_"+this._heroData.attackType);var i=this._curSaveHero.pzLevel>5?5:this._curSaveHero.pzLevel;this.headInfo.getChildByName("pz").getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("pz_"+i);var r=this.headInfo.getChildByName("sp");r.getChildByName("pro").getComponent(cc.Sprite).fillRange=this._curSaveHero.chipNum/this._heroSxData.card>=1?1:this._curSaveHero.chipNum/this._heroSxData.card,r.getChildByName("lb").getComponent(cc.Label).string=this._curSaveHero.chipNum+"/"+this._heroSxData.card,r.getChildByName("jiant").active=this._curSaveHero.chipNum>=this._heroSxData.card&&this._heroSxData.cost<=g_DataMgr.pinfo.coin,this.headInfo.getChildByName("zl").getChildByName("lb").getComponent(cc.Label).string=this._heroSxData.zl;var n=g_getDataInArr(this._heroData.name,cc.vv.gameMgr.stringList.heroNameStr);this.headInfo.getChildByName("name").getComponent(cc.Label).string=n.str,this.showJSsx(n.msstr,t),this.sxNode.getChildByName("xl").getChildByName("lb").getComponent(cc.Label).string=this._heroSxData.HP;var s=cc.vv.gameMgr.zgList[g_DataMgr.pinfo.level-1];this.sxNode.getChildByName("xl").getChildByName("add").getComponent(cc.Label).string="+"+Math.round(this._heroSxData.HP*s.HP/100),this.sxNode.getChildByName("gj").getChildByName("lb").getComponent(cc.Label).string=this._heroSxData.attack,this.sxNode.getChildByName("gj").getChildByName("add").getComponent(cc.Label).string="+"+Math.round(this._heroSxData.attack*s.attack/100);var o=this._heroData.skill[1];if(-1!=o){var l=g_getDataInArr(o,cc.vv.gameMgr.skillList),g=g_getDataInArr(l.string,cc.vv.gameMgr.stringList.skillStr);this.skillNode.getChildByName("bt").getComponent(cc.Label).string=g.strName,this.skillNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._skillAtlas.getSpriteFrame("gskill_"+o),this.skillNode.getChildByName("ms").getComponent(cc.Label).string=g.strMs}this.sjxhNode.getChildByName("lb").getComponent(cc.Label).string=this._heroSxData.cost,this.node.getChildByName("bg").getChildByName("exp").getComponent(cc.Label).string="\u5347\u7ea7\u540e\u4e3b\u516c\u7ecf\u9a8c+"+this._heroSxData.upgradeExp,this.node.getChildByName("bg").getChildByName("btn_sj").active=t<this._maxLv-1&&1==this._curSaveHero.getType,r.active=t<this._maxLv-1,this.sjxhNode.active=t<this._maxLv-1&&1==this._curSaveHero.getType,t<this._maxLv-1||(this.node.getChildByName("bg").getChildByName("exp").getComponent(cc.Label).string="\u5f53\u524d\u6b66\u5c06\u5df2\u6700\u9ad8\u7b49\u7ea7"),0==this._curSaveHero.szState?(this.node.getChildByName("bg").getChildByName("btn_sj").x=-130,this.node.getChildByName("bg").getChildByName("btn_sz").active=!0,this.node.getChildByName("bg").getChildByName("btn_sj").active||(this.node.getChildByName("bg").getChildByName("btn_sz").x=0)):(this.node.getChildByName("bg").getChildByName("btn_sj").x=0,this.node.getChildByName("bg").getChildByName("btn_sz").active=!1);var c=null!=g_DataMgr.gameInfo.gkCompelet[4]&&g_DataMgr.gameInfo.gkCompelet[4]>=5;this.node.getChildByName("bg").getChildByName("btn_sjie").active=c&&e-this._heroData.quality<MAX_JJLEVEL&&1==this._curSaveHero.getType,this.node.getChildByName("bg").getChildByName("exp").active=1==this._curSaveHero.getType,this.node.getChildByName("bg").getChildByName("btn_sz").active=1==this._curSaveHero.getType&&0==this._curSaveHero.szState},showWjsx:function(){if(null==this._sxNode){var t=cc.vv.gameMgr.zgList[g_DataMgr.pinfo.level-1];this._sxNode=cc.instantiate(this.sxxqPre),g_hallContol.node.addChild(this._sxNode);var e=this._sxNode.getChildByName("bg");e.getChildByName("gj").getChildByName("num").getComponent(cc.Label).string=this._heroSxData.attack+Math.round(this._heroSxData.attack*t.attack/100),e.getChildByName("life").getChildByName("num").getComponent(cc.Label).string=this._heroSxData.HP+Math.round(this._heroSxData.HP*t.HP/100),e.getChildByName("gs").getChildByName("num").getComponent(cc.Label).string=this._heroSxData.intervalTime,e.getChildByName("lq").getChildByName("num").getComponent(cc.Label).string=this._heroData.cdtime+"s",e.getChildByName("zh").getChildByName("num").getComponent(cc.Label).string=this._heroData.zgcost,e.getChildByName("gjtx").getChildByName("num").getComponent(cc.Label).string=this._heroData.attackTX,e.getChildByName("btn_closekb").on(cc.Node.EventType.TOUCH_END,this.onBtnClick,this)}},setGeneralSj:function(){this.updataShow();var t=this._parentNode.getComponent("wjItem");if(null!=t){var e=t._parentNode.getComponent("UIgeneral");null!=e&&(e.updataSZzl(this._generalID),e.updataGeneralList())}},showsjAni:function(){var t=this;this.sjAni.active=!0;var e=this.sjAni.getComponent(sp.Skeleton);e.setAnimation(0,"shengji",!1),e.setCompleteListener(function(e){e.animation&&e.animation.name,t.sjAni.active=!1}),cc.vv.gameMgr.playEffect(g_audios.levelup)},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_sj"==t.target.name){if(14==g_DataMgr.g_guideNum&&g_hallContol.showGuide(!1),this._curSaveHero.chipNum<this._heroSxData.card)return void cc.vv.configMgr.addTips("\u62e5\u6709\u6b66\u5c06\u5361\u724c\u6570\u4e0d\u8db3!");if(this._heroSxData.cost>g_DataMgr.pinfo.coin)return void cc.vv.configMgr.addTips("\u91d1\u5e01\u4e0d\u8db3!");this._curSaveHero.level+=1;var e=this._curSaveHero.level+1;e>=6&&e<10?this._curSaveHero.skillLv=1:e>=10&&e<14?this._curSaveHero.skillLv=2:14==e&&(this._curSaveHero.skillLv=3),this._curSaveHero.chipNum-=this._heroSxData.card,g_DataMgr.saveGeneralData(this._curSaveHero),g_DataMgr.pinfo.coin-=this._heroSxData.cost,g_DataMgr.savePinfo(),g_hallContol.checkLvup(this._heroSxData.upgradeExp),this.setGeneralSj(),this.showsjAni(),null!=g_hallContol&&g_hallContol.updataInfo()}else if("btn_sz"==t.target.name){if(12==g_DataMgr.g_guideNum&&g_hallContol.showGuide(!1),6==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1),16==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1),g_DataMgr.pinfo.curSZArr.length<5){this._curSaveHero.szState=1,g_DataMgr.saveGeneralData(this._curSaveHero),g_DataMgr.pinfo.curSZArr.push(this._generalID),g_DataMgr.savePinfo(),this.updataShow();var a=this._parentNode.getComponent("wjItem");if(null!=a){a.updataShowWJitem();var i=a._parentNode.getComponent("UIgeneral");null!=i&&i.freshShow()}}else{var r=this._parentNode.getComponent("wjItem");if(null!=r){var n=r._parentNode.getComponent("UIgeneral");null!=n&&n.setChange(this._parentNode)}}this.destroyFun()}else if("btn_sjie"==t.target.name){27==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1);var s=G_createPrefab(g_loadPrefab.wjSjie);null!=s&&(g_hallContol.node.addChild(s),s.getComponent("wjsjie").initSjie(this.node))}else"btn_sxxq"==t.target.name?this.showWjsx():"btn_close"==t.target.name?(15==g_DataMgr.g_guideNum&&g_hallContol.showGuide(!1),this.destroyFun()):"btn_closekb"==t.target.name&&null!=this._sxNode&&(this._sxNode.destroy(),this._sxNode=null)},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],wjItem:[function(t,e){"use strict";cc._RF.push(e,"7c8deDIiaFLWaVri2uq3rTJ","wjItem"),cc.Class({extends:cc.Component,properties:{pzSprite:cc.Sprite,lvpzSprite:cc.Node,icon:cc.Sprite,_generalID:null,_heroData:null,_curSaveHero:null,_heroSxData:null,_index:null,_parentNode:null},onLoad:function(){this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),this.node.on(cc.Node.EventType.TOUCH_END,this.onBtnClick,this)},initWJItem:function(t,e,a){this._generalID=t,this._index=e,this._parentNode=a,this._heroData=g_getDataInArr(t,cc.vv.gameMgr.generalList),this.updataShowWJitem(),this.lvpzSprite.active=1==this._curSaveHero.getType,this.node.getChildByName("suo").active=0==this._curSaveHero.getType,this.node.getChildByName("zl").active=1==this._curSaveHero.getType},checkWjCanjjie:function(t,e){var a=t.stone[e];if(null!=g_DataMgr.gameInfo.gkCompelet[4]&&g_DataMgr.gameInfo.gkCompelet[4]>=5&&e<MAX_JJLEVEL){for(var i=null,r=0;r<a.length;++r){var n=a[r][0],s=a[r][1],o=!0;if(1==n)g_DataMgr.pinfo.coin<s&&(o=!1);else if(n>50&&n<60){var l=n-50;g_DataMgr.pinfo.jxStone[l]<s&&(o=!1)}i=null==i?o:i&&o}if(null!=i)return i}return!1},updataShowWJitem:function(){this._curSaveHero=g_getDataInArr(this._generalID,g_DataMgr.generalSaveArr);var t=this._curSaveHero.level,e=this._curSaveHero.pzLevel,a=g_getDataInArr(this._heroData.sxArr,cc.vv.gameMgr.generaljjList);this._heroData.sxID=a.sxArr[e-this._heroData.quality][t],this._heroSxData=g_getDataInArr(this._heroData.sxID,cc.vv.gameMgr.generalSxList),this.pzSprite.spriteFrame=this._pzAlasData.getSpriteFrame("k_"+this._curSaveHero.pzLevel),this._curSaveHero.pzLevel>5&&(this.node.getChildByName("sh").active=!0,this.node.getChildByName("sh").getChildByName("lv").getComponent(cc.Label).string=e-5),this.icon.spriteFrame=this._atlasData.getSpriteFrame("head_"+this._heroData.ID),this.lvpzSprite.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("l_"+this._curSaveHero.pzLevel),this.lvpzSprite.getChildByName("lv").getComponent(cc.Label).string=t+1;var i=this.node.getChildByName("sp");i.getChildByName("pro").getComponent(cc.Sprite).fillRange=this._curSaveHero.chipNum/this._heroSxData.card>=1?1:this._curSaveHero.chipNum/this._heroSxData.card,i.getChildByName("lb").getComponent(cc.Label).string=this._curSaveHero.chipNum+"/"+this._heroSxData.card,i.getChildByName("jiant").active=this._curSaveHero.chipNum>=this._heroSxData.card&&this._heroSxData.cost<=g_DataMgr.pinfo.coin,this.node.getChildByName("zl").getChildByName("lb").getComponent(cc.Label).string=this._heroSxData.zl;var r=g_getDataInArr(this._heroData.name,cc.vv.gameMgr.stringList.heroNameStr);if(this.node.getChildByName("suo").getChildByName("ts").getComponent(cc.Label).string=r.get,this.node.getChildByName("ysz").active=1==this._curSaveHero.szState,i.active=1==this._curSaveHero.getType&&t<MAX_LEVEL-1,1==this._curSaveHero.getType){var n=e-this._heroData.quality,s=this.checkWjCanjjie(a,n);this.node.getChildByName("kjj").active=s,this.node.getChildByName("kjjeffect").active=s}},onBtnClick:function(){if(cc.vv.gameMgr.playEffect(g_audios.click),!Util.isRunFast(.5)){11==g_DataMgr.g_guideNum&&g_hallContol.showGuide(!1),5==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1),15==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1),26==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1);var t=G_createPrefab(g_loadPrefab.wjInfo);null!=t&&(g_hallContol.node.addChild(t),t.getComponent("wjInfo").initWjInfo(this._generalID,this.node))}}}),cc._RF.pop()},{}],wjsjie:[function(t,e){"use strict";cc._RF.push(e,"8d085cAOuxMPb3ynGIsgI5q","wjsjie");var a=[0,2250,2250,3900,4500,4500,4500,4500,4500];cc.Class({extends:cc.Component,properties:{infoNode:cc.Node,sinfoNode:cc.Node,xhNode:cc.Node,sjcgNode:cc.Node,_parentNode:null},onLoad:function(){this._xhArr=null,this._bg=this.node.getChildByName("bg"),this._propAlasData=g_getAtlas(g_skinAtlas.prop),this._pzAlasData=g_getAtlas(g_skinAtlas.pzk),this._atlasData=g_getAtlas(g_skinAtlas.head),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},initSjie:function(t){this._parentNode=t,this.updataShow()},updataShow:function(){var t=this._parentNode.getComponent("wjInfo");if(null!=t){this.infoNode.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("k_"+t._curSaveHero.pzLevel),t._curSaveHero.pzLevel>5&&(this.infoNode.getChildByName("sh").active=!0,this.infoNode.getChildByName("sh").getChildByName("lv").getComponent(cc.Label).string=t._curSaveHero.pzLevel-5),this.infoNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame("head_"+t._heroData.ID),this.infoNode.getChildByName("zl").getChildByName("lb").getComponent(cc.Label).string=t._heroSxData.zl,this.sinfoNode.getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("k_"+(t._curSaveHero.pzLevel+1)),t._curSaveHero.pzLevel+1>5&&(this.sinfoNode.getChildByName("sh").active=!0,this.sinfoNode.getChildByName("sh").getChildByName("lv").getComponent(cc.Label).string=t._curSaveHero.pzLevel+1-5),this.sinfoNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._atlasData.getSpriteFrame("head_"+t._heroData.ID);var e=t._curSaveHero.pzLevel;if(e-t._heroData.quality==3&&(this._bg.active=!1),this._bg.getChildByName("exp").getComponent(cc.Label).string="\u5347\u9636\u540e\u4e3b\u516c\u7ecf\u9a8c+"+a[e],this._bg.active){var i=t._curSaveHero.level,r=t._curSaveHero.pzLevel+1,n=g_getDataInArr(t._heroData.sxArr,cc.vv.gameMgr.generaljjList).sxArr[r-t._heroData.quality][i],s=g_getDataInArr(n,cc.vv.gameMgr.generalSxList);this.sinfoNode.getChildByName("zl").getChildByName("lb").getComponent(cc.Label).string=s.zl}this.showXHlist(t)}},showXHlist:function(t){if(null!=t){var e=t._curSaveHero.pzLevel,a=g_getDataInArr(t._heroData.sxArr,cc.vv.gameMgr.generaljjList).stone[e-t._heroData.quality];if(this._xhArr=a,e-t._heroData.quality>=MAX_JJLEVEL)return void(this._bg.active=!1);for(var i=this.xhNode.getChildByName("xh").children,r=0;r<a.length;++r){i[r].active=!0;var n=0,s=a[r][0];if(1==s)n=g_getBigNumAbb(g_DataMgr.pinfo.coin);else if(s>50&&s<60){var o=s-50;o>5&&(o=5),i[r].getComponent(cc.Sprite).spriteFrame=this._pzAlasData.getSpriteFrame("zb_"+o),i[r].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this._propAlasData.getSpriteFrame("s_"+s);var l=s-50;n=g_DataMgr.pinfo.jxStone[l]}i[r].getChildByName("num").getComponent(cc.Label).string="x"+n,i[r].getChildByName("xhnum").getComponent(cc.Label).string=n+"/"+a[r][1]}}},updataGeneral:function(t){var e=this.sjcgNode.getChildByName("role").getComponent(sp.Skeleton),a=g_getEffect(t,g_heroRes);cc.vv.configMgr.loadSpine(a,function(t){e.skeletonData=t,e.loop=!0,e.animation="idle",e.timeScale=1,e.setSkin("default")})},showSJCG:function(){cc.vv.gameMgr.playEffect(g_audios.gxhd),this.sjcgNode.active=!0;var t=this._parentNode.getComponent("wjInfo");if(null!=t){this.updataGeneral(t._curSaveHero.ID);var e=this.sjcgNode.getChildByName("sx"),a=t._curSaveHero.level,i=t._curSaveHero.pzLevel-1,r=g_getDataInArr(t._heroData.sxArr,cc.vv.gameMgr.generaljjList).sxArr[i-t._heroData.quality][a],n=g_getDataInArr(r,cc.vv.gameMgr.generalSxList);e.getChildByName("zl").getChildByName("lastlb").getComponent(cc.Label).string=n.zl,e.getChildByName("zl").getChildByName("nextlb").getComponent(cc.Label).string=t._heroSxData.zl,e.getChildByName("gj").getChildByName("lastlb").getComponent(cc.Label).string=n.attack,e.getChildByName("gj").getChildByName("nextlb").getComponent(cc.Label).string=t._heroSxData.attack,e.getChildByName("life").getChildByName("lastlb").getComponent(cc.Label).string=n.HP,e.getChildByName("life").getChildByName("nextlb").getComponent(cc.Label).string=t._heroSxData.HP}this.showSJAni()},setAni:function(t,e){cc.tween(e).delay(t).to(.5,{scale:1},{easing:"backInOut"}).start()},showSJAni:function(){var t=this.sjcgNode.getChildByName("effect").getComponent(sp.Skeleton),e=this.sjcgNode.getChildByName("info"),a=this.sjcgNode.getChildByName("sx");e.scale=0,a.scale=0,t.setCompleteListener(function(e){"open"==(e.animation?e.animation.name:"")&&t.setAnimation(0,"idle",!0)}),t.setAnimation(0,"open",!1),this.setAni(.2,e),this.setAni(.4,a)},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_sj"==t.target.name){var e=this._parentNode.getComponent("wjInfo");if(null!=e&&e._curSaveHero.pzLevel-e._heroData.quality>=MAX_JJLEVEL)return;for(var i=0;i<this._xhArr.length;++i){var r=this._xhArr[i][0],n=this._xhArr[i][1];if(1==r){if(g_DataMgr.pinfo.coin<n)return void cc.vv.configMgr.addTips("\u91d1\u5e01\u4e0d\u8db3!")}else if(r>50&&r<60){var s=r-50;if(g_DataMgr.pinfo.jxStone[s]<n)return void cc.vv.configMgr.addTips("\u89c9\u9192\u77f3\u4e0d\u8db3!")}}for(var o=0;o<this._xhArr.length;++o){var l=this._xhArr[o][0],g=this._xhArr[o][1];if(1==l)g_DataMgr.pinfo.coin-=g;else if(l>50&&l<60){var c=l-50;g_DataMgr.pinfo.jxStone[c]-=g}}if(g_DataMgr.savePinfo(),null!=e){if(null!=g_hallContol){var h=e._curSaveHero.pzLevel;g_hallContol.checkLvup(a[h]),h+1==4&&g_hallContol.checkChjs()}e._curSaveHero.pzLevel+=1,g_DataMgr.saveGeneralData(e._curSaveHero),e.setGeneralSj()}this.updataShow(),this.showSJCG(),null!=g_hallContol&&g_hallContol.updataInfo()}else"btn_cancel"==t.target.name?this.destroyFun():"btn_close"==t.target.name?this.destroyFun():"btn_closets"==t.target.name&&(this.sjcgNode.active=!1,this._bg.active||this.destroyFun())},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],zbup:[function(t,e){"use strict";cc._RF.push(e,"bc5400f+0pKjprvfZ0AGIo3","zbup");var a=[157,235,332],i=[-181,-257,-361],r=[230,300,410];cc.Class({extends:cc.Component,properties:{sxNode:[cc.Node],infoNode:cc.Node,btnNode:cc.Node,btnxx:cc.Node,btnzb:cc.Node,_curSxNode:null,_index:0,_goodData:null,_zbData:null,_parentNode:null},onLoad:function(){this._curSxNode=this.sxNode[this._index],this.pzAtlas=g_getAtlas(g_skinAtlas.pzk),this.zbAtlas=g_getAtlas(g_skinAtlas.zbicon),this.skillAtlas=g_getAtlas(g_skinAtlas.skill),this.sjAni=this.infoNode.getChildByName("sjani"),cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},initZb:function(t,e){this._goodData=t,this._parentNode=e,this._zbData=g_getDataInArr(this._goodData.gID,cc.vv.gameMgr.equipList),null!=this._zbData.skill&&null!=this._zbData.tzsx?this._index=2:null!=this._zbData.skill?this._index=1:this._index=0,this._curSxNode=this.sxNode[this._index],this._curSxNode.active=!0,this.infoNode.active=!0,this.infoNode.y=a[this._index],this.btnNode.active=!0,this.btnNode.getChildByName("btn_sj").y=i[this._index],this.btnNode.getChildByName("btn_close").y=r[this._index],this.btnxx.y=i[this._index],this.btnzb.y=i[this._index],this.infoNode.getComponent(cc.Sprite).spriteFrame=this.pzAtlas.getSpriteFrame("zb_"+this._zbData.quality),this.infoNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.zbAtlas.getSpriteFrame("zb_"+this._zbData.icon);var n=g_getDataInArr(this._zbData.icon,cc.vv.gameMgr.stringList.equipStr);this.infoNode.getChildByName("name").getComponent(cc.Label).string=n.strName,this.infoNode.getChildByName("posIntro").getComponent(cc.Label).string=n.strType,this.infoNode.getChildByName("ms").getComponent(cc.Label).string=n.strMs,this.updataShowsx()},updataShowsx:function(){var t=this._goodData.glv;this.infoNode.getChildByName("lv").getComponent(cc.Label).string="Lv."+(t+1);var e=this.infoNode.getChildByName("sp");e.getChildByName("pro").getComponent(cc.Sprite).fillRange=this._goodData.gNum/this._zbData.cost[t],e.getChildByName("lb").getComponent(cc.Label).string=this._goodData.gNum+"/"+this._zbData.cost[t];var a=this._curSxNode.getChildByName("sx").getChildByName("sxlist");a.getChildByName("xl").active=null!=this._zbData.HP&&0!=this._zbData.HP[t],a.getChildByName("gj").active=null!=this._zbData.Attack&&0!=this._zbData.Attack[t],a.getChildByName("xl").active&&(a.getChildByName("xl").getChildByName("lb").getComponent(cc.Label).string="+"+this._zbData.HP[t]+"%"),a.getChildByName("gj").active&&(a.getChildByName("gj").getChildByName("lb").getComponent(cc.Label).string="+"+this._zbData.Attack[t]+"%");var i=this._curSxNode.getChildByName("jnsx");if(null!=i){var r=this._zbData.skill[0],n=g_getDataInArr(r,cc.vv.gameMgr.stringList.skillStr);i.getChildByName("jnName").getComponent(cc.Label).string=n.strName,i.getChildByName("mslb").getComponent(cc.Label).string=n.strMs,i.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.skillAtlas.getSpriteFrame("zbskill_"+r)}if(this._curSxNode.getChildByName("tzsx"),this.btnNode.getChildByName("btn_sj").active=t<MAX_ZBLEVEL-1,this.btnNode.getChildByName("btn_sj").active||(this.btnxx.x=0,this.btnzb.x=0),"pf"===this._zbData.location)this._zbData.ID==g_DataMgr.pinfo.hasZBData[this._zbData.location]&&(this.btnxx.active=!1,this.btnzb.active=!1,this.btnNode.getChildByName("btn_sj").x=0);else{var s=this._zbData.ID==g_DataMgr.pinfo.hasZBData[this._zbData.location];this.btnxx.active=s,this.btnzb.active=!s}},showsjAni:function(){var t=this;this.sjAni.active=!0;var e=this.sjAni.getComponent(sp.Skeleton);e.setAnimation(0,"shengji",!1),e.setCompleteListener(function(e){e.animation&&e.animation.name,t.sjAni.active=!1}),cc.vv.gameMgr.playEffect(g_audios.levelup)},onBtnClick:function(t){if(!Util.isRunFast(.5))if(cc.vv.gameMgr.playEffect(g_audios.click),"btn_close"==t.target.name)33==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1),this.destroyFun();else if("btn_sj"==t.target.name){32==g_DataMgr.g_guideTaskNum&&g_hallContol.showGuideTask(!1);var e=this._goodData.glv;if(this._goodData.gNum<this._zbData.cost[e])return void cc.vv.configMgr.addTips("\u6240\u9700\u88c5\u5907\u6750\u6599\u4e0d\u8db3!");this._goodData.gNum-=this._zbData.cost[e],this._goodData.glv++,g_DataMgr.savePinfo(),this.updataShowsx(),this.showsjAni();var a=this._parentNode.getComponent("UIzb");null!=a&&(a.updatazb(),a.updataContent()),g_hallContol.freshRedPoint()}else if("btn_xx"==t.target.name){g_DataMgr.pinfo.hasZBData[this._zbData.location]=null,g_DataMgr.savePinfo();var i=this._parentNode.getComponent("UIzb");null!=i&&(i.updatazb(),i.updataContent()),g_hallContol.freshRedPoint(),this.destroyFun()}else if("btn_zb"==t.target.name){36==g_DataMgr.g_guideTaskNum&&(g_hallContol.showGuideTask(!1),g_DataMgr.gjsyData.guideZg=1,g_DataMgr.saveGjData());var r=this._parentNode.getComponent("UIzb");null!=r&&r.wearZB(this._goodData),g_DataMgr.savePinfo(),g_hallContol.freshRedPoint(),this.destroyFun()}},destroyFun:function(){this.node.destroy()}}),cc._RF.pop()},{}],zgUp:[function(t,e){"use strict";cc._RF.push(e,"369bePoS5hAgJ0J3/bKZRSz","zgUp"),cc.Class({extends:cc.Component,properties:{lvLabel:cc.Label,sxNode:cc.Node,lvNode:cc.Node},onLoad:function(){cc.vv.gameMgr.showLayerAni(this.node.getChildByName("bg"))},initZGlv:function(t){this.lvLabel.string=g_DataMgr.pinfo.level;var e=cc.vv.gameMgr.zgList[g_DataMgr.pinfo.level-1];this.sxNode.getChildByName("life").getComponent(cc.Label).string="+"+e.HP+"%",this.sxNode.getChildByName("gj").getComponent(cc.Label).string="+"+e.attack+"%",this.lvNode.getChildByName("lastlb").getComponent(cc.Label).string="Lv."+(g_DataMgr.pinfo.level-t),this.lvNode.getChildByName("nextlb").getComponent(cc.Label).string="Lv."+g_DataMgr.pinfo.level},onBtnClick:function(t){Util.isRunFast(.5)||(cc.vv.gameMgr.playEffect(g_audios.click),"btn_close"==t.target.name&&this.destroFun())},destroFun:function(){this.node.destroy()}}),cc._RF.pop()},{}]},{},["AddPfbToRoot","AudioMgr","CheckBtn","DataConst","DataEncrypt","Datamgr","Event","GameConst","GameMgr","GlobalMgr","Hall","SceneMgr","SingleCase","TCtuis","UIbarrack","UIgeneral","UIguaji","UInotice","UIrank","UIshop","UIsign","UItask","UIxsfl","UIyjzl","UIzb","UIzhug","algo","awardTip","boss","bullet","chInfo","effect","ehero","encryptjs","enemy","fight","gItem","game","gameBj","gameOver","gameSet","general","getAward","getGeneral","getts","gkCard","guideGame","guideHall","guideJD","guideTask","h5Mgr","headInfo","hero","jjIntro","jjshop","list","loading","monster","pageItem","pageView","piaozi","1","2","3","4","rankItem","resPath","resum","set","skillCD","skillUp","tower","towersjcg","tsManghe","wjInfo","wjItem","wjsjie","zbup","zgUp"]);